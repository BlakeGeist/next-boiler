{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n\nconst admin = require(\"firebase-admin\");\n\nexport default (async (req, res) => {\n  if (!admin.apps.length) admin.initializeApp({\n    credential: admin.credential.cert(require(\"../../credentials/server\"))\n  });\n  const req2 = await req;\n  if (!req2.body.token) return res.json({\n    status: 400\n  });\n  const {\n    token\n  } = req2.body;\n  admin.auth().verifyIdToken(token).then(async user => {\n    const db = admin.firestore();\n    const userDataCollection = db.collection('userData');\n    userDataCollection.doc(user.uid).get().then(doc => {\n      const userData = _objectSpread({}, user, doc.data());\n\n      return res.status(200).json({\n        user: userData\n      });\n    });\n  }).catch(error => {\n    res.json({\n      error: error\n    });\n  });\n});","map":null,"metadata":{},"sourceType":"module"}