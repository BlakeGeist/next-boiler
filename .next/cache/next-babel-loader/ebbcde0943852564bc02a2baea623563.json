{"ast":null,"code":"import axios from 'axios';\nimport absoluteUrl from '../../../helpers/getAbsoluteUrl';\nimport nextCookie from 'next-cookies';\nimport cookie from 'js-cookie';\nexport default (async ctx => {\n  const {\n    apiURL\n  } = absoluteUrl(ctx.req);\n  const {\n    token2\n  } = nextCookie(ctx);\n  const getUserResponse = await axios.post(`${apiURL}/api/getUserFromToken`, {\n    token: token2\n  });\n  const user = getUserResponse.data.user;\n  user ? ctx.reduxStore.dispatch({\n    type: \"SET_ITEM\",\n    name: \"user\",\n    payload: user\n  }) : cookie.remove('token2');\n  user ? ctx.reduxStore.dispatch({\n    type: \"SET_ITEM\",\n    name: \"isLoggedIn\",\n    payload: true\n  }) : \"\";\n});","map":null,"metadata":{},"sourceType":"module"}