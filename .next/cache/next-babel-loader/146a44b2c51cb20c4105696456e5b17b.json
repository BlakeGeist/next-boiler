{"ast":null,"code":"export default (ctx => {\n  const headers = ctx.req.headers;\n  const userRegionLang = headers[\"accept-language\"].split(\",\")[0].split(\"-\");\n  const userLang = userRegionLang[0];\n  const userRegion = userRegionLang[1].toLowerCase();\n\n  if (ctx.res && ctx.asPath === '/') {\n    ctx.res.writeHead(301, {\n      Location: `/${userLang}`,\n      // Add the content-type for SEO considerations\n      'Content-Type': 'text/html; charset=utf-8'\n    });\n    ctx.res.end();\n  }\n});","map":{"version":3,"sources":["C:/Users/Blake Geist/Documents/blakes-apps/react/next-firebase-boiler/src/app/pages/helpers/redirectIfNoLanguage.js"],"names":["ctx","headers","req","userRegionLang","split","userLang","userRegion","toLowerCase","res","asPath","writeHead","Location","end"],"mappings":"AAAA,gBAAgBA,GAAD,IAAS;AACpB,QAAMC,OAAO,GAAGD,GAAG,CAACE,GAAJ,CAAQD,OAAxB;AACA,QAAME,cAAc,GAAGF,OAAO,CAAC,iBAAD,CAAP,CAA2BG,KAA3B,CAAiC,GAAjC,EAAsC,CAAtC,EAAyCA,KAAzC,CAA+C,GAA/C,CAAvB;AACA,QAAMC,QAAQ,GAAGF,cAAc,CAAC,CAAD,CAA/B;AACA,QAAMG,UAAU,GAAGH,cAAc,CAAC,CAAD,CAAd,CAAkBI,WAAlB,EAAnB;;AACA,MAAIP,GAAG,CAACQ,GAAJ,IAAWR,GAAG,CAACS,MAAJ,KAAe,GAA9B,EAAmC;AAC/BT,IAAAA,GAAG,CAACQ,GAAJ,CAAQE,SAAR,CAAkB,GAAlB,EAAuB;AACnBC,MAAAA,QAAQ,EAAG,IAAGN,QAAS,EADJ;AAEnB;AACA,sBAAgB;AAHG,KAAvB;AAKAL,IAAAA,GAAG,CAACQ,GAAJ,CAAQI,GAAR;AACH;AACJ,CAbD","sourcesContent":["export default (ctx) => {\r\n    const headers = ctx.req.headers;\r\n    const userRegionLang = headers[\"accept-language\"].split(\",\")[0].split(\"-\");\r\n    const userLang = userRegionLang[0];\r\n    const userRegion = userRegionLang[1].toLowerCase();    \r\n    if (ctx.res && ctx.asPath === '/') {\r\n        ctx.res.writeHead(301, {\r\n            Location: `/${userLang}`,\r\n            // Add the content-type for SEO considerations\r\n            'Content-Type': 'text/html; charset=utf-8',\r\n        })\r\n        ctx.res.end()\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}