{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport clientCredentials from \"../credentials/client\";\nexport default (async ctx => {\n  if (!firebase.apps.length) {\n    firebase.initializeApp(clientCredentials);\n  }\n\n  ;\n  const db = firebase.app().firestore();\n  const pathWithoutLang = ctx.asPath.replace(`/${ctx.query.lang}/`, \"\").replace(\"/\", \"-\");\n  const usersRef = db.collection(\"strings\").doc(\"global\");\n  await usersRef.get().then(async docSnapshot => {\n    if (docSnapshot.exists) {\n      let pageStrings = db.collection(\"strings\").doc(pathWithoutLang).collection(\"strings\");\n      await pageStrings.get().then(snap => {\n        pageStrings = snap.docs.map(d => {\n          return {\n            [d.id]: d.data()\n          };\n        });\n\n        const objectizedStrings = _Object$assign({}, ...pageStrings);\n\n        ctx.reduxStore.dispatch({\n          type: \"SET_ITEM\",\n          name: \"pageStrings\",\n          payload: objectizedStrings\n        });\n      });\n    } else {}\n  });\n});","map":null,"metadata":{},"sourceType":"module"}