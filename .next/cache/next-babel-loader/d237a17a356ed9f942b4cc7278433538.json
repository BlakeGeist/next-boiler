{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Formik, Field } from \"formik\";\nimport { translate } from \"../helpers/quickHelpers\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nconst NewsLetterForm = ({\n  user,\n  lang,\n  strings\n}) => {\n  const initalEmail = user.email || '';\n  return __jsx(Formik, {\n    initialValues: {\n      email: initalEmail\n    },\n    validate: values => {\n      const errors = {};\n\n      if (!values.email) {\n        errors.email = \"Required\";\n      }\n\n      return errors;\n    },\n    onSubmit: async (values, {\n      setSubmitting\n    }) => {\n      const payload = {\n        email: values.email\n      };\n\n      if (user.uid) {\n        payload.uid = user.uid;\n      }\n\n      await axios.post(\"/api/addEmailToNewsLetter\", payload);\n    }\n  }, ({\n    errors,\n    touched,\n    handleSubmit,\n    isSubmitting\n  }) => __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-1547168735\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1547168735\"\n  }, translate(\"SIGN-UP-FOR-OUR-NEWSLETTER\", strings, lang)), __jsx(\"div\", {\n    className: \"jsx-1547168735\" + \" \" + \"newsLetter-inputs\"\n  }, __jsx(\"label\", {\n    className: \"jsx-1547168735\"\n  }, __jsx(Field, {\n    name: \"email\",\n    className: \"form-input\",\n    placeholder: translate(\"EMAIL\", strings, lang)\n  }), errors.email && touched.email && errors.email), __jsx(\"button\", {\n    type: \"submit\",\n    disabled: isSubmitting,\n    className: \"jsx-1547168735\"\n  }, translate(\"SUBMIT\", strings, lang))), __jsx(_JSXStyle, {\n    id: \"1547168735\"\n  }, [\"form.jsx-1547168735{text-align:left;}\", \".newsLetter-inputs.jsx-1547168735{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"])));\n};\n\nexport default connect(state => state)(NewsLetterForm);","map":null,"metadata":{},"sourceType":"module"}