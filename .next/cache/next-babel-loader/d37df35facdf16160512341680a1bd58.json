{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Blake Geist\\\\Documents\\\\blakes-apps\\\\react\\\\next-firebase-boiler\\\\src\\\\app\\\\components\\\\NewsLetterForm.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Formik, Field } from \"formik\";\nimport { translate } from \"../helpers/quickHelpers\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nvar NewsLetterForm = function NewsLetterForm(_ref) {\n  var user = _ref.user,\n      lang = _ref.lang,\n      strings = _ref.strings;\n  var initalEmail = user.email || '';\n  return __jsx(Formik, {\n    initialValues: {\n      email: initalEmail\n    },\n    validate: function validate(values) {\n      var errors = {};\n\n      if (!values.email) {\n        errors.email = \"Required\";\n      }\n\n      return errors;\n    },\n    onSubmit: /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, _ref2) {\n        var setSubmitting, payload;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setSubmitting = _ref2.setSubmitting;\n                payload = {\n                  email: values.email\n                };\n\n                if (user.uid) {\n                  payload.uid = user.uid;\n                }\n\n                _context.next = 5;\n                return axios.post(\"/api/addEmailToNewsLetter\", payload);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, function (_ref4) {\n    var errors = _ref4.errors,\n        touched = _ref4.touched,\n        handleSubmit = _ref4.handleSubmit,\n        isSubmitting = _ref4.isSubmitting;\n    return __jsx(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"jsx-1547168735\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1547168735\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, translate(\"SIGN-UP-FOR-OUR-NEWSLETTER\", strings, lang)), __jsx(\"div\", {\n      className: \"jsx-1547168735\" + \" \" + \"newsLetter-inputs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"jsx-1547168735\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, __jsx(Field, {\n      name: \"email\",\n      className: \"form-input\",\n      placeholder: translate(\"EMAIL\", strings, lang),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }\n    }), errors.email && touched.email && errors.email), __jsx(\"button\", {\n      type: \"submit\",\n      disabled: isSubmitting,\n      className: \"jsx-1547168735\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }\n    }, translate(\"SUBMIT\", strings, lang))), __jsx(_JSXStyle, {\n      id: \"1547168735\",\n      __self: _this\n    }, \"form.jsx-1547168735{text-align:left;}.newsLetter-inputs.jsx-1547168735{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQmxha2UgR2Vpc3RcXERvY3VtZW50c1xcYmxha2VzLWFwcHNcXHJlYWN0XFxuZXh0LWZpcmViYXNlLWJvaWxlclxcc3JjXFxhcHBcXGNvbXBvbmVudHNcXE5ld3NMZXR0ZXJGb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJDZ0MsQUFHeUMsQUFHSCxnQkFGakIsMERBR0EiLCJmaWxlIjoiQzpcXFVzZXJzXFxCbGFrZSBHZWlzdFxcRG9jdW1lbnRzXFxibGFrZXMtYXBwc1xccmVhY3RcXG5leHQtZmlyZWJhc2UtYm9pbGVyXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcTmV3c0xldHRlckZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEZvcm1paywgRmllbGQgfSBmcm9tIFwiZm9ybWlrXCI7XHJcbmltcG9ydCB7IHRyYW5zbGF0ZSB9IGZyb20gXCIuLi9oZWxwZXJzL3F1aWNrSGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuXHJcbmNvbnN0IE5ld3NMZXR0ZXJGb3JtID0gKHsgdXNlciwgbGFuZywgc3RyaW5ncyB9KSA9PiB7XHJcbiAgICBjb25zdCBpbml0YWxFbWFpbCA9IHVzZXIuZW1haWwgfHwgJyc7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxGb3JtaWtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17eyBlbWFpbDogaW5pdGFsRW1haWwgfX1cclxuICAgICAgICAgICAgdmFsaWRhdGU9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGlmICghdmFsdWVzLmVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLmVtYWlsID0gXCJSZXF1aXJlZFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ycztcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25TdWJtaXQ9e2FzeW5jICh2YWx1ZXMsIHsgc2V0U3VibWl0dGluZyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB2YWx1ZXMuZW1haWxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHVzZXIudWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC51aWQgPSB1c2VyLnVpZFxyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoXCIvYXBpL2FkZEVtYWlsVG9OZXdzTGV0dGVyXCIsIHBheWxvYWQpXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgICB7KHtcclxuICAgICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICAgIHRvdWNoZWQsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTdWJtaXQsXHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmcsXHJcbiAgICAgICAgICAgIH0pID0+IChcclxuICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+e3RyYW5zbGF0ZShcIlNJR04tVVAtRk9SLU9VUi1ORVdTTEVUVEVSXCIsIHN0cmluZ3MsIGxhbmcpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3c0xldHRlci1pbnB1dHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIG5hbWU9XCJlbWFpbFwiIGNsYXNzTmFtZT1cImZvcm0taW5wdXRcIiBwbGFjZWhvbGRlcj17dHJhbnNsYXRlKFwiRU1BSUxcIiwgc3RyaW5ncywgbGFuZyl9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcnMuZW1haWwgJiYgdG91Y2hlZC5lbWFpbCAmJiBlcnJvcnMuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9Pnt0cmFuc2xhdGUoXCJTVUJNSVRcIiwgc3RyaW5ncywgbGFuZyl9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgICAgICBmb3JtIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLm5ld3NMZXR0ZXItaW5wdXRzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgPC9Gb3JtaWs+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChzdGF0ZSA9PiBzdGF0ZSkoTmV3c0xldHRlckZvcm0pO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\Blake Geist\\\\Documents\\\\blakes-apps\\\\react\\\\next-firebase-boiler\\\\src\\\\app\\\\components\\\\NewsLetterForm.js */\"));\n  });\n};\n\nexport default connect(function (state) {\n  return state;\n})(NewsLetterForm);","map":{"version":3,"sources":["C:/Users/Blake Geist/Documents/blakes-apps/react/next-firebase-boiler/src/app/components/NewsLetterForm.js"],"names":["React","Formik","Field","translate","connect","axios","NewsLetterForm","user","lang","strings","initalEmail","email","values","errors","setSubmitting","payload","uid","post","touched","handleSubmit","isSubmitting","state"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,QAA9B;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA6B;AAAA,MAA1BC,IAA0B,QAA1BA,IAA0B;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AAChD,MAAMC,WAAW,GAAGH,IAAI,CAACI,KAAL,IAAc,EAAlC;AACA,SACI,MAAC,MAAD;AACI,IAAA,aAAa,EAAE;AAAEA,MAAAA,KAAK,EAAED;AAAT,KADnB;AAEI,IAAA,QAAQ,EAAE,kBAAAE,MAAM,EAAI;AAChB,UAAMC,MAAM,GAAG,EAAf;;AACA,UAAI,CAACD,MAAM,CAACD,KAAZ,EAAmB;AACfE,QAAAA,MAAM,CAACF,KAAP,GAAe,UAAf;AACH;;AACD,aAAOE,MAAP;AACH,KARL;AASI,IAAA,QAAQ;AAAA,2EAAE,iBAAOD,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiBE,gBAAAA,aAAjB,SAAiBA,aAAjB;AACAC,gBAAAA,OADA,GACU;AACZJ,kBAAAA,KAAK,EAAEC,MAAM,CAACD;AADF,iBADV;;AAIN,oBAAGJ,IAAI,CAACS,GAAR,EAAa;AACTD,kBAAAA,OAAO,CAACC,GAAR,GAAcT,IAAI,CAACS,GAAnB;AACH;;AANK;AAAA,uBAOAX,KAAK,CAACY,IAAN,CAAW,2BAAX,EAAwCF,OAAxC,CAPA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;AAAA,OATZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAmBK;AAAA,QACGF,MADH,SACGA,MADH;AAAA,QAEGK,OAFH,SAEGA,OAFH;AAAA,QAGGC,YAHH,SAGGA,YAHH;AAAA,QAIGC,YAJH,SAIGA,YAJH;AAAA,WAMG;AAAM,MAAA,QAAQ,EAAED,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMhB,SAAS,CAAC,4BAAD,EAA+BM,OAA/B,EAAwCD,IAAxC,CAAf,CADJ,EAEI;AAAA,0CAAe,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAC,YAA9B;AAA2C,MAAA,WAAW,EAAEL,SAAS,CAAC,OAAD,EAAUM,OAAV,EAAmBD,IAAnB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEKK,MAAM,CAACF,KAAP,IAAgBO,OAAO,CAACP,KAAxB,IAAiCE,MAAM,CAACF,KAF7C,CADJ,EAKI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,QAAQ,EAAES,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+CjB,SAAS,CAAC,QAAD,EAAWM,OAAX,EAAoBD,IAApB,CAAxD,CALJ,CAFJ;AAAA;AAAA;AAAA,6vHANH;AAAA,GAnBL,CADJ;AA+CH,CAjDD;;AAmDA,eAAeJ,OAAO,CAAC,UAAAiB,KAAK;AAAA,SAAIA,KAAJ;AAAA,CAAN,CAAP,CAAwBf,cAAxB,CAAf","sourcesContent":["import React from \"react\";\r\nimport { Formik, Field } from \"formik\";\r\nimport { translate } from \"../helpers/quickHelpers\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nconst NewsLetterForm = ({ user, lang, strings }) => {\r\n    const initalEmail = user.email || '';\r\n    return (\r\n        <Formik\r\n            initialValues={{ email: initalEmail }}\r\n            validate={values => {\r\n                const errors = {};\r\n                if (!values.email) {\r\n                    errors.email = \"Required\";\r\n                }\r\n                return errors;\r\n            }}\r\n            onSubmit={async (values, { setSubmitting }) => {\r\n                const payload = {\r\n                    email: values.email\r\n                }\r\n                if(user.uid) {\r\n                    payload.uid = user.uid\r\n                } \r\n                await axios.post(\"/api/addEmailToNewsLetter\", payload)\r\n            }}\r\n        >\r\n            {({\r\n                errors,\r\n                touched,\r\n                handleSubmit,\r\n                isSubmitting,\r\n            }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>{translate(\"SIGN-UP-FOR-OUR-NEWSLETTER\", strings, lang)}</div>\r\n                    <div className=\"newsLetter-inputs\">\r\n                        <label>\r\n                            <Field name=\"email\" className=\"form-input\" placeholder={translate(\"EMAIL\", strings, lang)}/>\r\n                            {errors.email && touched.email && errors.email}\r\n                        </label>\r\n                        <button type=\"submit\" disabled={isSubmitting}>{translate(\"SUBMIT\", strings, lang)}</button>\r\n                    </div>                \r\n                    <style jsx>{`\r\n                    form {\r\n                        text-align: left;\r\n                    }\r\n                    .newsLetter-inputs {\r\n                        display: flex;\r\n                    }\r\n                `}</style>\r\n                </form>\r\n            )}\r\n        </Formik>\r\n    );\r\n};\r\n\r\nexport default connect(state => state)(NewsLetterForm);\r\n"]},"metadata":{},"sourceType":"module"}