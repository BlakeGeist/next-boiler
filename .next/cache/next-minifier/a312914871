{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"+80P\":function(t,e,n){\"use strict\";function r(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}function i(t){return Object.prototype.toString.call(t)}function o(t){return\"[object Function]\"===i(t)}function a(t){return t.replace(/[.?*+^$[\\]\\\\(){}|-]/g,\"\\\\$&\")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={\"http:\":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp(\"^\\\\/\\\\/\"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,\"i\")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},\"https:\":\"http:\",\"ftp:\":\"http:\",\"//\":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp(\"^\"+n.re.src_auth+\"(?:localhost|(?:(?:\"+n.re.src_domain+\")\\\\.)+\"+n.re.src_domain_root+\")\"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,\"i\")),n.re.no_http.test(r)?e>=3&&\":\"===t[e-3]?0:e>=3&&\"/\"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},\"mailto:\":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp(\"^\"+n.re.src_email_name+\"@\"+n.re.src_host_strict,\"i\")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c=\"a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]\",l=\"biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\\u0440\\u0444\".split(\"|\");function f(t){var e=t.re=n(\"sRdV\")(t.__opts__),r=t.__tlds__.slice();function s(t){return t.replace(\"%TLDS%\",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push(c),r.push(e.src_xn),e.src_tlds=r.join(\"|\"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),\"i\"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),\"i\"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),\"i\"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),\"i\");var u=[];function l(t,e){throw new Error('(LinkifyIt) Invalid schema \"'+t+'\": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach(function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,\"[object Object]\"===i(n))return!function(t){return\"[object RegExp]\"===i(t)}(n.validate)?o(n.validate)?r.validate=n.validate:l(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?l(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return\"[object String]\"===i(t)}(n)?l(e,n):u.push(e)}}),u.forEach(function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)}),t.__compiled__[\"\"]={validate:null,normalize:function(t,e){e.normalize(t)}};var f=Object.keys(t.__compiled__).filter(function(e){return e.length>0&&t.__compiled__[e]}).map(a).join(\"|\");t.re.schema_test=RegExp(\"(^|(?!_)(?:[><\\uff5c]|\"+e.src_ZPCc+\"))(\"+f+\")\",\"i\"),t.re.schema_search=RegExp(\"(^|(?!_)(?:[><\\uff5c]|\"+e.src_ZPCc+\"))(\"+f+\")\",\"ig\"),t.re.pretest=RegExp(\"(\"+t.re.schema_test.source+\")|(\"+t.re.host_fuzzy_test.source+\")|@\",\"i\"),function(t){t.__index__=-1,t.__text_cache__=\"\"}(t)}function h(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function p(t,e){var n=new h(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function d(t,e){if(!(this instanceof d))return new d(t,e);var n;e||(n=t,Object.keys(n||{}).reduce(function(t,e){return t||s.hasOwnProperty(e)},!1)&&(e=t,t={})),this.__opts__=r({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__=\"\",this.__text_cache__=\"\",this.__schemas__=r({},u,t),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},f(this)}d.prototype.add=function(t,e){return this.__schemas__[t]=e,f(this),this},d.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},d.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,o,a,s,u;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(i=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__[\"http:\"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__=\"\",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__[\"mailto:\"]&&t.indexOf(\"@\")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__=\"mailto:\",this.__index__=o,this.__last_index__=a)),this.__index__>=0},d.prototype.pretest=function(t){return this.re.pretest.test(t)},d.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},d.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(p(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(p(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},d.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,n){return t!==n[e-1]}).reverse(),f(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,f(this),this)},d.prototype.normalize=function(t){t.schema||(t.url=\"http://\"+t.url),\"mailto:\"!==t.schema||/^mailto:/i.test(t.url)||(t.url=\"mailto:\"+t.url)},d.prototype.onCompile=function(){},t.exports=d},\"+aGp\":function(t,e,n){\"use strict\";var r=/([A-Z])/g;t.exports=function(t){return t.replace(r,\"-$1\").toLowerCase()}},\"/h46\":function(t,e,n){n(\"cHUd\")(\"Map\")},\"/y+l\":function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"8uQm\"),o=n(\"JL7T\"),a=n(\"dyxW\"),s=n(\"U84a\"),u=n(\"yxyD\"),c=n(\"2NuI\"),l=function(t,e){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:u(t),entityRanges:s(t,e),data:t.getData().toObject()}},f=function(t,e,n,a){if(t instanceof i)n.push(l(t,e));else{t instanceof o||c(!1);var s=t.getParentKey(),u=a[t.getKey()]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},l(t,e),{children:[]});s?a[s].children.push(u):n.push(u)}};t.exports=function(t){var e={entityMap:{},blocks:[]};return e=function(t,e){var n=e.entityMap,r=[],i={},o={},s=0;return t.getBlockMap().forEach(function(t){t.findEntityRanges(function(t){return null!==t.getEntity()},function(e){var r=t.getEntityAt(e),i=a.stringify(r);o[i]||(o[i]=r,n[i]=\"\".concat(s),s++)}),f(t,n,r,i)}),{blocks:r,entityMap:n}}(t,e),e=function(t,e){var n=e.blocks,r=e.entityMap,i={};return Object.keys(r).forEach(function(e,n){var r=t.getEntity(a.unstringify(e));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:i}}(t,e)}},\"/y0H\":function(t,e,n){\"use strict\";t.exports={getRemovalRange:function(t,e,n,r,i){var o=n.split(\" \");o=o.map(function(t,e){if(\"forward\"===i){if(e>0)return\" \"+t}else if(e<o.length-1)return t+\" \";return t});for(var a,s=r,u=null,c=null,l=0;l<o.length;l++){if(t<(a=s+o[l].length)&&s<e)null!==u?c=a:(u=s,c=a);else if(null!==u)break;s=a}var f=r+n.length,h=u===r,p=c===f;return(!h&&p||h&&!p)&&(\"forward\"===i?c!==f&&c++:u!==r&&u--),{start:u,end:c}}}},\"0IKU\":function(t,e,n){\"use strict\";var r=n(\"i8i4\"),i=n(\"2NuI\"),o=n(\"OLzA\");t.exports=function(t){var e=r.findDOMNode(t.editorContainer);return e||i(!1),o(e.firstChild)||i(!1),e.firstChild}},\"0RQb\":function(t,e,n){\"use strict\";var r=n(\"3sOJ\");t.exports=function(t){var e=t.getSelection(),n=e.getEndKey(),i=t.getCurrentContent().getBlockForKey(n).getLength();return r.set(t,{selection:e.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},\"0Sc/\":function(t,e,n){n(\"CgoH\")(\"asyncIterator\")},\"0TRD\":function(t,e,n){\"use strict\";t.exports={BOLD:{fontWeight:\"bold\"},CODE:{fontFamily:\"monospace\",wordWrap:\"break-word\"},ITALIC:{fontStyle:\"italic\"},STRIKETHROUGH:{textDecoration:\"line-through\"},UNDERLINE:{textDecoration:\"underline\"}}},\"0iUn\":function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}n.d(e,\"a\",function(){return r})},\"0k/M\":function(t,e,n){n(\"CgoH\")(\"observable\")},\"158f\":function(t,e,n){\"use strict\";var r=n(\"CYTE\"),i=n(\"2NuI\");var o=r.isBrowser(\"Chrome\")?function(t){for(var e=t.cloneRange(),n=[],r=t.endContainer;null!=r;r=r.parentNode){var o=r===t.commonAncestorContainer;o?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var a,s=Array.from(e.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);e.setEndBefore(r)}i(!1)}:function(t){return Array.from(t.getClientRects())};t.exports=o},\"1Jbx\":function(t,e,n){\"use strict\";var r=n(\"CYTE\"),i=n(\"h/2P\"),o=n(\"JI+E\"),a=n(\"jH4x\"),s=n(\"YDMw\"),u=n(\"e/Ok\"),c=n(\"cmQj\"),l=n(\"Y/kH\"),f=n(\"pg4M\"),h=n(\"jyDg\"),p=n(\"C9ER\"),d=n(\"kDkJ\"),y=n(\"WJOU\"),g=r.isBrowser(\"Chrome\")?y:function(t){},m={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:u,onDragOver:c,onDragStart:l,onFocus:f,onInput:h,onKeyDown:p,onPaste:d,onSelect:y,onMouseUp:g,onKeyUp:g};t.exports=m},\"1qq2\":function(t,e,n){\"use strict\";var r;function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(\"lFJn\"),s=n(\"8uQm\"),u=n(\"JL7T\"),c=n(\"rAV9\"),l=n(\"TzU/\"),f=n(\"Z9sL\"),h=n(\"YVIB\"),p=n(\"rJY1\"),d=n(\"xocI\"),y=n(\"cwFY\"),g=n(\"JPcv\"),m=g.List,v=g.Map,b=g.OrderedSet,_=n(\"7/2Y\"),w=n(\"aB02\"),S=n(\"OLzA\"),E=n(\"GMIm\"),T=y(\"draft_tree_data_support\"),C=new RegExp(\"\\r\",\"g\"),k=new RegExp(\"\\n\",\"g\"),I=new RegExp(\"^\\n\",\"g\"),D=new RegExp(\"&nbsp;\",\"g\"),x=new RegExp(\"&#13;?\",\"g\"),A=new RegExp(\"&#8203;?\",\"g\"),O=[\"bold\",\"bolder\",\"500\",\"600\",\"700\",\"800\",\"900\"],N=[\"light\",\"lighter\",\"100\",\"200\",\"300\",\"400\"],M=[\"className\",\"href\",\"rel\",\"target\",\"title\"],R=[\"alt\",\"className\",\"height\",\"src\",\"width\"],L=(o(r={},h(\"public/DraftStyleDefault/depth0\"),0),o(r,h(\"public/DraftStyleDefault/depth1\"),1),o(r,h(\"public/DraftStyleDefault/depth2\"),2),o(r,h(\"public/DraftStyleDefault/depth3\"),3),o(r,h(\"public/DraftStyleDefault/depth4\"),4),r),P=v({b:\"BOLD\",code:\"CODE\",del:\"STRIKETHROUGH\",em:\"ITALIC\",i:\"ITALIC\",s:\"STRIKETHROUGH\",strike:\"STRIKETHROUGH\",strong:\"BOLD\",u:\"UNDERLINE\",mark:\"HIGHLIGHT\"}),F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(L).some(function(n){t.classList.contains(n)&&(e=L[n])}),e},B=function(t){if(!_(t))return!1;var e=t;return!(!e.href||\"http:\"!==e.protocol&&\"https:\"!==e.protocol&&\"mailto:\"!==e.protocol)},j=function(t){if(!E(t))return!1;var e=t;return!(!e.attributes.getNamedItem(\"src\")||!e.attributes.getNamedItem(\"src\").value)},q=function(t){var e=b();if(!S(t))return e;var n=t,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return e.withMutations(function(t){O.indexOf(r)>=0?t.add(\"BOLD\"):N.indexOf(r)>=0&&t.remove(\"BOLD\"),\"italic\"===i?t.add(\"ITALIC\"):\"normal\"===i&&t.remove(\"ITALIC\"),\"underline\"===o&&t.add(\"UNDERLINE\"),\"line-through\"===o&&t.add(\"STRIKETHROUGH\"),\"none\"===o&&(t.remove(\"UNDERLINE\"),t.remove(\"STRIKETHROUGH\"))})},K=function(t){return\"ul\"===t||\"ol\"===t},U=function(){function t(t,e){o(this,\"characterList\",m()),o(this,\"currentBlockType\",\"unstyled\"),o(this,\"currentDepth\",0),o(this,\"currentEntity\",null),o(this,\"currentStyle\",b()),o(this,\"currentText\",\"\"),o(this,\"wrapper\",null),o(this,\"blockConfigs\",[]),o(this,\"contentBlocks\",[]),o(this,\"entityMap\",l),o(this,\"blockTypeMap\",void 0),o(this,\"disambiguate\",void 0),this.clear(),this.blockTypeMap=t,this.disambiguate=e}var e=t.prototype;return e.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType=\"unstyled\",this.currentDepth=0,this.currentEntity=null,this.currentStyle=b(),this.currentText=\"\",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},e.addDOMNode=function(t){var e;return this.contentBlocks=[],this.currentDepth=0,(e=this.blockConfigs).push.apply(e,this._toBlockConfigs([t])),this._trimCurrentText(),\"\"!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},e.getContentBlocks=function(){return 0===this.contentBlocks.length&&(T?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},e.addStyle=function(t){this.currentStyle=this.currentStyle.union(t)},e.removeStyle=function(t){this.currentStyle=this.currentStyle.subtract(t)},e._makeBlockConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i({key:t.key||p(),type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},t);return this.characterList=m(),this.currentBlockType=\"unstyled\",this.currentText=\"\",e},e._toBlockConfigs=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.nodeName.toLowerCase();if(\"body\"===i||K(i)){this._trimCurrentText(),\"\"!==this.currentText&&e.push(this._makeBlockConfig());var o=this.currentDepth,a=this.wrapper;K(i)&&(this.wrapper=i,K(a)&&this.currentDepth++),e.push.apply(e,this._toBlockConfigs(Array.from(r.childNodes))),this.currentDepth=o,this.wrapper=a}else{var s=this.blockTypeMap.get(i);if(void 0===s)if(\"#text\"!==i)if(\"br\"!==i)if(j(r))this._addImgNode(r);else if(B(r))this._addAnchorNode(r,e);else{var u=P.has(i)?b.of(P.get(i)):b(),c=q(r);this.addStyle(u),this.addStyle(c),e.push.apply(e,this._toBlockConfigs(Array.from(r.childNodes))),this.removeStyle(c),this.removeStyle(u)}else this._addBreakNode(r);else this._addTextNode(r);else{this._trimCurrentText(),\"\"!==this.currentText&&e.push(this._makeBlockConfig());var l=this.currentDepth,f=this.wrapper;if(this.wrapper=\"pre\"===i?\"pre\":this.wrapper,\"string\"!==typeof s&&(s=this.disambiguate(i,this.wrapper)||s[0]||\"unstyled\"),!T&&S(r)&&(\"unordered-list-item\"===s||\"ordered-list-item\"===s)){var h=r;this.currentDepth=F(h,this.currentDepth)}var d=p(),y=this._toBlockConfigs(Array.from(r.childNodes));this._trimCurrentText(),e.push(this._makeBlockConfig({key:d,childConfigs:y,type:s})),this.currentDepth=l,this.wrapper=f}}}return e},e._appendText=function(t){var e;this.currentText+=t;var n=a.create({style:this.currentStyle,entity:this.currentEntity});this.characterList=(e=this.characterList).push.apply(e,Array(t.length).fill(n))},e._trimCurrentText=function(){var t=this.currentText.length,e=t-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry(function(t){return null!==t.getEntity()});(e=void 0!==r?Math.min(e,r[0]):e)>(n=void 0!==(r=this.characterList.reverse().findEntry(function(t){return null!==t.getEntity()}))?Math.max(n,t-r[0]):n)?(this.currentText=\"\",this.characterList=m()):(this.currentText=this.currentText.slice(e,n),this.characterList=this.characterList.slice(e,n))},e._addTextNode=function(t){var e=t.textContent;\"\"===e.trim()&&\"pre\"!==this.wrapper&&(e=\" \"),\"pre\"!==this.wrapper&&(e=(e=e.replace(I,\"\")).replace(k,\" \")),this._appendText(e)},e._addBreakNode=function(t){w(t)&&this._appendText(\"\\n\")},e._addImgNode=function(t){if(E(t)){var e=t,n={};R.forEach(function(t){var r=e.getAttribute(t);r&&(n[t]=r)}),this.currentEntity=this.entityMap.__create(\"IMAGE\",\"IMMUTABLE\",n),y(\"draftjs_fix_paste_for_img\")?\"presentation\"!==e.getAttribute(\"role\")&&this._appendText(\"\\ud83d\\udcf7\"):this._appendText(\"\\ud83d\\udcf7\"),this.currentEntity=null}},e._addAnchorNode=function(t,e){if(_(t)){var n=t,r={};M.forEach(function(t){var e=n.getAttribute(t);e&&(r[t]=e)}),r.url=new f(n.href).toString(),this.currentEntity=this.entityMap.__create(\"LINK\",\"MUTABLE\",r||{}),e.push.apply(e,this._toBlockConfigs(Array.from(t.childNodes))),this.currentEntity=null}},e._toContentBlocks=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.length-1,r=0;r<=n;r++){var o=t[r];o.parent=e,o.prevSibling=r>0?t[r-1].key:null,o.nextSibling=r<n?t[r+1].key:null,o.children=m(o.childConfigs.map(function(t){return t.key})),this.contentBlocks.push(new u(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},e._hoistContainersInBlockConfigs=function(t){var e=this;return m(t).flatMap(function(t){return\"unstyled\"!==t.type||\"\"!==t.text?[t]:e._hoistContainersInBlockConfigs(t.childConfigs)})},e._toFlatContentBlocks=function(t){var e=this;this._hoistContainersInBlockConfigs(t).forEach(function(t){var n=e._extractTextFromBlockConfigs(t.childConfigs),r=n.text,o=n.characterList;e.contentBlocks.push(new s(i({},t,{text:t.text+r,characterList:t.characterList.concat(o)})))})},e._extractTextFromBlockConfigs=function(t){for(var e=t.length-1,n=\"\",r=m(),i=0;i<=e;i++){var o=t[i];n+=o.text,r=r.concat(o.characterList),\"\"!==n&&\"unstyled\"!==o.type&&(n+=\"\\n\",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},t}();t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=e(t=t.trim().replace(C,\"\").replace(D,\" \").replace(x,\"\").replace(A,\"\"));if(!r)return null;var i=function(t){var e={};return t.mapKeys(function(t,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach(function(n){void 0===e[n]?e[n]=t:\"string\"===typeof e[n]?e[n]=[e[n],t]:e[n].push(t)})}),v(e)}(n);return new U(i,function(t,e){return\"li\"===t?\"ol\"===e?\"ordered-list-item\":\"unordered-list-item\":null}).addDOMNode(r).getContentBlocks()}},\"21VA\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",function(){return m});var r=n(\"pbKT\"),i=n.n(r),o=n(\"0iUn\"),a=n(\"sLSF\"),s=n(\"AT/M\"),u=n(\"Tit0\"),c=n(\"MI3g\"),l=n(\"a7VT\"),f=n(\"vYYK\"),h=n(\"q1tI\"),p=n.n(h),d=n(\"v83y\"),y=p.a.createElement;function g(t){return function(){var e,n=Object(l.a)(t);if(function(){if(\"undefined\"===typeof Reflect||!i.a)return!1;if(i.a.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(i()(Date,[],function(){})),!0}catch(t){return!1}}()){var r=Object(l.a)(this).constructor;e=i()(n,arguments,r)}else e=n.apply(this,arguments);return Object(c.a)(this,e)}}var m=function(t){Object(u.a)(n,t);var e=g(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(f.a)(Object(s.a)(t),\"onChange\",function(e){t.props.onChange(\"editorState\",e)}),Object(f.a)(Object(s.a)(t),\"focus\",function(){return t.refs.editor.focus()}),Object(f.a)(Object(s.a)(t),\"handleKeyCommand\",function(e){var n=t.props.editorState,r=d.RichUtils.handleKeyCommand(n,e);return!!r&&(t.onChange(r),!0)}),Object(f.a)(Object(s.a)(t),\"onTab\",function(e){t.onChange(d.RichUtils.onTab(e,t.props.editorState,4))}),Object(f.a)(Object(s.a)(t),\"toggleBlockType\",function(e){t.onChange(d.RichUtils.toggleBlockType(t.props.editorState,e))}),Object(f.a)(Object(s.a)(t),\"toggleInlineStyle\",function(e){t.onChange(d.RichUtils.toggleInlineStyle(t.props.editorState,e))}),t}return Object(a.a)(n,[{key:\"render\",value:function(){var t=this.props.editorState,e=\"RichEditor-editor\",n=t.getCurrentContent();return n.hasText()||\"unstyled\"!==n.getBlockMap().first().getType()&&(e+=\" RichEditor-hidePlaceholder\"),y(\"div\",{className:\"RichEditor-root\"},y(S,{editorState:t,onToggle:this.toggleBlockType}),y(T,{editorState:t,onToggle:this.toggleInlineStyle}),y(\"div\",{className:e,onClick:this.focus},y(d.Editor,{blockStyleFn:b,customStyleMap:v,editorState:t,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,placeholder:\"Tell a story...\",ref:\"editor\",spellCheck:!0})))}}]),n}(p.a.Component),v={CODE:{backgroundColor:\"rgba(0, 0, 0, 0.05)\",fontFamily:'\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',fontSize:16,padding:2}};function b(t){switch(t.getType()){case\"blockquote\":return\"RichEditor-blockquote\";default:return null}}var _=function(t){Object(u.a)(n,t);var e=g(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}return Object(a.a)(n,[{key:\"render\",value:function(){var t=\"RichEditor-styleButton\";return this.props.active&&(t+=\" RichEditor-activeButton\"),y(\"span\",{className:t,onMouseDown:this.onToggle},this.props.label)}}]),n}(p.a.Component),w=[{label:\"H1\",style:\"header-one\"},{label:\"H2\",style:\"header-two\"},{label:\"H3\",style:\"header-three\"},{label:\"H4\",style:\"header-four\"},{label:\"H5\",style:\"header-five\"},{label:\"H6\",style:\"header-six\"},{label:\"Blockquote\",style:\"blockquote\"},{label:\"UL\",style:\"unordered-list-item\"},{label:\"OL\",style:\"ordered-list-item\"},{label:\"Code Block\",style:\"code-block\"}],S=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return y(\"div\",{className:\"RichEditor-controls\"},w.map(function(e){return y(_,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},E=[{label:\"Bold\",style:\"BOLD\"},{label:\"Italic\",style:\"ITALIC\"},{label:\"Underline\",style:\"UNDERLINE\"},{label:\"Monospace\",style:\"CODE\"}],T=function(t){var e=t.editorState.getCurrentInlineStyle();return y(\"div\",{className:\"RichEditor-controls\"},E.map(function(n){return y(_,{key:n.label,active:e.has(n.style),label:n.label,onToggle:t.onToggle,style:n.style})}))}},\"2NuI\":function(t,e,n){\"use strict\";var r=function(t){if(void 0===t)throw new Error(\"invariant(...): Second argument must be a string.\")};t.exports=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(e),!t){var a;if(void 0===e)a=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var s=0;(a=new Error(e.replace(/%s/g,function(){return String(i[s++])}))).name=\"Invariant Violation\"}throw a.framesToPop=1,a}}},\"2mcs\":function(t,e,n){\"use strict\";var r=n(\"ohE5\");t.exports=r},\"3Br+\":function(t,e,n){\"use strict\";var r=n(\"3sOJ\"),i=n(\"jLRO\"),o=n(\"kWjT\"),a=n(\"8d//\");t.exports=function(t){var e=a(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),a=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(t,s?i.getUTF16Length(s,0):1)},\"backward\");if(e===t.getCurrentContent())return t;var n=t.getSelection();return r.push(t,e.set(\"selectionBefore\",n),n.isCollapsed()?\"backspace-character\":\"remove-range\")}},\"3FTO\":function(t,e,n){\"use strict\";var r=n(\"MX0m\"),i=n.n(r),o=n(\"q1tI\"),a=n.n(o),s=n(\"/MKj\"),u=a.a.createElement;e.a=Object(s.b)(function(t){return t})(function(t){var e=t.modalTarget,n=t.dispatch;Object(o.useEffect)(function(){return window.addEventListener(\"keydown\",a),function(){window.removeEventListener(\"keydown\",a)}},[]);var r=function(){n({type:\"SET_ITEM\",name:\"modalTarget\",payload:null})},a=function(t){\"Escape\"===t.key&&r()};return e?u(\"div\",{onKeyPress:function(t){return a(t)},className:\"jsx-2589857032 modal-bg\"},u(\"div\",{className:\"jsx-2589857032 modal\"},u(\"div\",{className:\"jsx-2589857032 modal-header\"},u(\"span\",{className:\"jsx-2589857032\"},\"This is the modal header\"),u(\"span\",{className:\"jsx-2589857032\"},u(\"a\",{onClick:r,href:\"\",className:\"jsx-2589857032\"},\"Close\"))),u(\"div\",{className:\"jsx-2589857032 modal-body\"},e,\"This is the modal body\"),u(\"div\",{className:\"jsx-2589857032 modal-footer\"},\"This is the modal footer\")),u(i.a,{id:\"2589857032\"},[\".modal-bg.jsx-2589857032{position:fixed;width:100%;height:100%;background-color:rgba(50,115,220,0.3);top:0;left:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\".modal.jsx-2589857032{background-color:#fff;padding:15px;min-width:500px;min-height:300px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\",\".modal-header.jsx-2589857032{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\",\".modal-body.jsx-2589857032{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}\",\"input.jsx-2589857032,textarea.jsx-2589857032{width:100%;}\"])):null})},\"3sOJ\":function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"L0q3\"),o=n(\"LpQA\"),a=n(\"VSmT\"),s=n(\"hMpd\"),u=n(\"JPcv\"),c=u.OrderedSet,l=u.Record,f=u.Stack,h=l({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:f(),selection:null,treeMap:null,undoStack:f()}),p=function(){e.createEmpty=function(t){return e.createWithContent(o.createFromText(\"\"),t)},e.createWithContent=function(t,n){if(0===t.getBlockMap().count())return e.createEmpty(n);var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:f(),redoStack:f(),decorator:n||null,selection:s.createEmpty(r)})},e.create=function(t){var n=t.currentContent,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},t,{treeMap:y(n,t.decorator),directionMap:a.getDirectionMap(n)});return new e(new h(i))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get(\"decorator\"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var a=n.currentContent||t.getCurrentContent();if(o!==r){var s,u=e.get(\"treeMap\");return s=o&&r?function(t,e,n,r,o){return n.merge(e.toSeq().filter(function(e){return r.getDecorations(e,t)!==o.getDecorations(e,t)}).map(function(e){return i.generate(t,e,r)}))}(a,a.getBlockMap(),u,o,r):y(a,o),void e.merge({decorator:o,treeMap:s,nativelyRenderedContent:null})}a!==t.getCurrentContent()&&e.set(\"treeMap\",function(t,e,n,r){var o=t.getCurrentContent().set(\"entityMap\",n),a=o.getBlockMap();return t.getImmutable().get(\"treeMap\").merge(e.toSeq().filter(function(t,e){return t!==a.get(e)}).map(function(t){return i.generate(o,t,r)}))}(t,a.getBlockMap(),a.getEntityMap(),o)),e.merge(n)}))};var t=e.prototype;function e(t){r(this,\"_immutable\",void 0),this._immutable=t}return t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get(\"allowUndo\")},t.getCurrentContent=function(){return this.getImmutable().get(\"currentContent\")},t.getUndoStack=function(){return this.getImmutable().get(\"undoStack\")},t.getRedoStack=function(){return this.getImmutable().get(\"redoStack\")},t.getSelection=function(){return this.getImmutable().get(\"selection\")},t.getDecorator=function(){return this.getImmutable().get(\"decorator\")},t.isInCompositionMode=function(){return this.getImmutable().get(\"inCompositionMode\")},t.mustForceSelection=function(){return this.getImmutable().get(\"forceSelection\")},t.getNativelyRenderedContent=function(){return this.getImmutable().get(\"nativelyRenderedContent\")},t.getLastChangeType=function(){return this.getImmutable().get(\"lastChangeType\")},t.getInlineStyleOverride=function(){return this.getImmutable().get(\"inlineStyleOverride\")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},t.getCurrentInlineStyle=function(){var t=this.getInlineStyleOverride();if(null!=t)return t;var e=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return g(t,n)}(e,n):function(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return g(t,n)}(e,n)},t.getBlockTree=function(t){return this.getImmutable().getIn([\"treeMap\",t])},t.isSelectionAtStartOfContent=function(){var t=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(t,0,0)},t.isSelectionAtEndOfContent=function(){var t=this.getCurrentContent().getBlockMap().last(),e=t.getLength();return this.getSelection().hasEdgeWithin(t.getKey(),e,e)},t.getDirectionMap=function(){return this.getImmutable().get(\"directionMap\")},e.acceptSelection=function(t,e){return d(t,e,!1)},e.forceSelection=function(t,e){return e.getHasFocus()||(e=e.set(\"hasFocus\",!0)),d(t,e,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return e.acceptSelection(t,new s({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.getCurrentContent()===n)return t;var o=a.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var s=t.getSelection(),u=t.getCurrentContent(),c=t.getUndoStack(),l=n;s!==u.getSelectionAfter()||function(t,e){var n=t.getLastChangeType();return e!==n||\"insert-characters\"!==e&&\"backspace-character\"!==e&&\"delete-character\"!==e}(t,r)?(c=c.push(u),l=l.set(\"selectionBefore\",s)):\"insert-characters\"!==r&&\"backspace-character\"!==r&&\"delete-character\"!==r||(l=l.set(\"selectionBefore\",u.getSelectionBefore()));var h=t.getInlineStyleOverride();-1===[\"adjust-depth\",\"change-block-type\",\"split-block\"].indexOf(r)&&(h=null);var p={currentContent:l,directionMap:o,undoStack:c,redoStack:f(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:h};return e.set(t,p)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var i=t.getCurrentContent(),o=a.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:t.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:\"undo\",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var i=t.getCurrentContent(),o=a.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:o,undoStack:t.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:\"redo\",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.getImmutable=function(){return this._immutable},e}();function d(t,e,n){return p.set(t,{selection:e,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function y(t,e){return t.getBlockMap().map(function(n){return i.generate(t,n,e)}).toOrderedMap()}function g(t,e){var n=t.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).skipUntil(function(t,e){return t.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):c()}t.exports=p},\"4XrY\":function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"CYTE\"),o=n(\"kc9Y\"),a=n(\"WaGC\"),s=n(\"JPcv\"),u=n(\"2NuI\"),c=n(\"gWRK\"),l=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=i.isBrowser(\"IE <= 11\"),p=function(){function t(t){var e=this;r(this,\"observer\",void 0),r(this,\"container\",void 0),r(this,\"mutations\",void 0),r(this,\"onCharData\",void 0),this.container=t,this.mutations=l();var n=a(t);n.MutationObserver&&!h?this.observer=new n.MutationObserver(function(t){return e.registerMutations(t)}):this.onCharData=function(t){t.target instanceof Node||u(!1),e.registerMutation({type:\"characterData\",target:t.target})}}var e=t.prototype;return e.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener(\"DOMCharacterDataModified\",this.onCharData)},e.stopAndFlushMutations=function(){var t=this.observer;t?(this.registerMutations(t.takeRecords()),t.disconnect()):this.container.removeEventListener(\"DOMCharacterDataModified\",this.onCharData);var e=this.mutations;return this.mutations=l(),e},e.registerMutations=function(t){for(var e=0;e<t.length;e++)this.registerMutation(t[e])},e.getMutationTextContent=function(t){var e=t.type,n=t.target,r=t.removedNodes;if(\"characterData\"===e){if(\"\"!==n.textContent)return h?n.textContent.replace(\"\\n\",\"\"):n.textContent}else if(\"childList\"===e){if(r&&r.length)return\"\";if(\"\"!==n.textContent)return n.textContent}return null},e.registerMutation=function(t){var e=this.getMutationTextContent(t);if(null!=e){var n=c(o(t.target));this.mutations=this.mutations.set(n,e)}},t}();t.exports=p},\"5RSi\":function(t,e,n){\"use strict\";var r=n(\"Iq8E\"),i=n(\"gWRK\");t.exports=function(t,e,n,o,a){var s=i(t.getSelection()),u=r.decode(e),c=u.blockKey,l=t.getBlockTree(c).getIn([u.decoratorKey,\"leaves\",u.leafKey]),f=r.decode(o),h=f.blockKey,p=t.getBlockTree(h).getIn([f.decoratorKey,\"leaves\",f.leafKey]);if(!l||!p)return s;var d=l.get(\"start\"),y=p.get(\"start\"),g=l?d+n:null,m=p?y+a:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===g&&s.getFocusKey()===h&&s.getFocusOffset()===m)return s;var v=!1;if(c===h){var b=l.get(\"end\"),_=p.get(\"end\");v=y===d&&_===b?a<n:y<d}else v=t.getCurrentContent().getBlockMap().keySeq().skipUntil(function(t){return t===c||t===h}).first()===h;return s.merge({anchorKey:c,anchorOffset:g,focusKey:h,focusOffset:m,isBackward:v})}},\"5x/H\":function(t,e,n){\"use strict\";n(\"6Joi\")},\"6Joi\":function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r,i,o=(r=n(\"wj3C\"))&&\"object\"===typeof r&&\"default\"in r?r.default:r,a=n(\"q/0M\"),s=n(\"mrSG\"),u=n(\"zVF4\"),c=n(\"x7I3\"),l=o.SDK_VERSION,f=new a.Logger(\"@firebase/firestore\");function h(){return f.logLevel===a.LogLevel.DEBUG?i.DEBUG:f.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:f.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=a.LogLevel.ERROR;break;case i.SILENT:f.logLevel=a.LogLevel.SILENT;break;default:f.error(\"Firestore (\"+l+\"): Invalid value passed to `setLogLevel`\")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=a.LogLevel.DEBUG){var i=n.map(g);f.debug.apply(f,[\"Firestore (\"+l+\") [\"+t+\"]: \"+e].concat(i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=a.LogLevel.ERROR){var r=e.map(g);f.error.apply(f,[\"Firestore (\"+l+\"): \"+t].concat(r))}}function g(t){if(\"string\"===typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function m(t){var e=\"FIRESTORE (\"+l+\") INTERNAL ASSERTION FAILED: \"+t;throw y(e),new Error(e)}function v(t,e){t||m(e)}!function(t){t[t.DEBUG=0]=\"DEBUG\",t[t.ERROR=1]=\"ERROR\",t[t.SILENT=2]=\"SILENT\"}(i||(i={}));var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&m(\"Platform already defined\"),t.platform=e},t.getPlatform=function(){return t.platform||m(\"Platform not set\"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},S=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name=\"FirebaseError\",r.toString=function(){return r.name+\": [code=\"+r.code+\"]: \"+r.message},r}return s.__extends(e,t),e}(Error);function E(t,e){function n(){var t=\"This constructor is private.\";throw e&&(t+=\" \",t+=e),new S(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D(t){for(var e in v(null!=t&&\"object\"===typeof t,\"isEmpty() expects object parameter.\"),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(0!==e.length)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() does not support arguments, but was called with \"+Q(e.length,\"argument\")+\".\")}function A(t,e,n){if(e.length!==n)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires \"+Q(n,\"argument\")+\", but was called with \"+Q(e.length,\"argument\")+\".\")}function O(t,e,n){if(e.length<n)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires at least \"+Q(n,\"argument\")+\", but was called with \"+Q(e.length,\"argument\")+\".\")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires between \"+n+\" and \"+r+\" arguments, but was called with \"+Q(e.length,\"argument\")+\".\")}function M(t,e,n,r){j(t,e,W(n)+\" argument\",r)}function R(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r){j(t,e,n+\" option\",r)}function P(t,e,n,r){void 0!==r&&L(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+e+\" option to be an array, but it was: \"+K(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires all \"+e+\" elements to be \"+n+\", but the value at index \"+o+\" was: \"+K(r[o]))}(t,e,n,r,i)}function B(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(K(u))}var c=K(r);throw new S(w.INVALID_ARGUMENT,\"Invalid value \"+c+\" provided to function \"+t+'() for option \"'+n+'\". Acceptable values: '+o.join(\", \"))}(t,0,n,r,i)}function j(t,e,n,r){if(!(\"object\"===e?q(r):\"non-empty string\"===e?\"string\"===typeof r&&\"\"!==r:typeof r===e)){var i=K(r);throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" to be of type \"+e+\", but it was: \"+i)}}function q(t){return\"object\"===typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function K(t){if(void 0===t)return\"undefined\";if(null===t)return\"null\";if(\"string\"===typeof t)return t.length>20&&(t=t.substring(0,20)+\"...\"),JSON.stringify(t);if(\"number\"===typeof t||\"boolean\"===typeof t)return\"\"+t;if(\"object\"===typeof t){if(t instanceof Array)return\"an array\";var e=function(t){if(t.constructor){var e=/function\\s+([^\\s(]+)\\s*\\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?\"a custom \"+e+\" object\":\"an object\"}return\"function\"===typeof t?\"a function\":m(\"Unknown wrong type: \"+typeof t)}function U(t,e,n){if(void 0===n)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires a valid \"+W(e)+\" argument, but it was undefined.\")}function V(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new S(w.INVALID_ARGUMENT,\"Unknown option '\"+e+\"' passed to function \"+t+\"(). Available options: \"+n.join(\", \"))})}function z(t,e,n,r){var i=K(r);return new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+W(n)+\" argument to be a \"+e+\", but it was: \"+i)}function W(t){switch(t){case 1:return\"first\";case 2:return\"second\";case 3:return\"third\";default:return t+\"th\"}}function Q(t,e){return t+\" \"+e+(1===t?\"\":\"s\")}var H=function(){function t(){}return t.newId=function(){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",e=\"\",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,\"Invalid auto ID: \"+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function J(t){return t+\"\\0\"}function X(){if(\"undefined\"===typeof Uint8Array)throw new S(w.UNIMPLEMENTED,\"Uint8Arrays are not available in this environment.\")}function Z(){if(!b.getPlatform().base64Available)throw new S(w.UNIMPLEMENTED,\"Blobs are unavailable in Firestore in this environment.\")}var $,tt=function(){function t(t){Z(),this._binaryString=t}return t.fromBase64String=function(e){A(\"Blob.fromBase64String\",arguments,1),M(\"Blob.fromBase64String\",\"string\",1,e),Z();try{return new t(b.getPlatform().atob(e))}catch(n){throw new S(w.INVALID_ARGUMENT,\"Failed to construct Blob from Base64 string: \"+n)}},t.fromUint8Array=function(e){if(A(\"Blob.fromUint8Array\",arguments,1),X(),!(e instanceof Uint8Array))throw z(\"Blob.fromUint8Array\",\"Uint8Array\",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(\"\"))},t.prototype.toBase64=function(){return A(\"Blob.toBase64\",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){A(\"Blob.toUint8Array\",arguments,0),X();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return\"Blob(base64: \"+this.toBase64()+\")\"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),et=E(tt,\"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.\"),nt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),rt=\"(default)\",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,\"isDefaultDatabase\",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),ot=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),at=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(\"offset \"+e+\" out of range \"+t.length),void 0===n?n=t.length-e:n>t.length-e&&m(\"length \"+n+\" out of range \"+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,\"length\",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,v(this.length>=t,\"Can't call popFirst() with less segments\"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),\"Can't call popLast() on empty path\"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),\"Can't call firstSegment() on empty path\"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,\"Index out of range\"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join(\"/\")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf(\"//\")>=0)throw new S(w.INVALID_ARGUMENT,\"Invalid path (\"+t+\"). Paths must not contain // in them.\");return new e(t.split(\"/\").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(at),ut=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ut.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(\"\\\\\",\"\\\\\\\\\").replace(\"`\",\"\\\\`\"),e.isValidIdentifier(t)||(t=\"`\"+t+\"`\"),t}).join(\".\")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&\"__name__\"===this.get(0)},e.keyField=function(){return new e([\"__name__\"])},e.fromServerFormat=function(t){for(var n=[],r=\"\",i=0,o=function(){if(0===r.length)throw new S(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");n.push(r),r=\"\"},a=!1;i<t.length;){var s=t[i];if(\"\\\\\"===s){if(i+1===t.length)throw new S(w.INVALID_ARGUMENT,\"Path has trailing escape character: \"+t);var u=t[i+1];if(\"\\\\\"!==u&&\".\"!==u&&\"`\"!==u)throw new S(w.INVALID_ARGUMENT,\"Path has invalid escape sequence: \"+t);r+=u,i+=2}else\"`\"===s?(a=!a,i++):\".\"!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(w.INVALID_ARGUMENT,\"Unterminated ` in path: \"+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(at),lt=function(){function t(e){this.path=e,v(t.isDocumentKey(e),\"Invalid DocumentKey with an odd number of segments: \"+e.toArray().join(\"/\"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2===0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),ft=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All=\"all\",t.ListenStreamIdle=\"listen_stream_idle\",t.ListenStreamConnectionBackoff=\"listen_stream_connection_backoff\",t.WriteStreamIdle=\"write_stream_idle\",t.WriteStreamConnectionBackoff=\"write_stream_connection_backoff\",t.OnlineStateTimeout=\"online_state_timeout\",t.ClientMetadataRefresh=\"client_metadata_refresh\",t.LruGarbageCollection=\"lru_garbage_collection\",t.RetryTransaction=\"retry_transaction\"}($||($={}));var ht=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,\"Operation cancelled\"+(t?\": \"+t:\"\"))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),pt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,\"isShuttingDown\",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||\"\";throw y(\"INTERNAL UNHANDLED ERROR: \",n),n.indexOf(\"Firestore Test Simulated Error\")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,\"Attempted to schedule an operation with a negative delay of \"+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=ht.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&m(\"AsyncQueue is already failed: \"+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,\"verifyOpInProgress() called when no op in progress on this queue.\")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===$.All||e.containsDelayedOperation(t),\"Attempted to drain to missing operation \"+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==$.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,\"Delayed operation not found.\"),this.delayedOperations.splice(e,1)},t}(),dt=\"\\x01\",yt=\"\\x01\",gt=\"\\x10\",mt=\"\\x11\";function vt(t){for(var e=\"\",n=0;n<t.length;n++)e.length>0&&(e=_t(e)),e=bt(t.get(n),e);return _t(e)}function bt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case\"\\0\":n+=dt+gt;break;case dt:n+=dt+mt;break;default:n+=o}}return n}function _t(t){return t+dt+yt}function wt(t){var e=t.length;if(v(e>=2,\"Invalid path \"+t),2===e)return v(t.charAt(0)===dt&&t.charAt(1)===yt,\"Non-empty path \"+t+\" had length 2\"),st.EMPTY_PATH;for(var n=e-2,r=[],i=\"\",o=0;o<e;){var a=t.indexOf(dt,o);switch((a<0||a>n)&&m('Invalid encoded resource path: \"'+t+'\"'),t.charAt(a+1)){case yt:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=\"\"),r.push(u);break;case gt:i+=t.substring(o,a),i+=\"\\0\";break;case mt:i+=t.substring(o,a+1);break;default:m('Invalid encoded resource path: \"'+t+'\"')}o=a+2}return new st(r)}var St=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(w.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(e>=1e9)throw new S(w.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(t<-62135596800)throw new S(w.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t);if(t>=253402300800)throw new S(w.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return\"Timestamp(seconds=\"+this.seconds+\", nanoseconds=\"+this.nanoseconds+\")\"},t}(),Et=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new St(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return\"SnapshotVersion(\"+this.timestamp.toString()+\")\"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new St(0,0)),t}(),Tt=function(){function t(t,e){this.comparator=t,this.root=e||kt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+\":\"+n),!1}),\"{\"+t.join(\", \")+\"}\"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!0)},t}(),Ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,\"getNext() called on iterator when hasNext() is false.\");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),kt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed())throw m(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check();if(t!==this.right.check())throw m(\"Black depths differ\");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,\"key\",{get:function(){throw m(\"LLRBEmptyNode has no key.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{get:function(){throw m(\"LLRBEmptyNode has no value.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"color\",{get:function(){throw m(\"LLRBEmptyNode has no color.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"left\",{get:function(){throw m(\"LLRBEmptyNode has no left child.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"right\",{get:function(){throw m(\"LLRBEmptyNode has no right child.\")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new kt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();kt.EMPTY=new It;var Dt=function(){function t(t){this.comparator=t,this.data=new Tt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new xt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new xt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),\"SortedSet(\"+t.toString()+\")\"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),xt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),At=new Tt(lt.comparator);function Ot(){return At}function Nt(){return Ot()}var Mt=new Tt(lt.comparator);function Rt(){return Mt}var Lt=new Tt(lt.comparator);function Pt(){return Lt}var Ft=new Dt(lt.comparator);function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ft,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var jt=new Dt(G);function qt(){return jt}var Kt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,\"Cannot create an empty mutation batch\")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),\"applyToRemoteDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,\"Mismatch between mutations length\\n      (\"+this.mutations.length+\") and mutation results length\\n      (\"+r.length+\").\");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),\"applyToLocalDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime))}for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations)&&Y(this.baseMutations,t.baseMutations)},t}(),Ut=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,\"Mutations sent \"+e.mutations.length+\" must equal results received \"+r.length);for(var o=Pt(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Vt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&m(\"Called next() or catch() twice for PersistencePromise\"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){r(o[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zt=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(\"\"!==e.uid,\"UserID must not be an empty string.\"),new t(e.isAuthenticated()?e.uid:\"\",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gt(t).iterate({index:un.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Ht(n),Jt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Ht(e),Jt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Yt(t),a=Gt(t);return a.add({}).next(function(s){v(\"number\"===typeof s,\"Auto-generated key is not a number\");var u=new Kt(s,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=cn.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,cn.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return Vt.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gt(t).get(e).next(function(t){return t?(v(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Vt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gt(t).iterate({index:un.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,\"Should have found mutation after \"+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gt(t).iterate({index:un.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gt(t).loadAll(un.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=cn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Yt(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=wt(u);if(s===n.userId&&e.path.isEqual(l))return Gt(t).get(c).next(function(t){if(!t)throw m(\"Dangling document-mutation reference found: \"+r+\" which points to \"+c);v(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+c),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Dt(G),i=[];return e.forEach(function(e){var o=cn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Yt(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=wt(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Vt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),\"Document queries shouldn't go down this path\"),v(!e.isCollectionGroupQuery(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var r=e.path,i=r.length+1,o=cn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Dt(G);return Yt(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=wt(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gt(t).get(e).next(function(t){if(null===t)throw m(\"Dangling document-mutation reference found, which points to \"+e);v(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Vt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Vt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Vt.resolve();var r=IDBKeyRange.lowerBound(cn.prefixForUser(e.userId)),i=[];return Yt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=wt(t[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,\"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: \"+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Wt(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Jt(t).get(this.userId).next(function(t){return t||new sn(e.userId,-1,\"\")})},t}();function Wt(t,e,n){var r=cn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Yt(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Qt(t,e,n){var r=t.store(un.store),i=t.store(cn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){v(1===s,\"Dangling document-mutation reference found: Missing batch \"+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=cn.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return Vt.waitFor(o).next(function(){return c})}function Ht(e){return e instanceof Uint8Array?(v(\"YES\"===t.env.USE_MOCK_PERSISTENCE,\"Persisting non-string stream tokens is only supported with mock persistence.\"),e.toString()):e}function Gt(t){return Bn.getStore(t,un.store)}function Yt(t){return Bn.getStore(t,cn.store)}function Jt(t){return Bn.getStore(t,sn.store)}var Xt,Zt=1;!function(t){t[t.QueryCache=0]=\"QueryCache\",t[t.SyncEngine=1]=\"SyncEngine\"}(Xt||(Xt={}));var $t=function(){function t(t,e){this.generatorId=t,v((t&Zt)===t,\"Generator ID \"+t+\" contains more than \"+Zt+\" reserved bits\"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Zt,t},t.prototype.after=function(t){return this.seek(t+(1<<Zt)),this.next()},t.prototype.seek=function(t){v((t&Zt)===this.generatorId,\"Cannot supply target ID from different generator ID\"),this.nextId=t},t.forQueryCache=function(){return new t(Xt.QueryCache,2)},t.forSyncEngine=function(){return new t(Xt.SyncEngine)},t}(),te=\"SimpleDb\",ee=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&y(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\")}return e.openOrCreate=function(t,n,r){return v(e.isAvailable(),\"IndexedDB not supported in current environment.\"),d(te,\"Opening database:\",t),new Vt(function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new S(w.FAILED_PRECONDITION,\"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"))},a.onerror=function(t){var e=t.target.error;\"VersionError\"===e.name?o(new S(w.FAILED_PRECONDITION,\"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")):o(e)},a.onupgradeneeded=function(e){d(te,'Database \"'+t+'\" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new re(a.transaction);r.createOrUpgrade(n,i,e.oldVersion,nn).next(function(){d(te,\"Database upgrade to version \"+nn+\" complete\")})}}).toPromise()},e.delete=function(t){return d(te,\"Removing database:\",t),oe(window.indexedDB.deleteDatabase(t)).toPromise()},e.isAvailable=function(){if(\"undefined\"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return\"YES\"===t.env.USE_MOCK_PERSISTENCE;var n=u.getUA(),r=e.getIOSVersion(n),i=0<r&&r<10,o=e.getAndroidVersion(n),a=0<o&&o<4.5;return!(n.indexOf(\"MSIE \")>0||n.indexOf(\"Trident/\")>0||n.indexOf(\"Edge/\")>0||i||a)},e.getStore=function(t,e){return t.store(e)},e.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i),n=e?e[1].split(\"_\").slice(0,2).join(\".\"):\"-1\";return Number(n)},e.getAndroidVersion=function(t){var e=t.match(/Android ([\\d.]+)/i),n=e?e[1].split(\".\").slice(0,2).join(\".\"):\"-1\";return Number(n)},e.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){var r=re.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Vt.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),ne=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,\"isDone\",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"skipToKey\",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cursor\",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return oe(this.dbCursor.delete())},t}(),re=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ft,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=se(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,\"completionPromise\",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d(te,\"Aborting transaction:\",t?t.message:\"Client-initiated abort\"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,\"Object store not part of transaction: \"+t),new ie(e)},t}(),ie=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d(te,\"PUT\",this.store.name,t,e),n=this.store.put(e,t)):(d(te,\"PUT\",this.store.name,\"<auto-key>\",t),n=this.store.put(t)),oe(n)},t.prototype.add=function(t){return d(te,\"ADD\",this.store.name,t,t),oe(this.store.add(t))},t.prototype.get=function(t){var e=this;return oe(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d(te,\"GET\",e.store.name,t,n),n})},t.prototype.delete=function(t){return d(te,\"DELETE\",this.store.name,t),oe(this.store.delete(t))},t.prototype.count=function(){return d(te,\"COUNT\",this.store.name),oe(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d(te,\"DELETE ALL\",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Vt(function(n,r){e.onerror=function(t){var e=se(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Vt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ne(i),a=e(i.primaryKey,i.value,o);if(a instanceof Vt){var s=a.catch(function(t){return o.done(),Vt.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Vt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&(\"string\"===typeof t?n=t:(v(void 0===e,\"3rd argument must not be defined if 2nd is a range.\"),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e=\"next\";if(t.reverse&&(e=\"prev\"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function oe(t){return new Vt(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=se(t.target.error);n(e)}})}var ae=!1;function se(t){var e=ee.getIOSVersion(u.getUA());if(e>=12.2&&e<13){var n=\"An internal error was encountered in the Indexed Database server\";if(t.message.indexOf(n)>=0){var r=new S(\"internal\",\"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\"+n+\"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");return ae||(ae=!0,setTimeout(function(){throw r},0)),r}}return t}var ue=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=$t.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Et.fromTimestamp(new St(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return fe(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ce(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,\"Removing from an empty query cache\"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ce(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Vt.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ce(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return le(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Bn.getStore(n,gn.store)).put(gn.key,e);var n},t.prototype.saveQueryData=function(t,e){return ce(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ce(t).iterate({range:i,index:dn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=he(t);return e.forEach(function(e){var a=vt(e.path);i.push(o.put(new yn(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Vt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=he(t);return Vt.forEach(e,function(e){var o=vt(e.path);return Vt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=he(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=he(t),i=Bt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=wt(t[1]),o=new lt(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=vt(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return he(t).iterate({index:yn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ce(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ce(t){return Bn.getStore(t,dn.store)}function le(t){return ee.getStore(t,gn.store).get(gn.key).next(function(t){return v(null!==t,\"Missing metadata row.\"),t})}function fe(t){return le(t).next(function(t){return t.highestListenSequenceNumber})}function he(t){return Bn.getStore(t,yn.store)}var pe,de=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Dt(ct.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ye=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ge=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]=\"Set\",t[t.Patch=1]=\"Patch\",t[t.Transform=2]=\"Transform\",t[t.Delete=3]=\"Delete\"}(pe||(pe={}));var me,ve,be=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify \"exists\" or \"updateTime\" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,\"isNone\",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Ue&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Ue:(v(this.isNone,\"Precondition should be empty\"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!==e&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),_e=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),\"Can only apply a mutation to a document with the same key\")},t.getPostMutationVersion=function(t){return t instanceof Ue?t.version:Et.MIN},t}(),we=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=pe.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),v(null==e.transformResults,\"Transform results received by SetMutation.\");var n=e.version;return new Ue(this.key,n,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=_e.getPostMutationVersion(t);return new Ue(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(_e),Se=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=pe.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,\"Transform results received by PatchMutation.\"),!this.precondition.isValidFor(t))return new ze(this.key,e.version);var n=this.patchDocument(t);return new Ue(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=_e.getPostMutationVersion(t),i=this.patchDocument(t);return new Ue(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof Ue?t.data():je.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(_e),Ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=pe.Transform,r.precondition=be.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,\"Transform results missing for TransformMutation.\"),!this.precondition.isValidFor(t))return new ze(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new Ue(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new Ue(this.key,r.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Ue?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?je.EMPTY.set(i.field,a):e.set(i.field,a))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Y(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof Ue,\"Unknown MaybeDocument type \"+t);var e=t;return v(e.key.isEqual(this.key),\"Can only transform a document with the same key\"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,\"server transform result count (\"+e.length+\") should match field transform count (\"+this.fieldTransforms.length+\")\");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof Ue&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof Ue&&(u=e.field(a.field)),null===u&&n instanceof Ue&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,t))}return r},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,\"TransformResults length mismatch.\");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(_e),Te=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=pe.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,\"Transform results received by DeleteMutation.\"),new Ve(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),\"Can only apply mutation to document with same key\"),new Ve(this.key,Et.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(_e);!function(t){t[t.NullValue=0]=\"NullValue\",t[t.BooleanValue=1]=\"BooleanValue\",t[t.NumberValue=2]=\"NumberValue\",t[t.TimestampValue=3]=\"TimestampValue\",t[t.StringValue=4]=\"StringValue\",t[t.BlobValue=5]=\"BlobValue\",t[t.RefValue=6]=\"RefValue\",t[t.GeoPointValue=7]=\"GeoPointValue\",t[t.ArrayValue=8]=\"ArrayValue\",t[t.ObjectValue=9]=\"ObjectValue\"}(me||(me={})),function(t){t[t.Default=0]=\"Default\",t[t.Estimate=1]=\"Estimate\",t[t.Previous=2]=\"Previous\"}(ve||(ve={}));var Ce=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case\"estimate\":return new t(ve.Estimate,n);case\"previous\":return new t(ve.Previous,n);case\"none\":case void 0:return new t(ve.Default,n);default:return m(\"fromSnapshotOptions() called with invalid options.\")}},t}(),ke=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?\"null\":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,\"Default compareTo should not be used for values of same type.\"),G(this.typeOrder,t.typeOrder)},t}(),Ie=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=me.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(ke),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(ke),xe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(ke);function Ae(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}var Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ae(this.internalValue,t.internalValue)},e}(xe),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ae(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(xe),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(ke),Re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Le?-1:this.defaultCompareTo(t)},e}(ke),Le=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=me.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===ve.Estimate?new Re(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===ve.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Re?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return\"<ServerTimestamp localTime=\"+this.localWriteTime.toString()+\">\"},e}(ke),Pe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(ke),Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=me.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(ke),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(ke),je=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=G(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return G(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),\"Cannot set field for empty path on ObjectValue\"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),\"Cannot delete field for empty path on ObjectValue\"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),\"Can't get field of empty path\");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new Dt(ct.comparator);return this.internalValue.forEach(function(n,r){var i=new ct([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),de.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Tt(G)),e}(ke),qe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=me.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++){if(n[e].isEqual(t))return!0}return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return\"[\"+this.internalValue.map(function(t){return t.toString()}).join(\",\")+\"]\"},e}(ke),Ke=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),Ue=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n)||this;return s.objectValue=i,s.proto=o,s.converter=a,v(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,\"If objectValue is not defined, proto and converter need to be set.\"),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return s.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=je.EMPTY;I(this.proto.fields,function(n,r){e=e.set(new ct([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return\"Document(\"+this.key+\", \"+this.version+\", \"+this.data().toString()+\", {hasLocalMutations: \"+this.hasLocalMutations+\"}), {hasCommittedMutations: \"+this.hasCommittedMutations+\"})\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){v(void 0!==this.proto,\"Can only call getProtoField() when proto is defined\");for(var e=this.proto.fields[t.firstSegment()],n=1;n<t.length;++n){if(!e||!e.mapValue)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):m(\"Trying to compare documents on fields that don't exist\")},e}(Ke),Ve=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return\"NoDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ke),ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.toString=function(){return\"UnknownDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ke),We=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return D(this.inner)},t}(),Qe=function(){function t(){this.changes=new We(function(t){return t.toString()}),this.changesApplied=!1}return t.prototype.addEntry=function(t){this.assertNotApplied(),this.changes.set(t.key,t)},t.prototype.removeEntry=function(t){this.assertNotApplied(),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Vt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){v(!this.changesApplied,\"Changes have already been applied.\")},t}(),He=\"The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.\",Ge=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,\"lastProcessedDocumentChangeId\",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=ee.getStore(t,bn.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntry=function(t,e,n){var r=this;return Je(t).put(Ze(e),n).next(function(){r.indexManager.addToCollectionParentIndex(t,e.path.popLast())})},t.prototype.removeEntry=function(t,e){var n=Je(t),r=Ze(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.setMetadata(t,i).next(function(){if(r.keepDocumentChangeLog)return Xe(t).put({changes:r.serializer.toDbResourcePaths(e)})})})},t.prototype.getEntry=function(t,e){var n=this;return Je(t).get(Ze(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Je(t).get(Ze(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:$e(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new Tt(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,$e(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Vt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Je(t).iterate({range:r},function(t,e,r){for(var a=lt.fromSegments(t);o&&lt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;v(!e.isCollectionGroupQuery(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var r=Rt(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return Je(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof Ue&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,\"Can only call getNewDocumentChanges() when document change log is enabled\");var n=Bt(),r=Ot(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Xe(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Vt.reject(new S(w.DATA_LOSS,He))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new Ve(n,Et.forDeletedDoc());r=r.insert(n,e)}))}),Vt.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Xe(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ye(t).get(pn.key).next(function(t){return v(!!t,\"Missing document cache metadata\"),t})},t.prototype.setMetadata=function(t,e){return Ye(t).put(pn.key,e)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n.documentSizes=new We(function(t){return t.toString()}),n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=Bt();return this.changes.forEach(function(o,a){var s=e.documentSizes.get(o);if(v(void 0!==s,\"Cannot modify a document that wasn't read (for \"+o+\")\"),a){var u=e.documentCache.serializer.toDbRemoteDocument(a),c=$e(u);r+=c-s,n.push(e.documentCache.addEntry(t,o,u))}else r-=s,n.push(e.documentCache.removeEntry(t,o));i=i.add(o)}),n.push(this.documentCache.updateMetadata(t,i,r)),Vt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Qe),t}();function Ye(t){return Bn.getStore(t,pn.store)}function Je(t){return Bn.getStore(t,hn.store)}function Xe(t){return Bn.getStore(t,bn.store)}function Ze(t){return t.path.toArray()}function $e(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m(\"Unknown remote document type\");e=t.noDocument}return JSON.stringify(e).length}var tn=function(){function t(){this.collectionParentIndex=new en}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Vt.resolve()},t.prototype.getCollectionParents=function(t,e){return Vt.resolve(this.collectionParentIndex.getEntries(e))},t}(),en=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2===1,\"Expected a collection path.\");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Dt(st.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new Dt(st.comparator)).toArray()},t}(),nn=8,rn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=nn,\"Unexpected schema upgrade from v\"+n+\" to v{toVersion}.\"),n<1&&r>=1&&(function(t){t.createObjectStore(an.store)}(t),function(t){t.createObjectStore(sn.store,{keyPath:sn.keyPath}),t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),t.createObjectStore(cn.store)}(t),vn(t),function(t){t.createObjectStore(hn.store)}(t));var o=Vt.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(yn.store),t.deleteObjectStore(dn.store),t.deleteObjectStore(gn.store)}(t),vn(t)),o=o.next(function(){return function(t){var e=t.store(gn.store),n=new gn(0,0,Et.MIN.toTimestamp(),0);return e.put(gn.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(un.store).loadAll().next(function(n){t.deleteObjectStore(un.store);var r=t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0});r.createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});var i=e.store(un.store),o=n.map(function(t){return i.put(t)});return Vt.waitFor(o)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(_n.store,{keyPath:_n.keyPath})}(t),function(t){t.createObjectStore(bn.store,{keyPath:\"id\",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(pn.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hn.store).iterate(function(t,n){e+=$e(n)}).next(function(){var n=new pn(e);return t.store(pn.store).put(pn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(sn.store),r=t.store(un.store);return n.loadAll().next(function(n){return Vt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(un.userMutationsIndex,i).next(function(r){return Vt.forEach(r,function(r){v(r.userId===n.userId,\"Cannot process batch \"+r.batchId+\" from unexpected user\");var i=e.serializer.fromDbMutationBatch(r);return Qt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(yn.store),n=t.store(hn.store);return fe(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new st(n),a=function(t){return[0,vt(t)]}(o);r.push(e.get(a).next(function(n){return n?Vt.resolve():function(n){return e.put(new yn(0,vt(n),t))}(o)}))}).next(function(){return Vt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(mn.store,{keyPath:mn.keyPath});var n=e.store(mn.store),r=new en,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vt(i)})}};return e.store(hn.store).iterate({keysOnly:!0},function(t,e){var n=new st(t);return i(n.popLast())}).next(function(){return e.store(cn.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],r=(t[2],wt(n));return i(r.popLast())})})},t}();var on=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),an=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store=\"owner\",t.key=\"owner\",t}();var sn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store=\"mutationQueues\",t.keyPath=\"userId\",t}(),un=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store=\"mutations\",t.keyPath=\"batchId\",t.userMutationsIndex=\"userMutationsIndex\",t.userMutationsKeyPath=[\"userId\",\"batchId\"],t}();var cn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vt(e)]},t.key=function(t,e,n){return[t,vt(e),n]},t.store=\"documentMutations\",t.PLACEHOLDER=new t,t}();var ln=function(){return function(t,e){this.path=t,this.readTime=e}}(),fn=function(){return function(t,e){this.path=t,this.version=e}}(),hn=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store=\"remoteDocuments\",t}(),pn=function(){function t(t){this.byteSize=t}return t.store=\"remoteDocumentGlobal\",t.key=\"remoteDocumentGlobalKey\",t}();var dn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store=\"targets\",t.keyPath=\"targetId\",t.queryTargetsIndexName=\"queryTargetsIndex\",t.queryTargetsKeyPath=[\"canonicalId\",\"targetId\"],t}(),yn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t===(void 0!==n),\"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number\")}return t.store=\"targetDocuments\",t.keyPath=[\"targetId\",\"path\"],t.documentTargetsIndex=\"documentTargetsIndex\",t.documentTargetsKeyPath=[\"path\",\"targetId\"],t}(),gn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key=\"targetGlobalKey\",t.store=\"targetGlobal\",t}(),mn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store=\"collectionParents\",t.keyPath=[\"collectionId\",\"parent\"],t}();function vn(t){t.createObjectStore(yn.store,{keyPath:yn.keyPath}).createIndex(yn.documentTargetsIndex,yn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.queryTargetsIndexName,dn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gn.store)}var bn=function(){function t(t){this.changes=t}return t.store=\"remoteDocumentChanges\",t.keyPath=\"id\",t}();var _n=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store=\"clientMetadata\",t.keyPath=\"clientId\",t}();var wn,Sn=[sn.store,un.store,cn.store,hn.store,dn.store,an.store,gn.store,yn.store].concat([_n.store,bn.store]).concat([pn.store]).concat([mn.store]),En=function(){function t(){this.collectionParentsCache=new en}return t.prototype.addToCollectionParentIndex=function(t,e){if(v(e.length%2===1,\"Expected a collection path.\"),this.collectionParentsCache.add(e)){v(e.length>=1,\"Invalid collection path.\");var n=e.lastSegment(),r=e.popLast();return Tn(t).put({collectionId:n,parent:vt(r)})}return Vt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,\"\"],[J(e),\"\"],!1,!0);return Tn(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wt(o.parent))}return n})},t}();function Tn(t){return Bn.getStore(t,mn.store)}!function(t){t[t.Listen=0]=\"Listen\",t[t.ExistenceFilterMismatch=1]=\"ExistenceFilterMismatch\",t[t.LimboResolution=2]=\"LimboResolution\"}(wn||(wn={}));var Cn=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Et.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.query,this.targetId,this.purpose,this.sequenceNumber,n,e)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),kn=function(){function e(t){this.remoteSerializer=t}return e.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Ve(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new ze(e,n)}return m(\"Unexpected DbRemoteDocument\")},e.prototype.toDbRemoteDocument=function(t){if(t instanceof Ue){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new hn(null,null,e,n)}if(t instanceof Ve){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new hn(null,new ln(r,i),null,n)}if(t instanceof ze){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new hn(new fn(r,i),null,null,!0)}return m(\"Unexpected MaybeDocumment\")},e.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new on(e.seconds,e.nanoseconds)},e.prototype.fromDbTimestamp=function(t){var e=new St(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)},e.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new un(t,e.batchId,e.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=St.fromMillis(t.localWriteTimeMs);return new Kt(t.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vt(t.path))}),e},e.prototype.fromDbResourcePaths=function(t){for(var e=Bt(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new lt(wt(i)))}return e},e.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Cn(e,t.targetId,wn.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},e.prototype.toDbTarget=function(e){v(wn.Listen===e.purpose,\"Only queries with purpose \"+wn.Listen+\" may be stored, got \"+e.purpose);var n,r,i=this.toDbTimestamp(e.snapshotVersion);return n=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(v(\"YES\"===t.env.USE_MOCK_PERSISTENCE,\"Persisting non-string stream tokens is only supported with mock persistence .\"),r=e.resumeToken.toString()):r=e.resumeToken,new dn(e.targetId,e.query.canonicalId(),i,r,e.sequenceNumber,n)},e}();function In(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=G(n,i);return 0===a?G(r,o):a}var Dn=function(){function t(t){this.maxElements=t,this.buffer=new Dt(In),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();In(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,\"maxValue\",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},An=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),On=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,\"Cannot start an already started LruScheduler\"),this.garbageCollector.params.cacheSizeCollectionThreshold!==An.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,\"started\",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,\"Cannot schedule GC while a task is pending\");var e=this.hasRun?3e5:6e4;d(\"LruGarbageCollector\",\"Garbage collection scheduled in \"+e+\"ms\"),this.gcTask=this.asyncQueue.enqueueAfterDelay($.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(jn)})},t}(),Nn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Vt.resolve(ot.INVALID);var r=new Dn(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===An.COLLECTION_DISABLED?(d(\"LruGarbageCollector\",\"Garbage collection skipped; disabled\"),Vt.resolve(xn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d(\"LruGarbageCollector\",\"Garbage collection skipped; Cache size \"+r+\" is lower than threshold \"+n.params.cacheSizeCollectionThreshold),xn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(d(\"LruGarbageCollector\",\"Capping sequence numbers to collect down to the maximum of \"+l.params.maximumSequenceNumbersToCollect+\" from \"+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return o=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){(c=Date.now(),h()<=i.DEBUG)&&d(\"LruGarbageCollector\",\"LRU Garbage Collection\\n\\tCounted targets in \"+(a-f)+\"ms\\n\\tDetermined least recently used \"+r+\" in \"+(s-a)+\"ms\\n\\tRemoved \"+o+\" targets in \"+(u-s)+\"ms\\n\\tRemoved \"+t+\" documents in \"+(c-u)+\"ms\\nTotal Duration: \"+(c-f)+\"ms\");return Vt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Mn=function(){return function(){}}(),Rn=\"IndexedDbPersistence\",Ln=\"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",Pn=\"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.\",Fn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(Mn),Bn=function(){function t(e,n,r,i,o,a,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Un(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new kn(s),this.document=i.document,this.queryCache=new ue(this.referenceDelegate,this.serializer),this.indexManager=new En,this.remoteDocumentCache=new Ge(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new S(w.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Fn)return ee.getStore(t.simpleDbTransaction,e);throw m(\"IndexedDbPersistence must use instances of IndexedDbTransaction\")},t.createIndexedDbPersistence=function(e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new S(w.UNIMPLEMENTED,\"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return v(!this.started,\"IndexedDbPersistence double-started!\"),v(null!==this.window,\"Expected 'window' to be defined\"),ee.openOrCreate(this.dbName,nn,new rn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction(\"readonly\",[gn.store],function(e){return fe(e).next(function(e){t.listenSequence=new ot(e,t.sequenceNumberSyncer)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction(\"readonly\",Sn,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction(\"readwrite\",Sn,function(e){return Kn(e).put(new _n(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return qn(t).get(an.key).next(function(t){return Vt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Kn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction(\"maybeGarbageCollectMultiClientState\",\"readwrite-primary\",function(i){var o=t.getStore(i,_n.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Vt.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay($.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return qn(t).get(an.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(w.FAILED_PRECONDITION,Pn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Kn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&d(Rn,\"Client \"+(t?\"is\":\"is not\")+\" eligible for a primary lease.\"),t})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction(\"readwrite\",[an.store,_n.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction(\"readonly\",[_n.store],function(e){return Kn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return t.isAvailable()?(n=e+t.MAIN_DATABASE,[4,ee.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(t.prototype,\"started\",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,\"Cannot initialize MutationQueue before persistence is started.\"),zt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,\"Cannot initialize QueryCache before persistence is started.\"),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,\"Cannot initialize RemoteDocumentCache before persistence is started.\"),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,\"Cannot initialize IndexManager before persistence is started.\"),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return d(Rn,\"Starting transaction:\",t),this.simpleDb.runTransaction(\"readonly\"===e?\"readonly\":\"readwrite\",Sn,function(i){return\"readwrite-primary\"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw y(\"Failed to obtain primary lease for action '\"+t+\"'.\"),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new S(w.FAILED_PRECONDITION,Ln);return n(new Fn(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Fn(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return qn(t).get(an.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new S(w.FAILED_PRECONDITION,Pn)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new an(this.clientId,this.allowTabSynchronization,Date.now());return qn(t).put(an.key,e)},t.isAvailable=function(){return ee.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+=\".\"+t.databaseId.database),\"firestore/\"+t.persistenceKey+\"/\"+e+\"/\"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=qn(t);return n.get(an.key).next(function(t){return e.isLocalClient(t)?(d(Rn,\"Releasing primary lease.\"),n.delete(an.key)):Vt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(y(\"Detected an update time that is in the future: \"+t+\" > \"+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&\"function\"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground=\"visible\"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener(\"visibilitychange\",this.documentVisibilityHandler),this.inForeground=\"visible\"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&\"function\"===typeof this.document.addEventListener,\"Expected 'document.addEventListener' to be a function\"),this.document.removeEventListener(\"visibilitychange\",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;\"function\"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener(\"unload\",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v(\"function\"===typeof this.window.removeEventListener,\"Expected 'window.removeEventListener' to be a function\"),this.window.removeEventListener(\"unload\",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Rn,\"Client '\"+t+\"' \"+(e?\"is\":\"is not\")+\" zombied in LocalStorage\"),e}catch(n){return y(Rn,\"Failed to get zombied client id.\",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){y(\"Failed to set zombie client id.\",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return\"firestore_zombie_\"+this.persistenceKey+\"_\"+t},t.MAIN_DATABASE=\"main\",t}();function jn(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Ln}(t))throw t;return d(Rn,\"Unexpectedly lost primary lease\"),[2]})})}function qn(t){return t.store(an.store)}function Kn(t){return t.store(_n.store)}var Un=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Nn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Vn(t,e)},t.prototype.removeReference=function(t,e){return Vn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Vn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Vt.resolve(!0):function(t,e){var n=!1;return Jt(t).iterateSerial(function(r){return Wt(t,r,e).next(function(t){return t&&(n=!0),Vt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),he(t).delete([0,vt(a.path)])})});i.push(u)}}).next(function(){return Vt.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Vn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=he(t),i=ot.INVALID;return r.iterate({index:yn.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==ot.INVALID&&e(new lt(wt(n)),i),i=s,n=a):i=ot.INVALID}).next(function(){i!==ot.INVALID&&e(new lt(wt(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Vn(t,e){return he(t).put(function(t,e){return new yn(0,vt(t.path),e)}(e,t.currentSequenceNumber))}var zn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Nt();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++){e=o[i].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Ot();return i.forEach(function(t,e){e||(e=new Ve(t,Et.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=Rt();return t instanceof Ue&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;v(e.path.isEmpty(),\"Currently we only support collection group queries at the root.\");var r=e.collectionGroup,i=Rt();return this.indexManager.getCollectionParents(t,r).next(function(o){return Vt.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return r=e,i.addMissingBaseDocuments(t,r,n).next(function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var o=i[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof Ue?n.insert(c,f):n.remove(c)}})}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Bt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Se&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ue&&(c=c.insert(t,e))}),c})},t}(),Wn=function(){function t(){this.refsByKey=new Dt(Qn.compareByKey),this.refsByTarget=new Dt(Qn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Qn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Qn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Qn(n,t),i=new Qn(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Qn(e,t),r=new Qn(e,t+1),i=Bt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Qn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Qn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Hn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Wn,this.queryDataByTarget={},v(t.started,\"LocalStore was passed an unstarted persistence implementation\"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new zn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction(\"Handle user change\",\"readonly\",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new zn(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Bt(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=t;p<d.length;p++){c=d[p];o.push(c.batchId);for(var y=0,g=c.mutations;y<g.length;y++){h=g[y];a=a.add(h.key)}}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=St.now(),r=t.reduce(function(t,e){return t.add(e.key)},Bt());return this.persistence.runTransaction(\"Locally write mutations\",\"readwrite\",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new Se(u.key,c,c.fieldMask(),be.exists(!0)))}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction(\"Lookup mutation documents\",\"readonly\",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Vt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction(\"Acknowledge batch\",\"readwrite-primary\",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction(\"Reject batch\",\"readwrite-primary\",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,\"Attempt to reject nonexistent batch!\"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction(\"Get highest unacknowledged batch id\",\"readonly\",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction(\"Get last stream token\",\"readonly\",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction(\"Set last stream token\",\"readwrite-primary\",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction(\"Get last remote snapshot version\",\"readonly\",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=e.snapshotVersion;return this.persistence.runTransaction(\"Apply remote event\",\"readwrite-primary\",function(o){var a=[];k(e.targetChanges,function(e,r){var s=n.queryDataByTarget[e];if(s){a.push(n.queryCache.removeMatchingKeys(o,r.removedDocuments,e).next(function(){return n.queryCache.addMatchingKeys(o,r.addedDocuments,e)}));var u=r.resumeToken;if(u.length>0){var c=s.withResumeToken(u,i);n.queryDataByTarget[e]=c,t.shouldPersistQueryData(s,c,r)&&a.push(n.queryCache.updateQueryData(o,c))}}});var s=Ot(),u=Bt();if(e.documentUpdates.forEach(function(t,e){u=u.add(t)}),a.push(r.getEntries(o,u).next(function(t){e.documentUpdates.forEach(function(i,u){var c=t.get(i);u instanceof Ve&&u.version.isEqual(Et.MIN)?(r.removeEntry(i),s=s.insert(i,u)):null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(Et.MIN.isEqual(e.snapshotVersion)&&y(\"LocalStore\",\"Cannot add a document when the remote version is zero\"),r.addEntry(u),s=s.insert(i,u)):d(\"LocalStore\",\"Ignoring outdated watch update for \",i,\". Current version:\",c.version,\" Watch version:\",u.version),e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))})})),!i.isEqual(Et.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return v(i.compareTo(t)>=0,\"Watch stream reverted to previous snapshot?? \"+i+\" < \"+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,i)});a.push(c)}return Vt.waitFor(a).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,s)})})},t.shouldPersistQueryData=function(t,e,n){return v(e.resumeToken.length>0,\"Attempted to persist query data with no resume token\"),0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction(\"notifyLocalViewChanges\",\"readwrite\",function(n){return Vt.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Vt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction(\"Get next mutation batch\",\"readonly\",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction(\"read document\",\"readonly\",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction(\"Allocate query\",\"readwrite\",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Vt.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Cn(t,i,wn.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return v(!e.queryDataByTarget[r.targetId],\"Tried to allocate an already allocated query: \"+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?\"readwrite\":\"readwrite-primary\";return this.persistence.runTransaction(\"Release query\",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){v(null!=i,\"Tried to release nonexistent query: \"+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Vt.resolve():Vt.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction(\"Execute query\",\"readonly\",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction(\"Remote document keys\",\"readonly\",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Vt.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);v(null!==a,\"ackVersions should contain every doc in the write.\"),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):v(!t,\"Mutation batch \"+i+\" applied to document \"+t+\" resulted in null\"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction(\"Collect garbage\",\"readwrite-primary\",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction(\"Get query data\",\"readonly\",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction(\"Get new document changes\",\"readonly\",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new Dt(Qn.compareByKey)}return t.prototype.checkEmpty=function(t){return Vt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,\"acknowledged\");v(0===i,\"Can only acknowledge the first batch in the mutation queue\");var o=this.mutationQueue[i];return v(r===o.batchId,\"Queue ordering failure: expected batch \"+r+\", got batch \"+o.batchId),this.lastStreamToken=n,Vt.resolve()},t.prototype.getLastStreamToken=function(t){return Vt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Vt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,\"Mutation batches should not be empty\");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,\"Mutation batchIDs must be monotonically increasing order\");var o=new Kt(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Qn(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Vt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Vt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,\"Failed to find local mutation batch.\"),Vt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Vt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Vt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return Vt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Qn(e,0),i=new Qn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),\"Should only iterate over a single key's batches\");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,\"Batches in the index must exist in the main table\"),o.push(r)}),Vt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Dt(G);return e.forEach(function(t){var e=new Qn(t,0),i=new Qn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),\"For each key, should only iterate over a single key's batches\"),r=r.add(e.targetOrBatchId)})}),Vt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var n=e.path,r=n.length+1,i=n;lt.isDocumentKey(i)||(i=i.child(\"\"));var o=new Qn(new lt(i),0),a=new Dt(G);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Vt.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,\"removed\"),\"Can only remove the first entry of the mutation queue\"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Vt.forEach(e.mutations,function(i){var o=new Qn(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Qn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Vt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),\"Document leak -- detected dangling mutation references when queue is empty.\"),Vt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,\"Batches must exist to be \"+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,\"If found batch must match\"),n},t}(),Yn=function(){function t(t){this.persistence=t,this.queries=new We(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Et.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Wn,this.targetCount=0,this.targetIdGenerator=$t.forQueryCache()}return t.prototype.getTargetCount=function(t){return Vt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Vt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Vt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Vt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Vt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Vt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),\"Adding a query that already exists\"),this.saveQueryData(e),this.targetCount+=1,Vt.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),\"Updating a non-existent query\"),this.saveQueryData(e),Vt.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,\"Removing a target from an empty cache\"),v(this.queries.has(e.query),\"Removing a non-existent target from the cache\"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Vt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Vt.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Vt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Vt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return m(\"Not yet implemented.\")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Vt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Vt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Vt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Vt.resolve(n)},t.prototype.containsKey=function(t,e){return Vt.resolve(this.references.containsKey(e))},t}();var Jn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new Tt(lt.comparator),this.newDocumentChanges=Bt(),this.size=0}return t.prototype.addEntry=function(t,e){var n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(e);return this.docs=this.docs.insert(n,{maybeDocument:e,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Vt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Vt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e){v(!e.isCollectionGroupQuery(),\"CollectionGroup queries should be handled in LocalDocumentsView\");for(var n=Rt(),r=new lt(e.path.child(\"\")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;s instanceof Ue&&e.matches(s)&&(n=n.insert(s.key,s))}return Vt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Vt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Ot();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new Ve(t,Et.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Bt(),Vt.resolve(n)},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return Vt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i)):e.documentCache.removeEntry(r)}),Vt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Qe),t}(),Xn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new ot(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Yn(this);this.indexManager=new tn,this.remoteDocumentCache=new Jn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new tr(t,new kn(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new $n(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,\"started\",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d(\"MemoryPersistence\",\"Starting transaction:\",t);var i=new Zn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Vt.or(function(t){var e=[];return I(t,function(t,n){return e.push(n)}),e}(this.mutationQueues).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Zn=function(){return function(t){this.currentSequenceNumber=t}}(),$n=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,\"orphanedDocuments\",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw m(\"orphanedDocuments is only valid during a transaction.\")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Vt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Vt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Vt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Vt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Vt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),tr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new We(function(t){return vt(t.path)}),this.garbageCollector=new Nn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Vt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Vt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Vt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,o.removeEntry(i))})}).next(function(){return o.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw m(\"Unknown remote document type\");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Vt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Vt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Vt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),er=Number,nr=er.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),rr=er.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ir=er.isInteger||function(t){return\"number\"===typeof t&&isFinite(t)&&Math.floor(t)===t};function or(t){return null===t||void 0===t}function ar(t){return ir(t)&&t<=rr&&t>=nr}var sr,ur=1e3,cr=1.5,lr=6e4,fr=function(){function t(t,e,n,r,i){void 0===n&&(n=ur),void 0===r&&(r=cr),void 0===i&&(i=lr),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d(\"ExponentialBackoff\",\"Backing off for \"+i+\" ms (base delay: \"+this.currentBaseMs+\" ms, delay with jitter: \"+n+\" ms, last attempt: \"+r+\" ms ago)\"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]=\"Initial\",t[t.Starting=1]=\"Starting\",t[t.Open=2]=\"Open\",t[t.Error=3]=\"Error\",t[t.Backoff=4]=\"Backoff\"}(sr||(sr={}));var hr,pr,dr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=sr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new fr(t,e)}return t.prototype.isStarted=function(){return this.state===sr.Starting||this.state===sr.Open||this.state===sr.Backoff},t.prototype.isOpen=function(){return this.state===sr.Open},t.prototype.start=function(){this.state!==sr.Error?(v(this.state===sr.Initial,\"Already started\"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(sr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),\"Can only inhibit backoff in a stopped state\"),this.state=sr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(sr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),\"Only started streams should be closed.\"),v(t===sr.Error||or(e),\"Can't provide an error when not in an error state.\"),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==sr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(y(e.toString()),y(\"Using maximum backoff delay to prevent overloading the backend.\"),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===sr.Initial,\"Must be in initial state to auth\"),this.state=sr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new S(w.UNKNOWN,\"Fetching auth token failed: \"+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===sr.Starting,\"Trying to start stream in a non-starting state\");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===sr.Starting,\"Expected stream to be in state Starting, but was \"+e.state),e.state=sr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===sr.Error,\"Should only perform backoff when in Error state\"),this.state=sr.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return v(this.state===sr.Backoff,\"Backoff elapsed but state is now: \"+this.state),this.state=sr.Initial,this.start(),v(this.isStarted(),\"PersistentStream should have started\"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),\"Can't handle server close on non-started stream\"),d(\"PersistentStream\",\"close with error: \"+t),this.stream=null,this.close(sr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d(\"PersistentStream\",\"stream callback skipped by getCloseGuardedDispatcher.\"),Promise.resolve())})}},t}(),yr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,$.ListenStreamConnectionBackoff,$.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream(\"Listen\",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(dr),gr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,$.WriteStreamConnectionBackoff,$.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=_(),a}return s.__extends(e,t),Object.defineProperty(e.prototype,\"handshakeComplete\",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream(\"Write\",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,\"Got a write response without a stream token\"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,\"Got mutation results for handshake\"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),\"Writing handshake requires an opened stream\"),v(!this.handshakeComplete_,\"Handshake already completed\");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),\"Writing mutations requires an opened stream\"),v(this.handshakeComplete_,\"Handshake must be complete before writing mutations\"),v(this.lastStreamToken.length>0,\"Trying to write mutation without a token\");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(dr),mr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new gr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new yr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC(\"Commit\",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC(\"BatchGetDocuments\",n).then(function(n){var r=Ot();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,\"Missing entity in write response for \"+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),vr=function(){function t(t){this.datastore=t,this.readVersions=Pt(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new S(w.INVALID_ARGUMENT,\"Firestore transactions require all reads to be executed before all writes.\");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof Ve||t instanceof Ue?n.recordVersion(t):m(\"Document in a transaction was a \"+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Te(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new S(w.INVALID_ARGUMENT,\"Every document read in a transaction must also be written.\");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Ue)e=t.version;else{if(!(t instanceof Ve))throw m(\"Document in a transaction was a \"+t.constructor.name);e=Et.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new S(w.ABORTED,\"Document version changed between two reads.\")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?be.updateTime(e):be.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(Et.forDeletedDoc()))throw new S(w.INVALID_ARGUMENT,\"Can't update a document that doesn't exist.\");return be.updateTime(e)}return be.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){v(!this.committed,\"A transaction object cannot be used after its update callback has been invoked.\")},t}();!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Online=1]=\"Online\",t[t.Offline=2]=\"Offline\"}(hr||(hr={})),function(t){t[t.RemoteStore=0]=\"RemoteStore\",t[t.SharedClientState=1]=\"SharedClientState\"}(pr||(pr={}));var br,_r=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=hr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(hr.Unknown),v(null===this.onlineStateTimer,\"onlineStateTimer shouldn't be started yet\"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay($.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===hr.Unknown,\"Timer should be canceled if we transitioned to a different state.\"),t.logClientOfflineWarningIfNecessary(\"Backend didn't respond within 10 seconds.\"),t.setAndBroadcast(hr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===hr.Online?(this.setAndBroadcast(hr.Unknown),v(0===this.watchStreamFailures,\"watchStreamFailures must be 0\"),v(null===this.onlineStateTimer,\"onlineStateTimer must be null\")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(\"Connection failed 1 times. Most recent error: \"+t.toString()),this.setAndBroadcast(hr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===hr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e=\"Could not reach Cloud Firestore backend. \"+t+\"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";this.shouldWarnClientIsOffline?(y(e),this.shouldWarnClientIsOffline=!1):d(\"OnlineStateTracker\",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}();function wr(t){switch(t){case w.OK:return m(\"Treated status OK as error\");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return m(\"Unknown status code: \"+t)}}function Sr(t){if(void 0===t)return y(\"GRPC error has no .code\"),w.UNKNOWN;switch(t){case br.OK:return w.OK;case br.CANCELLED:return w.CANCELLED;case br.UNKNOWN:return w.UNKNOWN;case br.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case br.INTERNAL:return w.INTERNAL;case br.UNAVAILABLE:return w.UNAVAILABLE;case br.UNAUTHENTICATED:return w.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case br.NOT_FOUND:return w.NOT_FOUND;case br.ALREADY_EXISTS:return w.ALREADY_EXISTS;case br.PERMISSION_DENIED:return w.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case br.ABORTED:return w.ABORTED;case br.OUT_OF_RANGE:return w.OUT_OF_RANGE;case br.UNIMPLEMENTED:return w.UNIMPLEMENTED;case br.DATA_LOSS:return w.DATA_LOSS;default:return m(\"Unknown status code: \"+t)}}function Er(t){if(void 0===t)return br.OK;switch(t){case w.OK:return br.OK;case w.CANCELLED:return br.CANCELLED;case w.UNKNOWN:return br.UNKNOWN;case w.DEADLINE_EXCEEDED:return br.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return br.RESOURCE_EXHAUSTED;case w.INTERNAL:return br.INTERNAL;case w.UNAVAILABLE:return br.UNAVAILABLE;case w.UNAUTHENTICATED:return br.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return br.INVALID_ARGUMENT;case w.NOT_FOUND:return br.NOT_FOUND;case w.ALREADY_EXISTS:return br.ALREADY_EXISTS;case w.PERMISSION_DENIED:return br.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return br.FAILED_PRECONDITION;case w.ABORTED:return br.ABORTED;case w.OUT_OF_RANGE:return br.OUT_OF_RANGE;case w.UNIMPLEMENTED:return br.UNIMPLEMENTED;case w.DATA_LOSS:return br.DATA_LOSS;default:return m(\"Unknown status code: \"+t)}}!function(t){t[t.OK=0]=\"OK\",t[t.CANCELLED=1]=\"CANCELLED\",t[t.UNKNOWN=2]=\"UNKNOWN\",t[t.INVALID_ARGUMENT=3]=\"INVALID_ARGUMENT\",t[t.DEADLINE_EXCEEDED=4]=\"DEADLINE_EXCEEDED\",t[t.NOT_FOUND=5]=\"NOT_FOUND\",t[t.ALREADY_EXISTS=6]=\"ALREADY_EXISTS\",t[t.PERMISSION_DENIED=7]=\"PERMISSION_DENIED\",t[t.UNAUTHENTICATED=16]=\"UNAUTHENTICATED\",t[t.RESOURCE_EXHAUSTED=8]=\"RESOURCE_EXHAUSTED\",t[t.FAILED_PRECONDITION=9]=\"FAILED_PRECONDITION\",t[t.ABORTED=10]=\"ABORTED\",t[t.OUT_OF_RANGE=11]=\"OUT_OF_RANGE\",t[t.UNIMPLEMENTED=12]=\"UNIMPLEMENTED\",t[t.INTERNAL=13]=\"INTERNAL\",t[t.UNAVAILABLE=14]=\"UNAVAILABLE\",t[t.DATA_LOSS=15]=\"DATA_LOSS\"}(br||(br={}));var Tr,Cr,kr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Rt(),this.sortedSet=new Tt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?\"DocumentSet ()\":\"DocumentSet (\\n  \"+t.join(\"  \\n\")+\"\\n)\"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]=\"Added\",t[t.Removed=1]=\"Removed\",t[t.Modified=2]=\"Modified\",t[t.Metadata=3]=\"Metadata\"}(Tr||(Tr={})),function(t){t[t.Local=0]=\"Local\",t[t.Synced=1]=\"Synced\"}(Cr||(Cr={}));var Ir,Dr=function(){function t(){this.changeMap=new Tt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Tr.Added&&n.type===Tr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Tr.Metadata&&n.type!==Tr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Tr.Modified&&n.type===Tr.Modified?this.changeMap=this.changeMap.insert(e,{type:Tr.Modified,doc:t.doc}):t.type===Tr.Modified&&n.type===Tr.Added?this.changeMap=this.changeMap.insert(e,{type:Tr.Added,doc:t.doc}):t.type===Tr.Removed&&n.type===Tr.Added?this.changeMap=this.changeMap.remove(e):t.type===Tr.Removed&&n.type===Tr.Modified?this.changeMap=this.changeMap.insert(e,{type:Tr.Removed,doc:n.doc}):t.type===Tr.Added&&n.type===Tr.Removed?this.changeMap=this.changeMap.insert(e,{type:Tr.Modified,doc:t.doc}):m(\"unsupported combination of changes: \"+JSON.stringify(t)+\" after \"+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),xr=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Tr.Added,doc:t})}),new t(e,n,kr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,\"hasPendingWrites\",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.syncStateChanged!==t.syncStateChanged||!this.mutatedKeys.isEqual(t.mutatedKeys)||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ar=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Et.MIN,i,qt(),Ot(),Bt())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Bt(),Bt(),Bt())},t}(),Nr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Mr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]=\"NoChange\",t[t.Added=1]=\"Added\",t[t.Removed=2]=\"Removed\",t[t.Current=3]=\"Current\",t[t.Reset=4]=\"Reset\"}(Ir||(Ir={}));var Rr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Lr=function(){function t(){this.pendingResponses=0,this.documentChanges=Br(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,\"current\",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"resumeToken\",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isPending\",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hasPendingChanges\",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Bt(),e=Bt(),n=Bt();return this.documentChanges.forEach(function(r,i){switch(i){case Tr.Added:t=t.add(r);break;case Tr.Modified:e=e.add(r);break;case Tr.Removed:n=n.add(r);break;default:m(\"Encountered invalid change type: \"+i)}}),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Br()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Pr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ot(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Dt(G)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof Ue?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Ve&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ir.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ir.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ir.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,\"WatchChangeAggregator does not handle errored targets\");break;case Ir.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ir.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:m(\"Unknown target watch change state: \"+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new lt(i.path);this.removeDocumentFromTarget(e,o,new Ve(o,Et.forDeletedDoc()))}else v(1===n,\"Single document existence filter with count: \"+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new lt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new Ve(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Bt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===wn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ar(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ot(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Dt(G),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Tr.Modified:Tr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Tr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Lr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Dt(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||d(\"WatchChangeAggregator\",\"Detected inactive target\",t),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,\"Should only reset active targets\"),this.targetStates[t]=new Lr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Fr(){return new Tt(lt.comparator)}function Br(){return new Tt(lt.comparator)}var jr=\"RemoteStore\",qr=function(){function t(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return s.__awaiter(o,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(jr,\"Restarting streams for network reachability change.\"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new _r(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(hr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(hr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d(jr,\"Stopping write stream with \"+this.writePipeline.length+\" pending writes\"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return d(jr,\"RemoteStore shutting down.\"),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(hr.Unknown),[2]}})})},t.prototype.listen=function(t){v(!T(this.listenTargets,t.targetId),\"listen called with duplicate targetId!\"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(T(this.listenTargets,t),\"unlisten called without assigned target ID!\"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),D(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(hr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),\"startWatchStream() called when shouldStartWatchStream() is false.\"),this.watchChangeAggregator=new Pr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!D(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return k(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),\"Watch stream was stopped gracefully while still needed.\"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(hr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(hr.Online),t instanceof Rr&&t.state===Ir.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Nr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Mr?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Rr,\"Expected watchChange to be an instance of WatchTargetChange\"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Et.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(Et.MIN),\"Can't raise event for unknown SnapshotVersion\");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(_(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Cn(n.query,t,wn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,\"Handling target error without a cause\");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return T(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),\"addToWritePipeline called when pipeline is full\"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),\"startWriteStream() called when shouldStartWriteStream() is false.\"),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(jn)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,\"Got result for empty write pipeline\");var r=this.writePipeline.shift(),i=Ut.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),\"Write stream was stopped gracefully while still needed.\"),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return wr(t.code)?(d(jr,\"RemoteStore error before completed handshake; resetting stream token: \",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(jn)]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return wr(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new vr(this.datastore)},t.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(hr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(jr,\"RemoteStore restarting streams for new credential\"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(hr.Unknown),e.label=4;case 4:return[2]}})})},t}(),Kr=function(){function t(t,e){if(A(\"GeoPoint\",arguments,2),M(\"GeoPoint\",\"number\",1,t),M(\"GeoPoint\",\"number\",2,e),!isFinite(t)||t<-90||t>90)throw new S(w.INVALID_ARGUMENT,\"Latitude must be a number between -90 and 90, but was: \"+t);if(!isFinite(e)||e<-180||e>180)throw new S(w.INVALID_ARGUMENT,\"Longitude must be a number between -180 and 180, but was: \"+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,\"latitude\",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"longitude\",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),Ur=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,\"orderBy\",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[ti]:this.memoizedOrderBy=[new $r(t),ti];else{v(null===t||null!==e&&t.isEqual(e),\"First orderBy should match inequality field.\"),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Xr.ASCENDING;this.memoizedOrderBy.push(a===Xr.ASCENDING?ti:ei)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Wr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),\"Query must only have one inequality field.\"),v(!this.isDocumentQuery(),\"No filtering allowed for document query\");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,\"Bounds must be set after orderBy\");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+=\"|cg:\"+this.collectionGroup),t+=\"|f:\";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=\",\"}t+=\"|ob:\";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=\",\"}or(this.limit)||(t+=\"|l:\",t+=this.limit),this.startAt&&(t+=\"|lb:\",t+=this.startAt.canonicalId()),this.endAt&&(t+=\"|ub:\",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=\"Query(\"+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=\" collectionGroup=\"+this.collectionGroup),this.filters.length>0&&(t+=\", filters: [\"+this.filters.join(\", \")+\"]\"),or(this.limit)||(t+=\", limit: \"+this.limit),this.explicitOrderBy.length>0&&(t+=\", orderBy: [\"+this.explicitOrderBy.join(\", \")+\"]\"),this.startAt&&(t+=\", startAt: \"+this.startAt.canonicalId()),this.endAt&&(t+=\", endAt: \"+this.endAt.canonicalId()),t+\")\"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return v(n,\"orderBy used that doesn't compare on key field\"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!or(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Wr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,\"Bound is longer than orderBy\")},t}(),Vr=function(){return function(){}}(),zr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case\"<\":return t.LESS_THAN;case\"<=\":return t.LESS_THAN_OR_EQUAL;case\"==\":return t.EQUAL;case\">=\":return t.GREATER_THAN_OR_EQUAL;case\">\":return t.GREATER_THAN;case\"array-contains\":return t.ARRAY_CONTAINS;case\"in\":return t.IN;case\"array-contains-any\":return t.ARRAY_CONTAINS_ANY;default:return m(\"Unknown FieldFilter operator: \"+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t(\"<\"),t.LESS_THAN_OR_EQUAL=new t(\"<=\"),t.EQUAL=new t(\"==\"),t.GREATER_THAN=new t(\">\"),t.GREATER_THAN_OR_EQUAL=new t(\">=\"),t.ARRAY_CONTAINS=new t(\"array-contains\"),t.IN=new t(\"in\"),t.ARRAY_CONTAINS_ANY=new t(\"array-contains-any\"),t}(),Wr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===zr.IN?(v(r instanceof qe,\"Comparing on key with IN, but filter value not an ArrayValue\"),v(r.internalValue.every(function(t){return t instanceof Fe}),\"Comparing on key with IN, but an array value was not a RefValue\"),new Hr(t,r)):(v(r instanceof Fe,\"Comparing on key, but filter value not a RefValue\"),v(n!==zr.ARRAY_CONTAINS&&n!==zr.ARRAY_CONTAINS_ANY,\"'\"+n.toString()+\"' queries don't make sense on document keys.\"),new Qr(t,n,r));if(r.isEqual(Ie.INSTANCE)){if(n!==zr.EQUAL)throw new S(w.INVALID_ARGUMENT,\"Invalid query. Null supports only equality comparisons.\");return new e(t,n,r)}if(r.isEqual(Ne.NAN)){if(n!==zr.EQUAL)throw new S(w.INVALID_ARGUMENT,\"Invalid query. NaN supports only equality comparisons.\");return new e(t,n,r)}return n===zr.ARRAY_CONTAINS?new Gr(t,r):n===zr.IN?(v(r instanceof qe,\"IN filter has invalid value: \"+r.toString()),new Yr(t,r)):n===zr.ARRAY_CONTAINS_ANY?(v(r instanceof qe,\"ARRAY_CONTAINS_ANY filter has invalid value: \"+r.toString()),new Jr(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case zr.LESS_THAN:return t<0;case zr.LESS_THAN_OR_EQUAL:return t<=0;case zr.EQUAL:return 0===t;case zr.GREATER_THAN:return t>0;case zr.GREATER_THAN_OR_EQUAL:return t>=0;default:return m(\"Unknown FieldFilter operator: \"+this.op)}},e.prototype.isInequality=function(){return[zr.LESS_THAN,zr.LESS_THAN_OR_EQUAL,zr.GREATER_THAN,zr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+\" \"+this.op+\" \"+this.value.value()},e}(Vr),Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=lt.comparator(t.key,e.key);return this.matchesComparison(n)},e}(Wr),Hr=function(t){function e(e,n){var r=t.call(this,e,zr.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(Wr),Gr=function(t){function e(e,n){return t.call(this,e,zr.ARRAY_CONTAINS,n)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof qe&&e.contains(this.value)},e}(Wr),Yr=function(t){function e(e,n){var r=t.call(this,e,zr.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Wr),Jr=function(t){function e(e,n){var r=t.call(this,e,zr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof qe&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(Wr),Xr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t(\"asc\"),t.DESCENDING=new t(\"desc\"),t}(),Zr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?\"b:\":\"a:\",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,\"Bound has more components than query's orderBy\");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Fe,\"Bound has a non-key value where the key path is being used.\"),n=lt.comparator(o.key,e.key);else{var a=e.field(i.field);v(null!==a,\"Field should exist since document matched the orderBy already.\"),n=o.compareTo(a)}if(i.dir===Xr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},t}(),$r=function(){function t(t,e){this.field=t,void 0===e&&(e=Xr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Ue.compareByKey(t,e):Ue.compareByField(this.field,t,e);switch(this.dir){case Xr.ASCENDING:return n;case Xr.DESCENDING:return-1*n;default:return m(\"Unknown direction: \"+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+\" (\"+this.dir+\")\"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ti=new $r(ct.keyField(),Xr.ASCENDING),ei=new $r(ct.keyField(),Xr.DESCENDING),ni=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Le(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ri=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ai(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ii=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ai(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),oi=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof Oe&&this.operand instanceof Oe){var r=n.internalValue+this.operand.internalValue;return new Oe(r)}r=n.internalValue+this.operand.internalValue;return new Ne(r)},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,\"Didn't receive transformResult for NUMERIC_ADD transform\"),e},t.prototype.computeBaseValue=function(t){return t instanceof xe?t:new Oe(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ai(t){return t instanceof qe?t.internalValue.slice():[]}var si=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ui=function(){var t={};return t[Xr.ASCENDING.name]=\"ASCENDING\",t[Xr.DESCENDING.name]=\"DESCENDING\",t}(),ci=function(){var t={};return t[zr.LESS_THAN.name]=\"LESS_THAN\",t[zr.LESS_THAN_OR_EQUAL.name]=\"LESS_THAN_OR_EQUAL\",t[zr.GREATER_THAN.name]=\"GREATER_THAN\",t[zr.GREATER_THAN_OR_EQUAL.name]=\"GREATER_THAN_OR_EQUAL\",t[zr.EQUAL.name]=\"EQUAL\",t[zr.ARRAY_CONTAINS.name]=\"ARRAY_CONTAINS\",t[zr.IN.name]=\"IN\",t[zr.ARRAY_CONTAINS_ANY.name]=\"ARRAY_CONTAINS_ANY\",t}(),li=new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);function fi(t,e){v(!or(t),e+\" is missing\")}function hi(t){return\"number\"===typeof t?t:\"string\"===typeof t?Number(t):m(\"can't parse \"+t)}var pi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?\"\":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Sr(t.code);return new S(e,t.message||\"\")},t.prototype.toInt32Value=function(t){return or(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return or(e=\"object\"===typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:\"\"+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if(\"string\"===typeof t)return this.fromIso8601String(t);v(!!t,\"Cannot deserialize null or undefined timestamp.\");var e=hi(t.seconds||\"0\"),n=t.nanos||0;return new St(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=li.exec(t);if(v(!!n,\"invalid timestamp: \"+t),n[1]){var r=n[1];r=(r+\"000000000\").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new St(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return\"string\"===typeof t?(v(this.options.useProto3Json,\"Expected bytes to be passed in as Uint8Array, but got a string instead.\"),tt.fromBase64String(t)):(v(!this.options.useProto3Json,\"Expected bytes to be passed in as Uint8Array, but got a string instead.\"),tt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,\"Trying to deserialize version that isn't set\"),Et.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child(\"documents\").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return v(this.isValidResourceName(e),\"Tried to deserialize invalid key \"+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,\"Tried to deserialize key from different project: \"+e.get(1)+\" vs \"+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,\"Tried to deserialize key from different database: \"+e.get(3)+\" vs \"+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,\"encodedDatabaseId\",{get:function(){return new st([\"projects\",this.databaseId.projectId,\"databases\",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st([\"projects\",t.projectId,\"databases\",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&\"documents\"===t.get(4),\"tried to deserialize invalid key \"+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&\"projects\"===t.get(0)&&\"databases\"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ie)return{nullValue:\"NULL_VALUE\"};if(t instanceof De)return{booleanValue:t.value()};if(t instanceof Oe)return{integerValue:\"\"+t.value()};if(t instanceof Ne){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:\"NaN\"};if(e===1/0)return{doubleValue:\"Infinity\"};if(e===-1/0)return{doubleValue:\"-Infinity\"}}return{doubleValue:t.value()}}return t instanceof Me?{stringValue:t.value()}:t instanceof je?{mapValue:this.toMapValue(t)}:t instanceof qe?{arrayValue:this.toArrayValue(t)}:t instanceof Re?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Be?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Pe?{bytesValue:this.toBytes(t.value())}:t instanceof Fe?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:m(\"Unknown FieldValue \"+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if(\"nullValue\"in t)return Ie.INSTANCE;if(\"booleanValue\"in t)return De.of(t.booleanValue);if(\"integerValue\"in t)return new Oe(hi(t.integerValue));if(\"doubleValue\"in t){if(this.options.useProto3Json){if(\"NaN\"===t.doubleValue)return Ne.NAN;if(\"Infinity\"===t.doubleValue)return Ne.POSITIVE_INFINITY;if(\"-Infinity\"===t.doubleValue)return Ne.NEGATIVE_INFINITY}return new Ne(t.doubleValue)}if(\"stringValue\"in t)return new Me(t.stringValue);if(\"mapValue\"in t)return this.fromFields(t.mapValue.fields||{});if(\"arrayValue\"in t){fi(t.arrayValue,\"arrayValue\");var n=t.arrayValue.values||[];return new qe(n.map(function(t){return e.fromValue(t)}))}if(\"timestampValue\"in t)return fi(t.timestampValue,\"timestampValue\"),new Re(this.fromTimestamp(t.timestampValue));if(\"geoPointValue\"in t){fi(t.geoPointValue,\"geoPointValue\");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Be(new Kr(r,i))}if(\"bytesValue\"in t){fi(t.bytesValue,\"bytesValue\");var o=this.fromBlob(t.bytesValue);return new Pe(o)}if(\"referenceValue\"in t){fi(t.referenceValue,\"referenceValue\");var a=this.fromResourceName(t.referenceValue),s=new it(a.get(1),a.get(3)),u=new lt(this.extractLocalPathFromResourceName(a));return new Fe(s,u)}return m(\"Unknown Value proto \"+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,\"Can't serialize documents with mutations.\"),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new Ue(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=je.EMPTY;return I(n,function(t,n){r=r.set(new ct([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;v(!!t.found,\"Tried to deserialize a found document from a missing document.\"),fi(t.found.name,\"doc.found.name\"),fi(t.found.updateTime,\"doc.found.updateTime\");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new Ue(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){v(!!t.missing,\"Tried to deserialize a missing document from a found document.\"),v(!!t.readTime,\"Tried to deserialize a missing document without a read time.\");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Ve(e,n)},t.prototype.fromMaybeDocument=function(t){return\"found\"in t?this.fromFound(t):\"missing\"in t?this.fromMissing(t):m(\"invalid batch get response: \"+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ir.Added:return\"ADD\";case Ir.Current:return\"CURRENT\";case Ir.NoChange:return\"NO_CHANGE\";case Ir.Removed:return\"REMOVE\";case Ir.Reset:return\"RESET\";default:return m(\"Unknown WatchTargetChangeState: \"+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Mr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Nr){if(t.newDoc instanceof Ue){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof Ve){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Rr){var n=void 0;return t.cause&&(n={code:Er(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return m(\"Unrecognized watch change: \"+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if(\"targetChange\"in t){fi(t.targetChange,\"targetChange\");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||\"NO_CHANGE\"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Rr(r,i,o,s||null)}else if(\"documentChange\"in t){fi(t.documentChange,\"documentChange\"),fi(t.documentChange.document,\"documentChange.name\"),fi(t.documentChange.document.name,\"documentChange.document.name\"),fi(t.documentChange.document.updateTime,\"documentChange.document.updateTime\");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Ue(c,l,{},void 0,u.document,function(t){return n.fromValue(t)}),h=u.targetIds||[],p=u.removedTargetIds||[];e=new Nr(h,p,f.key,f)}else if(\"documentDelete\"in t){fi(t.documentDelete,\"documentDelete\"),fi(t.documentDelete.document,\"documentDelete.document\");var d=t.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):Et.forDeletedDoc(),f=new Ve(c,l),p=d.removedTargetIds||[];e=new Nr([],p,f.key,f)}else if(\"documentRemove\"in t){fi(t.documentRemove,\"documentRemove\"),fi(t.documentRemove.document,\"documentRemove\");var y=t.documentRemove;c=this.fromName(y.document),p=y.removedTargetIds||[];e=new Nr([],p,c,null)}else{if(!(\"filter\"in t))return m(\"Unknown change type \"+JSON.stringify(t));fi(t.filter,\"filter\"),fi(t.filter.targetId,\"filter.targetId\");var g=t.filter,v=g.count||0,b=new si(v),_=g.targetId;e=new Mr(_,b)}return e},t.prototype.fromWatchTargetChangeState=function(t){return\"NO_CHANGE\"===t?Ir.NoChange:\"ADD\"===t?Ir.Added:\"REMOVE\"===t?Ir.Removed:\"CURRENT\"===t?Ir.Current:\"RESET\"===t?Ir.Reset:m(\"Got unexpected TargetChange.state: \"+t)},t.prototype.versionFromListenResponse=function(t){if(!(\"targetChange\"in t))return Et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Et.MIN:e.readTime?this.fromVersion(e.readTime):Et.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof we)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Te)e={delete:this.toName(t.key)};else if(t instanceof Se)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ee))return m(\"Unknown mutation type \"+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):be.NONE;if(t.update){fi(t.update.name,\"name\");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Se(r,i,o,n)}return new we(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new Te(r,n)}if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition \"exists == true\"'),new Ee(r,a)}return m(\"unknown mutation proto: \"+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,\"Can't serialize an empty precondition\"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m(\"Unknown precondition\")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?be.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ge(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,\"Received a write result without a commit time\"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ni)return{fieldPath:t.field.canonicalString(),setToServerValue:\"REQUEST_TIME\"};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof oi)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw m(\"Unknown transform: \"+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if(\"setToServerValue\"in t)v(\"REQUEST_TIME\"===t.setToServerValue,\"Unknown server value transform proto: \"+JSON.stringify(t)),n=ni.instance;else if(\"appendMissingElements\"in t){var r=t.appendMissingElements.values||[];n=new ri(r.map(function(t){return e.fromValue(t)}))}else if(\"removeAllFromArray\"in t){r=t.removeAllFromArray.values||[];n=new ii(r.map(function(t){return e.fromValue(t)}))}else if(\"increment\"in t){var i=this.fromValue(t.increment);v(i instanceof xe,\"NUMERIC_ADD transform requires a NumberValue\"),n=new oi(i)}else m(\"Unknown transform proto: \"+JSON.stringify(t));var o=ct.fromServerFormat(t.fieldPath);return new ye(o,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;v(1===e,\"DocumentsTarget contained other than 1 document: \"+e);var n=t.documents[0];return Ur.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2===0,\"Collection Group queries should be within a document path or root.\"),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!==0,\"Document queries with filters are not supported.\"),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,\"StructuredQuery.from with more than one collection is not supported.\");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Ur(e,i,s,a,u,c,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{\"goog-listen-tags\":e}},t.prototype.toLabel=function(t){switch(t){case wn.Listen:return null;case wn.ExistenceFilterMismatch:return\"existence-filter-mismatch\";case wn.LimboResolution:return\"limbo-document\";default:return m(\"Unrecognized query purpose: \"+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wr?e.toUnaryOrFieldFilter(t):m(\"Unrecognized filter: \"+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:\"AND\",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):m(\"Unknown filter: \"+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Zr(r,n)},t.prototype.toDirection=function(t){return ui[t.name]},t.prototype.fromDirection=function(t){switch(t){case\"ASCENDING\":return Xr.ASCENDING;case\"DESCENDING\":return Xr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return ci[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case\"EQUAL\":return zr.EQUAL;case\"GREATER_THAN\":return zr.GREATER_THAN;case\"GREATER_THAN_OR_EQUAL\":return zr.GREATER_THAN_OR_EQUAL;case\"LESS_THAN\":return zr.LESS_THAN;case\"LESS_THAN_OR_EQUAL\":return zr.LESS_THAN_OR_EQUAL;case\"ARRAY_CONTAINS\":return zr.ARRAY_CONTAINS;case\"IN\":return zr.IN;case\"ARRAY_CONTAINS_ANY\":return zr.ARRAY_CONTAINS_ANY;case\"OPERATOR_UNSPECIFIED\":return m(\"Unspecified operator\");default:return m(\"Unknown operator\")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ct.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new $r(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Wr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===zr.EQUAL){if(t.value.isEqual(Ne.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:\"IS_NAN\"}};if(t.value.isEqual(Ie.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:\"IS_NULL\"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case\"IS_NAN\":var e=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(e,zr.EQUAL,Ne.NAN);case\"IS_NULL\":var n=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(n,zr.EQUAL,Ie.INSTANCE);case\"OPERATOR_UNSPECIFIED\":return m(\"Unspecified filter\");default:return m(\"Unknown filter\")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ct.fromServerFormat(t)});return de.fromArray(e)},t}(),di=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),yi=function(){function t(t){this.syncEngine=t,this.queries=new We(function(t){return t.canonicalId()}),this.onlineState=hr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);(r||(n=!0,r=new di,this.queries.set(e,r)),r.listeners.push(t),v(!t.applyOnlineStateChange(this.onlineState),\"applyOnlineStateChange() shouldn't raise an event for brand-new listeners.\"),r.viewSnap)&&(t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(i)&&(e=!0)}a.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++){o[i].applyOnlineStateChange(t)&&(e=!0)}}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),gi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=hr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,\"We got a new snapshot with no changes?\"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Tr.Metadata&&e.push(i)}t=new xr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){if(v(!this.raisedInitialEvent,\"Determining whether to raise first event but already had first event\"),!t.fromCache)return!0;var n=e!==hr.Offline;return this.options.waitForSyncWhenOnline&&n?(v(t.fromCache,\"Waiting for sync, but snapshot is not from cache\"),!1):!t.docs.isEmpty()||e===hr.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,\"Trying to raise initial events for second time\"),t=xr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),mi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Bt(),i=Bt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Tr.Added:r=r.add(s.doc.key);break;case Tr.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),vi=function(){return function(t){this.key=t}}(),bi=function(){return function(t){this.key=t}}(),_i=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Bt(),this.mutatedKeys=Bt(),this.documentSet=new kr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,\"syncedDocuments\",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Dr,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof Ue?e:null;l&&(v(t.isEqual(l.key),\"Mismatching keys found in document changes: \"+t+\" != \"+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:Tr.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Tr.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Tr.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Tr.Removed,doc:c}),p=!0,u&&(s=!0));p&&(l?(a=a.add(l),o=h?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Tr.Removed,doc:c})}return v(!s||!e,\"View was refilled using docs that themselves needed refilling.\"),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,\"Cannot apply changes that need a refill\");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Tr.Added:return 1;case Tr.Modified:case Tr.Metadata:return 2;case Tr.Removed:return 0;default:return m(\"Unknown ChangeType: \"+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Cr.Synced:Cr.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new xr(this.query,t.documentSet,i,o,t.mutatedKeys,s===Cr.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===hr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Dr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),\"Modified document \"+t+\" not found in view.\")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Bt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new bi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new vi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Bt();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return xr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Cr.Local)},t}();var wi=5,Si=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=wi,this.backoff=new fr(this.asyncQueue,$.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return s.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!or(e)&&e.catch&&e.then?e:(this.deferred.reject(Error(\"Transaction callback must return a Promise\")),null)}catch(y){return this.deferred.reject(y),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if(\"FirebaseError\"===t.name){var e=t.code;return\"aborted\"===e||\"failed-precondition\"===e||!wr(e)}return!1},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ti=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Ci=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new We(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Tt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Wn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=$t.forSyncEngine(),this.isPrimary=void 0,this.onlineState=hr.Unknown}return Object.defineProperty(t.prototype,\"isPrimaryClient\",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,\"SyncEngine listener cannot be null\"),v(null===this.syncEngineListener,\"SyncEngine already has a subscriber.\"),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed(\"listen()\"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,\"current\"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l;return s.__generator(this,function(s){switch(s.label){case 0:return n=t.query,[4,this.localStore.executeQuery(n)];case 1:return r=s.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return i=s.sent(),o=new _i(n,i),a=o.computeDocChanges(r),u=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==hr.Offline),v(0===(c=o.applyChanges(a,!0===this.isPrimary,u)).limboChanges.length,\"View returned limbo docs before target ack from the server.\"),v(!!c.snapshot,\"applyChanges for new view should always return a snapshot\"),l=new Ei(n,t.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[t.targetId]=l,[2,c.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r;return s.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query)];case 1:return e=i.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return n=i.sent(),r=t.view.synchronizeWithPersistedState(e,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,r.limboChanges),[2,r]}})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed(\"unlisten()\"),v(!!(e=this.queryViewsByQuery.get(t)),\"Trying to unlisten on query not found:\"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(jn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed(\"write()\"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Si(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed(\"applyRemoteEvent()\"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),I(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,\"Limbo resolution for single document contains multiple changes.\"),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?v(r.receivedDocument,\"Received change for limbo target document without add.\"):e.removedDocuments.size>0&&(v(r.receivedDocument,\"Received remove for limbo target document without add.\"),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===pr.RemoteStore||!this.isPrimary&&e===pr.SharedClientState){this.assertSubscribed(\"applyOnlineStateChange()\");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,\"OnlineState should not affect limbo documents.\"),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed(\"rejectListens()\"),this.sharedClientState.updateQueryState(t,\"rejected\",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new Tt(lt.comparator)).insert(r,new Ve(r,Et.forDeletedDoc())),o=Bt().add(r),a=new Ar(Et.MIN,{},new Dt(G),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[t]),\"Unknown targetId: \"+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(jn)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed(\"applyBatchState()\"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d(\"SyncEngine\",\"Cannot apply mutation batch with id: \"+t),[2]):\"pending\"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:\"acknowledged\"===e||\"rejected\"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):m(\"Unknown batchState: \"+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed(\"applySuccessfulWrite()\"),e=t.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,\"acknowledged\"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed(\"rejectFailedWrite()\"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,\"rejected\",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||d(\"SyncEngine\",\"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new S(w.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Tt(G)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),\"Mutation callbacks processed out-of-order?\"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof vi)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof bi){d(\"SyncEngine\",\"Document no longer in limbo: \"+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else m(\"Unknown limbo change: \"+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d(\"SyncEngine\",\"New document in limbo: \"+e);var n=this.limboTargetIdGenerator.next(),r=Ur.atPath(e.path);this.limboResolutionsByTarget[n]=new Ti(e),this.remoteStore.listen(new Cn(r,n,wn.LimboResolution,ot.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?\"not-current\":\"current\"),n.push(a.snapshot);var u=mi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,\"Trying to call \"+t+\" before calling subscribe().\")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks(\"'waitForPendingWrites' promise is rejected due to a user change.\"),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),k(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Tt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,l;return s.__generator(this,function(s){switch(s.label){case 0:e=[],n=[],r=0,i=t,s.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(u=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return s.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return a=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(c=s.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return v(!0===this.isPrimary,\"A secondary tab should never have an active query without an active view.\"),[4,this.localStore.getQueryForTarget(o)];case 6:return v(!!(l=s.sent()),\"Query data for target \"+o+\" not found\"),[4,this.localStore.allocateQuery(l)];case 7:return a=s.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:s.sent(),s.label=9;case 9:e.push(a),s.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r,i,o,a,u;return s.__generator(this,function(s){switch(s.label){case 0:if(this.isPrimary)return d(\"SyncEngine\",\"Ignoring unexpected query state notification.\"),[2];if(!this.queryViewsByTarget[t])return[3,11];switch(e){case\"current\":case\"not-current\":return[3,1];case\"rejected\":return[3,8]}return[3,10];case 1:return s.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=Ar.createSynthesizedRemoteEventForCurrentChange(t,\"current\"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,11];case 4:return o=s.sent(),(c=o).code!==w.DATA_LOSS||c.message!==He?[3,6]:(a=[],k(this.queryViewsByTarget,function(t){return a.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]);case 5:return s.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return u=this.queryViewsByTarget[t],this.removeAndCleanupQuery(u),[4,this.localStore.releaseQuery(u.query,!0)];case 9:return s.sent(),this.syncEngineListener.onWatchError(u.query,n),[3,11];case 10:m(\"Unexpected target state: \"+e),s.label=11;case 11:return[2]}var c})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(f=r[n],v(!this.queryViewsByTarget[f],\"Trying to add an already active target\"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return v(!!(i=p.sent()),\"Query data for active target \"+f+\" not found\"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){h.remoteStore.unlisten(t),h.removeAndCleanupQuery(e)}).catch(jn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?(f=l[c],[5,a(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Bt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Bt()},t}(),ki=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?\"uid:\"+this.uid:\"anonymous-user\"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t(\"google-credentials-uid\"),t.FIRST_PARTY=new t(\"first-party-uid\"),t}(),Ii=\"SharedClientState\",Di=\"firestore_clients\",xi=\"firestore_mutations\",Ai=\"firestore_targets\",Oi=\"firestore_online_state\",Ni=\"firestore_sequence_number\",Mi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r===(\"rejected\"===n),\"MutationMetadata must contain an error iff state is 'rejected'\")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o=\"object\"===typeof i&&-1!==[\"pending\",\"acknowledged\",\"rejected\"].indexOf(i.state)&&(void 0===i.error||\"object\"===typeof i.error),a=void 0;return o&&i.error&&(o=\"string\"===typeof i.error.message&&\"string\"===typeof i.error.code)&&(a=new S(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(y(Ii,\"Failed to parse mutation state for ID '\"+n+\"': \"+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n===(\"rejected\"===e),\"QueryTargetMetadata must contain an error iff state is 'rejected'\")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i=\"object\"===typeof r&&-1!==[\"not-current\",\"current\",\"rejected\"].indexOf(r.state)&&(void 0===r.error||\"object\"===typeof r.error),o=void 0;return i&&r.error&&(i=\"string\"===typeof r.error.message&&\"string\"===typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(Ii,\"Failed to parse target state for ID '\"+e+\"': \"+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i=\"object\"===typeof r&&r.activeTargetIds instanceof Array,o=qt(),a=0;i&&a<r.activeTargetIds.length;++a)i=ar(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(y(Ii,\"Failed to parse client data for instance '\"+e+\"': \"+n),null)},t}(),Pi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return\"object\"===typeof n&&n.onlineState in hr&&\"string\"===typeof n.clientId?new t(n.clientId,hr[n.onlineState]):(y(Ii,\"Failed to parse online state: \"+e),null)},t}(),Fi=function(){function t(){this.activeTargetIds=qt()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),\"Target with ID '\"+t+\"' already active.\"),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new S(w.UNIMPLEMENTED,\"LocalStorage is not available on this platform.\");var a=r.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ni+\"_\"+r,this.activeClients[this.localClientId]=new Fi,this.clientStateKeyRe=new RegExp(\"^\"+Di+\"_\"+a+\"_([^_]*)$\"),this.mutationBatchKeyRe=new RegExp(\"^\"+xi+\"_\"+a+\"_(\\\\d+)(?:_(.*))?$\"),this.queryTargetKeyRe=new RegExp(\"^\"+Ai+\"_\"+a+\"_(\\\\d+)$\"),this.onlineStateKey=Oi+\"_\"+r,this.platform.window.addEventListener(\"storage\",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(s){switch(s.label){case 0:return v(!this.started,\"WebStorageSharedClientState already started\"),v(null!==this.syncEngine,\"syncEngine property must be set before calling start()\"),v(null!==this.onlineStateHandler,\"onlineStateHandler property must be set before calling start()\"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Li.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener(\"unload\",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=qt();return I(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,\"pending\")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e=\"not-current\";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ri.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener(\"storage\",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(Ii,\"READ\",t,e),e},t.prototype.setItem=function(t,e){d(Ii,\"SET\",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(Ii,\"REMOVE\",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(Ii,\"EVENT\",t.key,t.newValue),t.key===this.localClientStorageKey)return void y(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,\"Missing sequenceNumberHandler\"),(a=function(t){var e=ot.INVALID;if(null!=t)try{var n=JSON.parse(t);v(\"number\"===typeof n,\"Found non-numeric sequence number\"),e=n}catch(r){y(Ii,\"Failed to read sequence number from WebStorage\",r)}return e}(t.newValue))!==ot.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,\"localClientState\",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Mi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:hr[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ri(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf(\"_\"),\"Client key cannot contain '_', but was '\"+t+\"'\"),Di+\"_\"+this.persistenceKey+\"_\"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ai+\"_\"+this.persistenceKey+\"_\"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=xi+\"_\"+this.persistenceKey+\"_\"+t;return this.currentUser.isAuthenticated()&&(e+=\"_\"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,\"Cannot parse client state key '\"+t+\"'\"),Li.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,\"Cannot parse mutation batch key '\"+t+\"'\");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mi.fromWebStorageEntry(new ki(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,\"Cannot parse query target key '\"+t+\"'\");var r=Number(n[1]);return Ri.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Pi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(Ii,\"Ignoring mutation for non-active user \"+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var ji=function(){function t(){this.localState=new Fi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||\"not-current\"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Fi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),qi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return An.withCacheSize(this.cacheSizeBytes)},t}(),Ki=function(){return function(){}}(),Ui=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=H.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ft,r=new ft,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof qi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \"+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof S?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(\"undefined\"!==typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,\"The client has already been terminated.\")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Bn.buildStoragePrefix(this.databaseInfo),i=new pi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!Bi.isAvailable(this.platform))throw new S(w.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Bi(this.asyncQueue,this.platform,r,this.clientId,t):new ji,[4,Bn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Xn.createEagerPersistence(this.clientId),this.sharedClientState=new ji,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d(\"FirestoreClient\",\"Initializing. user=\",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return s.__awaiter(n,void 0,void 0,function(){var n,i,o,a,u,c=this;return s.__generator(this,function(l){switch(l.label){case 0:return this.localStore=new Hn(this.persistence,t),e&&(this.lruScheduler=new On(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new mr(this.asyncQueue,r,this.credentials,i),a=function(t){return c.syncEngine.applyOnlineStateChange(t,pr.RemoteStore)},u=function(t){return c.syncEngine.applyOnlineStateChange(t,pr.SharedClientState)},this.remoteStore=new qr(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new Ci(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.__awaiter(c,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return l.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return s.__awaiter(c,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 4:return l.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d(\"FirestoreClient\",\"Credential Changed. Current user: \"+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ft;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new gi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof Ue)return t;if(t instanceof Ve)return null;throw new S(w.UNAVAILABLE,\"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Bt(),r=new _i(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ft;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,\"clientTerminated\",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ft;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Vi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" argument to be an array with at least \"+Q(r,\"element\")+\".\")}(\"FieldPath\",t,\"fieldNames\",1);for(var n=0;n<t.length;++n)if(M(\"FieldPath\",\"string\",n,t[n]),0===t[n].length)throw new S(w.INVALID_ARGUMENT,\"Invalid field name at argument $(i + 1). Field names must not be empty.\");this._internalPath=new ct(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z(\"isEqual\",\"FieldPath\",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ct.keyField().canonicalString()),t}(),Wi=new RegExp(\"[~\\\\*/\\\\[\\\\]]\");var Qi=function(){return function(t,e){this.user=e,this.type=\"OAuth\",this.authHeaders={Authorization:\"Bearer \"+t}}}(),Hi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,\"Can only call setChangeListener() once.\"),this.changeListener=t,t(ki.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,\"removeChangeListener() when no listener registered\"),this.changeListener=null},t}(),Gi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,\"getToken cannot be called after listener removed.\");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new S(w.ABORTED,\"getToken aborted due to token change.\");return n?(v(\"string\"===typeof n.accessToken,\"Invalid tokenData returned from getToken():\"+n),new Qi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,\"Can only call setChangeListener() once.\"),this.changeListener=t,t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,\"removeChangeListener() called twice\"),v(null!==this.changeListener,\"removeChangeListener() called when no listener registered\"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||\"string\"===typeof t,\"Received invalid UID: \"+t),new ki(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type=\"FirstParty\",this.user=ki.FIRST_PARTY}return Object.defineProperty(t.prototype,\"authHeaders\",{get:function(){var t={\"X-Goog-AuthUser\":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Ji=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ki.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xi(t){return function(t,e){if(\"object\"!==typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&\"function\"===typeof n[o])return!0}return!1}(t,[\"next\",\"error\",\"complete\"])}var Zi,$i=function(){function t(t){this._methodName=t}return t.delete=function(){return x(\"FieldValue.delete\",arguments),to.instance},t.serverTimestamp=function(){return x(\"FieldValue.serverTimestamp\",arguments),eo.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O(\"FieldValue.arrayUnion\",arguments,1),new no(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O(\"FieldValue.arrayRemove\",arguments,1),new ro(t)},t.increment=function(t){return M(\"FieldValue.increment\",\"number\",1,t),A(\"FieldValue.increment\",arguments,1),new io(t)},t.prototype.isEqual=function(t){return this===t},t}(),to=function(t){function e(){return t.call(this,\"FieldValue.delete\")||this}return s.__extends(e,t),e.instance=new e,e}($i),eo=function(t){function e(){return t.call(this,\"FieldValue.serverTimestamp\")||this}return s.__extends(e,t),e.instance=new e,e}($i),no=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayUnion\")||this;return n._elements=e,n}return s.__extends(e,t),e}($i),ro=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayRemove\")||this;return n._elements=e,n}return s.__extends(e,t),e}($i),io=function(t){function e(e){var n=t.call(this,\"FieldValue.increment\")||this;return n._operand=e,n}return s.__extends(e,t),e}($i),oo=E($i,\"Use FieldValue.<field>() instead.\"),ao=/^__.*__$/,so=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Se(t,this.data,this.fieldMask,e)):n.push(new we(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ee(t,this.fieldTransforms)),n},t}(),uo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Se(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Ee(t,this.fieldTransforms)),n},t}();function co(t){switch(t){case Zi.Set:case Zi.MergeSet:case Zi.Update:return!0;case Zi.Argument:return!1;default:throw m(\"Unexpected case for UserDataSource: \"+t)}}!function(t){t[t.Set=0]=\"Set\",t[t.Update=1]=\"Update\",t[t.MergeSet=2]=\"MergeSet\",t[t.Argument=3]=\"Argument\"}(Zi||(Zi={}));var lo=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?\"\":\" (found in field \"+this.path.toString()+\")\";return new S(w.INVALID_ARGUMENT,\"Function \"+this.methodName+\"() called with invalid data. \"+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(co(this.dataSource)&&ao.test(t))throw this.createError(\"Document fields cannot begin and end with __\")},t}(),fo=function(){return function(t,e){this.databaseId=t,this.key=e}}(),ho=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new lo(Zi.Set,t,ct.EMPTY_PATH);yo(\"Data must be an object, but it was:\",n,e);var r=this.parseData(e,n);return new so(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new lo(Zi.MergeSet,t,ct.EMPTY_PATH);yo(\"Data must be an object, but it was:\",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new Dt(ct.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof zi)f=l._internalPath;else{if(\"string\"!==typeof l)throw m(\"Expected stringOrFieldPath to be a string or a FieldPath\");f=mo(t,l)}if(!r.contains(f))throw new S(w.INVALID_ARGUMENT,\"Field '\"+f+\"' is specified in your field mask but missing from your input data.\");s=s.add(f)}i=de.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=de.fromArray(r.fieldMask),o=r.fieldTransforms;return new so(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new lo(Zi.Update,t,ct.EMPTY_PATH);yo(\"Data must be an object, but it was:\",r,e);var i=new Dt(ct.comparator),o=je.EMPTY;I(e,function(e,a){var s=mo(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof to)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=de.fromSet(i);return new uo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new lo(Zi.Update,t,ct.EMPTY_PATH),o=[go(t,e)],a=[n];if(r.length%2!==0)throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() needs to be called with an even number of arguments that alternate between field names and values.\");for(var s=0;s<r.length;s+=2)o.push(go(t,r[s])),a.push(r[s+1]);var u=new Dt(ct.comparator),c=je.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof to)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=de.fromSet(u);return new uo(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new lo(Zi.Argument,t,ct.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,\"Parsed data should not be null.\"),v(0===n.fieldTransforms.length,\"Field transforms should have been disallowed.\"),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=vo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(po(t=this.runPreConverter(t,e)))return yo(\"Unsupported field value:\",e,t),this.parseObject(t,e);if(t instanceof $i)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError(\"Nested arrays are not supported\");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Tt(G);return D(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):I(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new je(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=Ie.INSTANCE),n.push(s),r++}return new qe(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!co(e.dataSource))throw e.createError(t._methodName+\"() can only be used with update() and set()\");if(null===e.path)throw e.createError(t._methodName+\"() is not currently supported inside arrays\");if(t instanceof to){if(e.dataSource!==Zi.MergeSet)throw e.dataSource===Zi.Update?(v(e.path.length>0,\"FieldValue.delete() at the top level should have already been handled.\"),e.createError(\"FieldValue.delete() can only appear at the top level of your update data\")):e.createError(\"FieldValue.delete() cannot be used with set() unless you pass {merge:true}\");e.fieldMask.push(e.path)}else if(t instanceof eo)e.fieldTransforms.push(new ye(e.path,ni.instance));else if(t instanceof no){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ri(n);e.fieldTransforms.push(new ye(e.path,r))}else if(t instanceof ro){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ii(n);e.fieldTransforms.push(new ye(e.path,i))}else if(t instanceof io){var o=this.parseQueryValue(\"FieldValue.increment\",t._operand),a=new oi(o);e.fieldTransforms.push(new ye(e.path,a))}else m(\"Unknown FieldValue type: \"+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ie.INSTANCE;if(\"number\"===typeof t)return ar(t)?new Oe(t):new Ne(t);if(\"boolean\"===typeof t)return De.of(t);if(\"string\"===typeof t)return new Me(t);if(t instanceof Date)return new Re(St.fromDate(t));if(t instanceof St)return new Re(new St(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Kr)return new Be(t);if(t instanceof tt)return new Pe(t);if(t instanceof fo)return new Fe(t.databaseId,t.key);throw e.createError(\"Unsupported field value: \"+K(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new lo(Zi.Argument,t,ct.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function po(t){return\"object\"===typeof t&&null!==t&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof St)&&!(t instanceof Kr)&&!(t instanceof tt)&&!(t instanceof fo)&&!(t instanceof $i)}function yo(t,e,n){if(!po(n)||!q(n)){var r=K(n);throw\"an object\"===r?e.createError(t+\" a custom object\"):e.createError(t+\" \"+r)}}function go(t,e){if(e instanceof zi)return e._internalPath;if(\"string\"===typeof e)return mo(t,e);throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. Field path arguments must be of type string or FieldPath.\")}function mo(t,e){try{return function(t){if(t.search(Wi)>=0)throw new S(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not contain '~', '*', '/', '[', or ']'\");try{return new(zi.bind.apply(zi,[void 0].concat(t.split(\".\"))))}catch(e){throw new S(w.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\")}}(e)._internalPath}catch(r){var n=vo(r);throw new S(w.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. \"+n)}}function vo(t){return t instanceof Error?t.message:t.toString()}var bo=\"firestore.googleapis.com\",_o=!0,wo=!0,So=!1,Eo=An.COLLECTION_DISABLED,To=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new S(w.INVALID_ARGUMENT,\"Can't provide ssl option if host option is not set\");this.host=bo,this.ssl=_o}else L(\"settings\",\"non-empty string\",\"host\",t.host),this.host=t.host,P(\"settings\",\"boolean\",\"ssl\",t.ssl),this.ssl=C(t.ssl,_o);if(V(\"settings\",t,[\"host\",\"ssl\",\"credentials\",\"timestampsInSnapshots\",\"cacheSizeBytes\",\"experimentalForceLongPolling\"]),P(\"settings\",\"object\",\"credentials\",t.credentials),this.credentials=t.credentials,P(\"settings\",\"boolean\",\"timestampsInSnapshots\",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y(\"\\n  The timestampsInSnapshots setting now defaults to true and you no\\n  longer need to explicitly set it. In a future release, the setting\\n  will be removed entirely and so it is recommended that you remove it\\n  from your firestore.settings() call now.\"):!1===t.timestampsInSnapshots&&y(\"\\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\\n  YOUR CODE.\\n\\n  To hide this warning, stop using the timestampsInSnapshots setting in your\\n  firestore.settings({ ... }) call.\\n\\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\\n  read back as Firebase Timestamp objects instead of as system Date objects.\\n  So you will also need to update code expecting a Date to instead expect a\\n  Timestamp. For example:\\n\\n  // Old:\\n  const date = snapshot.get('created_at');\\n  // New:\\n  const timestamp = snapshot.get('created_at'); const date =\\n  timestamp.toDate();\\n\\n  Please audit all existing usages of Date when you enable the new\\n  behavior.\"),this.timestampsInSnapshots=C(t.timestampsInSnapshots,wo),P(\"settings\",\"number\",\"cacheSizeBytes\",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=An.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Eo&&t.cacheSizeBytes<An.MINIMUM_CACHE_SIZE_BYTES)throw new S(w.INVALID_ARGUMENT,\"cacheSizeBytes must be at least \"+An.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}P(\"settings\",\"boolean\",\"experimentalForceLongPolling\",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?So:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Co=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new pt,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},\"object\"===typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Gi(r)}else{var i=e;if(!i.projectId)throw new S(w.INVALID_ARGUMENT,\"Must provide projectId\");this._databaseId=new it(i.projectId,i.database),this._persistenceKey=\"[DEFAULT]\",this._credentials=new Hi}this._settings=new To({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(A(\"Firestore.settings\",arguments,1),M(\"Firestore.settings\",\"object\",1,t),T(t,\"persistence\"))throw new S(w.INVALID_ARGUMENT,'\"persistence\" is now specified with a separate call to firestore.enablePersistence().');var e=new To(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new S(w.FAILED_PRECONDITION,\"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\");this._settings=e,void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Hi;switch(t.type){case\"gapi\":var e=t.client;return v(!(\"object\"!==typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),\"unexpected gapi interface\"),new Ji(e,t.sessionIndex||\"0\");case\"provider\":return t.client;default:throw new S(w.INVALID_ARGUMENT,\"makeCredentialsProvider failed due to invalid credential type\")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new S(w.FAILED_PRECONDITION,\"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.\");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&y(\"The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'.\"),e=C(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new qi(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Bn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ft;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return s.__awaiter(t,void 0,void 0,function(){var t;return s.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new S(w.FAILED_PRECONDITION,\"Persistence cannot be cleared after this Firestore instance is initialized.\");return[4,Bn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance(\"firestore\"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,\"_isTerminated\",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype._onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),Xi(t))return this.onSnapshotsInSyncInternal(t);M(\"Firestore.onSnapshotsInSync\",\"function\",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Vi({next:function(){t.next&&t.next()},error:function(t){throw m(\"Uncaught Error in onSnapshotsInSync\")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ki),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new nt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){v(!!this._settings.host,\"FirestoreSettings.host is not set\"),v(!this._firestoreClient,\"configureClient() called multiple times\");var e=this.makeDatabaseInfo();return this._firestoreClient=new Ui(b.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new ho(function(e){if(e instanceof Do){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new S(w.INVALID_ARGUMENT,\"Document reference is for database \"+r.projectId+\"/\"+r.database+\" but should be for database \"+n.projectId+\"/\"+n.database);return new fo(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!T(e,\"projectId\"))throw new S(w.INVALID_ARGUMENT,'\"projectId\" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||\"string\"!==typeof n)throw new S(w.INVALID_ARGUMENT,\"projectId must be a string in FirebaseApp.options\");return new it(n)},Object.defineProperty(t.prototype,\"app\",{get:function(){if(!this._firebaseApp)throw new S(w.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return A(\"Firestore.collection\",arguments,1),M(\"Firestore.collection\",\"non-empty string\",1,t),this.ensureClientConfigured(),new Ro(st.fromString(t),this)},t.prototype.doc=function(t){return A(\"Firestore.doc\",arguments,1),M(\"Firestore.doc\",\"non-empty string\",1,t),this.ensureClientConfigured(),Do.forPath(st.fromString(t),this)},t.prototype.collectionGroup=function(t){if(A(\"Firestore.collectionGroup\",arguments,1),M(\"Firestore.collectionGroup\",\"non-empty string\",1,t),t.indexOf(\"/\")>=0)throw new S(w.INVALID_ARGUMENT,\"Invalid collection ID '\"+t+\"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.\");return this.ensureClientConfigured(),new No(new Ur(st.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return A(\"Firestore.runTransaction\",arguments,1),M(\"Firestore.runTransaction\",\"function\",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ko(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Io(this)},Object.defineProperty(t,\"logLevel\",{get:function(){switch(h()){case i.DEBUG:return\"debug\";case i.ERROR:return\"error\";case i.SILENT:return\"silent\";default:return m(\"Unknown log level: \"+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(A(\"Firestore.setLogLevel\",arguments,1),M(\"Firestore.setLogLevel\",\"non-empty string\",1,t),t){case\"debug\":p(i.DEBUG);break;case\"error\":p(i.ERROR);break;case\"silent\":p(i.SILENT);break;default:throw new S(w.INVALID_ARGUMENT,\"Invalid log level: \"+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),ko=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;A(\"Transaction.get\",arguments,1);var n=Bo(\"Transaction.get\",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return m(\"Mismatch in docs returned from document lookup.\");var r=t[0];if(r instanceof Ve)return new Ao(e._firestore,n._key,null,!1,!1);if(r instanceof Ue)return new Ao(e._firestore,n._key,r,!1,!1);throw m(\"BatchGetDocumentsRequest returned unexpected document type: \"+r.constructor.name)})},t.prototype.set=function(t,e,n){N(\"Transaction.set\",arguments,2,3);var r=Bo(\"Transaction.set\",t,this._firestore),i=(n=Lo(\"Transaction.set\",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(\"Transaction.set\",e,n.mergeFields):this._firestore._dataConverter.parseSetData(\"Transaction.set\",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return\"string\"===typeof e||e instanceof zi?(O(\"Transaction.update\",arguments,3),r=Bo(\"Transaction.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs(\"Transaction.update\",e,n,o)):(A(\"Transaction.update\",arguments,2),r=Bo(\"Transaction.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData(\"Transaction.update\",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){A(\"Transaction.delete\",arguments,1);var e=Bo(\"Transaction.delete\",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Io=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N(\"WriteBatch.set\",arguments,2,3),this.verifyNotCommitted();var r=Bo(\"WriteBatch.set\",t,this._firestore),i=(n=Lo(\"WriteBatch.set\",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(\"WriteBatch.set\",e,n.mergeFields):this._firestore._dataConverter.parseSetData(\"WriteBatch.set\",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,be.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),\"string\"===typeof e||e instanceof zi?(O(\"WriteBatch.update\",arguments,3),r=Bo(\"WriteBatch.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs(\"WriteBatch.update\",e,n,o)):(A(\"WriteBatch.update\",arguments,2),r=Bo(\"WriteBatch.update\",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData(\"WriteBatch.update\",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,be.exists(!0))),this},t.prototype.delete=function(t){A(\"WriteBatch.delete\",arguments,1),this.verifyNotCommitted();var e=Bo(\"WriteBatch.delete\",t,this._firestore);return this._mutations=this._mutations.concat(new Te(e._key,be.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(w.FAILED_PRECONDITION,\"A write batch can no longer be used after commit() has been called.\")},t}(),Do=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!==0)throw new S(w.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+e.canonicalString()+\" has \"+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return new Ro(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(A(\"DocumentReference.collection\",arguments,1),M(\"DocumentReference.collection\",\"non-empty string\",1,t),!t)throw new S(w.INVALID_ARGUMENT,\"Must provide a non-empty collection name to collection()\");var e=st.fromString(t);return new Ro(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z(\"isEqual\",\"DocumentReference\",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N(\"DocumentReference.set\",arguments,1,2);var n=(e=Lo(\"DocumentReference.set\",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData(\"DocumentReference.set\",t,e.mergeFields):this.firestore._dataConverter.parseSetData(\"DocumentReference.set\",t);return this._firestoreClient.write(n.toMutations(this._key,be.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return\"string\"===typeof t||t instanceof zi?(O(\"DocumentReference.update\",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs(\"DocumentReference.update\",t,e,r)):(A(\"DocumentReference.update\",arguments,1),n=this.firestore._dataConverter.parseUpdateData(\"DocumentReference.update\",t)),this._firestoreClient.write(n.toMutations(this._key,be.exists(!0)))},t.prototype.delete=function(){return A(\"DocumentReference.delete\",arguments,0),this._firestoreClient.write([new Te(this._key,be.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N(\"DocumentReference.onSnapshot\",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;\"object\"!==typeof t[i]||Xi(t[i])||(V(\"DocumentReference.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),P(\"DocumentReference.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Xi(t[i])?n=t[i]:(M(\"DocumentReference.onSnapshot\",\"function\",i,t[i]),R(\"DocumentReference.onSnapshot\",\"function\",i+1,t[i+1]),R(\"DocumentReference.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Vi({next:function(t){if(e.next){v(t.docs.size<=1,\"Too many documents returned on a document query\");var r=t.docs.get(n._key);e.next(new Ao(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ur.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return N(\"DocumentReference.get\",arguments,0,1),Fo(\"DocumentReference.get\",t),new Promise(function(n,r){t&&\"cache\"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ao(e.firestore,e._key,t,!0,t instanceof Ue&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new S(w.UNAVAILABLE,\"Failed to get document because the client is offline.\")):i.exists&&i.metadata.fromCache&&n&&\"server\"===n.source?e(new S(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')):t(i)},error:e})},t}(),xo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ao=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N(\"DocumentSnapshot.data\",arguments,0,1),t=Po(\"DocumentSnapshot.data\",t),this._document?this.convertObject(this._document.data(),Ce.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N(\"DocumentSnapshot.get\",arguments,1,2),e=Po(\"DocumentSnapshot.get\",e),this._document){var n=this._document.data().field(go(\"DocumentSnapshot.get\",t));if(null!==n)return this.convertValue(n,Ce.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ref\",{get:function(){return new Do(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"exists\",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"metadata\",{get:function(){return new xo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z(\"isEqual\",\"DocumentSnapshot\",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof je)return this.convertObject(t,e);if(t instanceof qe)return this.convertArray(t,e);if(t instanceof Fe){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||y(\"Document \"+this._key.path+\" contains a document reference within a different database (\"+t.databaseId.projectId+\"/\"+t.databaseId.database+\") which is not supported. It will be treated as a reference in the current database (\"+r.projectId+\"/\"+r.database+\") instead.\"),new Do(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v(\"object\"===typeof n,\"Document in a QueryDocumentSnapshot should exist\"),n},e}(Ao),No=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){if(A(\"Query.where\",arguments,3),U(\"Query.where\",3,r),\"in\"!==n&&\"array-contains-any\"!==n){!function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new S(w.INVALID_ARGUMENT,\"Invalid value \"+K(r)+\" provided to function \"+t+\"() for its \"+W(n)+\" argument. Acceptable values: \"+e.join(\", \"))}(\"Query.where\",[\"<\",\"<=\",\"==\",\">=\",\">\",\"array-contains\"],2,n)}var i,o=go(\"Query.where\",e),a=zr.fromString(n);if(o.isKeyField()){if(a===zr.ARRAY_CONTAINS||a===zr.ARRAY_CONTAINS_ANY)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. You can't perform '\"+a.toString()+\"' queries on FieldPath.documentId().\");if(a===zr.IN){this.validateDisjunctiveFilterElements(r,a);for(var s=[],u=0,c=r;u<c.length;u++){var l=c[u];s.push(this.parseDocumentIdValue(l))}i=new qe(s)}else i=this.parseDocumentIdValue(r)}else a!==zr.IN&&a!==zr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),i=this.firestore._dataConverter.parseQueryValue(\"Query.where\",r);var f=Wr.create(o,a,i);return this.validateNewFilter(f),new t(this._query.addFilter(f),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N(\"Query.orderBy\",arguments,1,2),R(\"Query.orderBy\",\"non-empty string\",2,n),void 0===n||\"asc\"===n)r=Xr.ASCENDING;else{if(\"desc\"!==n)throw new S(w.INVALID_ARGUMENT,\"Function Query.orderBy() has unknown direction '\"+n+\"', expected 'asc' or 'desc'.\");r=Xr.DESCENDING}if(null!==this._query.startAt)throw new S(w.INVALID_ARGUMENT,\"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().\");if(null!==this._query.endAt)throw new S(w.INVALID_ARGUMENT,\"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().\");var i=go(\"Query.orderBy\",e),o=new $r(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(A(\"Query.limit\",arguments,1),M(\"Query.limit\",\"number\",1,e),e<=0)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. Query limit (\"+e+\") is invalid. Limit must be positive.\");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O(\"Query.startAt\",arguments,1);var i=this.boundFromDocOrFields(\"Query.startAt\",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O(\"Query.startAfter\",arguments,1);var i=this.boundFromDocOrFields(\"Query.startAfter\",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O(\"Query.endBefore\",arguments,1);var i=this.boundFromDocOrFields(\"Query.endBefore\",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O(\"Query.endAt\",arguments,1);var i=this.boundFromDocOrFields(\"Query.endAt\",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z(\"isEqual\",\"Query\",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof Ao){if(n.length>0)throw new S(w.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"().\");var i=e;if(!i.exists)throw new S(w.NOT_FOUND,\"Can't use a DocumentSnapshot that doesn't exist for \"+t+\"().\");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Fe(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Le)throw new S(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field \"'+a.field+'\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new S(w.INVALID_ARGUMENT,\"Invalid query. You are trying to start or end a query using a document for which the field '\"+u+\"' (used as the orderBy) does not exist.\")}r.push(s)}}return new Zr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new S(w.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses\");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if(\"string\"!==typeof a)throw new S(w.INVALID_ARGUMENT,\"Invalid query. Expected a string for document ID in \"+t+\"(), but got a \"+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf(\"/\"))throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must be a plain document ID, but '\"+a+\"' contains a slash.\");var s=this._query.path.child(st.fromString(a));if(!lt.isDocumentKey(s))throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must result in a valid document path, but '\"+s+\"' is not because it contains an odd number of segments.\");var u=new lt(s);i.push(new Fe(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new Zr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N(\"Query.onSnapshot\",arguments,1,4);var n,r={},i=0;return\"object\"!==typeof t[i]||Xi(t[i])||(V(\"Query.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),P(\"Query.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++),Xi(t[i])?n=t[i]:(M(\"Query.onSnapshot\",\"function\",i,t[i]),R(\"Query.onSnapshot\",\"function\",i+1,t[i+1]),R(\"Query.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Vi({next:function(t){e.next&&e.next(new Mo(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return N(\"Query.get\",arguments,0,1),Fo(\"Query.get\",t),new Promise(function(n,r){t&&\"cache\"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Mo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&\"server\"===n.source?e(new S(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if(\"string\"===typeof t){if(\"\"===t)throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf(\"/\"))throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\"+t+\"' contains a '/' character.\");var e=this._query.path.child(st.fromString(t));if(!lt.isDocumentKey(e))throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\"+e+\"' is not because it has an odd number of segments (\"+e.length+\").\");return new Fe(this.firestore._databaseId,new lt(e))}if(t instanceof Do){var n=t;return new Fe(this.firestore._databaseId,n._key)}throw new S(w.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \"+K(t)+\".\")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. A non-empty array is required for '\"+e.toString()+\"' filters.\");if(t.length>10)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters support a maximum of 10 elements in the value array.\");if(t.indexOf(null)>=0)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'null' in the value array.\");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new S(w.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'NaN' in the value array.\")},t.prototype.validateNewFilter=function(t){if(t instanceof Wr){var e=[zr.ARRAY_CONTAINS,zr.ARRAY_CONTAINS_ANY],n=[zr.IN,zr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new S(w.INVALID_ARGUMENT,\"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '\"+o.toString()+\"' and '\"+t.field.toString()+\"'\");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw s===t.op?new S(w.INVALID_ARGUMENT,\"Invalid query. You cannot use more than one '\"+t.op.toString()+\"' filter.\"):new S(w.INVALID_ARGUMENT,\"Invalid query. You cannot use '\"+t.op.toString()+\"' filters with '\"+s.toString()+\"' filters.\")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new S(w.INVALID_ARGUMENT,\"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '\"+t.toString()+\"' and so you must also use '\"+t.toString()+\"' as your first Query.orderBy(), but your first Query.orderBy() is on field '\"+e.toString()+\"' instead.\")},t}(),Mo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new xo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,\"docs\",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"empty\",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N(\"QuerySnapshot.forEach\",arguments,1,2),M(\"QuerySnapshot.forEach\",\"function\",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,\"query\",{get:function(){return new No(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(V(\"QuerySnapshot.docChanges\",t,[\"includeMetadataChanges\"]),P(\"QuerySnapshot.docChanges\",\"boolean\",\"includeMetadataChanges\",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,\"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Oo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===Tr.Added,\"Invalid event type for first snapshot\"),v(!r||n.query.docComparator(r,e.doc)<0,\"Got added events in wrong order\"),r=e.doc,{type:\"added\",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Tr.Metadata}).map(function(e){var r=new Oo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Tr.Added&&(v((i=o.indexOf(e.doc.key))>=0,\"Index for document not found\"),o=o.delete(e.doc.key)),e.type!==Tr.Removed&&(o=o.add(e.doc),a=o.indexOf(e.doc.key)),{type:jo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z(\"isEqual\",\"QuerySnapshot\",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Oo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();[\"length\",\"forEach\",\"map\"].concat(\"undefined\"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Mo.prototype.docChanges,t,{get:function(){return function(){throw new S(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like \"querySnapshot.docChanges\" should become \"querySnapshot.docChanges()\"')}()}})}catch(e){}});var Ro=function(t){function e(e,n){var r=t.call(this,Ur.atPath(e),n)||this;if(e.length%2!==1)throw new S(w.INVALID_ARGUMENT,\"Invalid collection reference. Collection references must have an odd number of segments, but \"+e.canonicalString()+\" has \"+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,\"id\",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Do(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N(\"CollectionReference.doc\",arguments,0,1),0===arguments.length&&(t=H.newId()),M(\"CollectionReference.doc\",\"non-empty string\",1,t),\"\"===t)throw new S(w.INVALID_ARGUMENT,\"Document path must be a non-empty string\");var e=st.fromString(t);return Do.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){A(\"CollectionReference.add\",arguments,1),M(\"CollectionReference.add\",\"object\",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(No);function Lo(t,e){if(void 0===e)return{merge:!1};if(V(t,e,[\"merge\",\"mergeFields\"]),P(t,\"boolean\",\"merge\",e.merge),F(t,\"mergeFields\",\"a string or a FieldPath\",e.mergeFields,function(t){return\"string\"===typeof t||t instanceof zi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new S(w.INVALID_ARGUMENT,\"Invalid options passed to function \"+t+'(): You cannot specify both \"merge\" and \"mergeFields\".');return e}function Po(t,e){return void 0===e?{}:(V(t,e,[\"serverTimestamps\"]),B(t,0,\"serverTimestamps\",e.serverTimestamps,[\"estimate\",\"previous\",\"none\"]),e)}function Fo(t,e){R(t,\"object\",1,e),e&&(V(t,e,[\"source\"]),B(t,0,\"source\",e.source,[\"default\",\"server\",\"cache\"]))}function Bo(t,e,n){if(e instanceof Do){if(e.firestore!==n)throw new S(w.INVALID_ARGUMENT,\"Provided document reference is from a different Firestore instance.\");return e}throw z(t,\"DocumentReference\",1,e)}function jo(t){switch(t){case Tr.Added:return\"added\";case Tr.Modified:case Tr.Metadata:return\"modified\";case Tr.Removed:return\"removed\";default:return m(\"Unknown change type: \"+t)}}var qo=E(Co,\"Use firebase.firestore() instead.\"),Ko=E(ko,\"Use firebase.firestore().runTransaction() instead.\"),Uo=E(Io,\"Use firebase.firestore().batch() instead.\"),Vo=E(Do,\"Use firebase.firestore().doc() instead.\"),zo=E(Ao),Wo=E(Oo),Qo=E(No),Ho=E(Mo),Go=E(Ro,\"Use firebase.firestore().collection() instead.\"),Yo={Firestore:qo,GeoPoint:Kr,Timestamp:St,Blob:et,Transaction:Ko,WriteBatch:Uo,DocumentReference:Vo,DocumentSnapshot:zo,Query:Qo,QueryDocumentSnapshot:Wo,QuerySnapshot:Ho,CollectionReference:Go,FieldPath:zi,FieldValue:oo,setLogLevel:Co.setLogLevel,CACHE_SIZE_UNLIMITED:Eo};function Jo(t){t.INTERNAL.registerService(\"firestore\",function(t){return new Co(t)},function(t){v(t&&\"object\"===typeof t,\"shallowCopy() expects object parameter.\");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Yo))}var Xo=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),Zo=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener(\"online\",this.networkAvailableListener),window.removeEventListener(\"offline\",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener(\"online\",this.networkAvailableListener),window.addEventListener(\"offline\",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){d(\"ConnectivityMonitor\",\"Network connectivity changed: AVAILABLE\");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(0)}},t.prototype.onNetworkUnavailable=function(){d(\"ConnectivityMonitor\",\"Network connectivity changed: UNAVAILABLE\");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(1)}},t.isAvailable=function(){return\"undefined\"!==typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$o=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,\"Called onOpen on stream twice!\"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,\"Called onClose on stream twice!\"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,\"Called onMessage on stream twice!\"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,\"Cannot call onOpen because no callback was set\"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,\"Cannot call onClose because no callback was set\"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,\"Cannot call onMessage because no callback was set\"),this.wrappedOnMessage(t)},t}(),ta=\"Connection\",ea={BatchGetDocuments:\"batchGet\",Commit:\"commit\"},na=\"gl-js/ fire/\"+l,ra=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?\"https\":\"http\";this.baseUrl=e+\"://\"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t[\"X-Goog-Api-Client\"]=na},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new c.XhrIo;s.listenOnce(c.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(ta,\"XHR received:\",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:d(ta,'RPC \"'+t+'\" timed out'),a(new S(w.DEADLINE_EXCEEDED,\"Request time out\"));break;case c.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d(ta,'RPC \"'+t+'\" failed with status:',n,\"response text:\",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace(\"_\",\"-\");return Object.values(w).indexOf(e)>=0?e:w.UNKNOWN}(r.status);a(new S(i,r.message))}else a(new S(w.UNKNOWN,\"Server responded with status \"+s.getStatus()))}else d(ta,'RPC \"'+t+'\" failed'),a(new S(w.UNAVAILABLE,\"Connection failed.\"));break;default:m('RPC \"'+t+'\" failed with unanticipated webchannel error '+s.getLastErrorCode()+\": \"+s.getLastError()+\", giving up.\")}}finally{d(ta,'RPC \"'+t+'\" completed.')}});var u=JSON.stringify(e);d(ta,\"XHR sending: \",i+\" \"+u);var l={\"Content-Type\":\"text/plain\"};r.modifyHeadersForRequest(l,n),s.send(i,\"POST\",u,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,\"/\",\"google.firestore.v1.Firestore\",\"/\",t,\"/channel\"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:\"gsessionid\",initMessageHeaders:{},messageUrlParams:{database:\"projects/\"+this.databaseId.projectId+\"/databases/\"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam=\"$httpHeaders\");var o=n.join(\"\");d(ta,\"Creating WebChannel: \"+o+\" \"+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new $o({sendFn:function(t){l?d(ta,\"Not sending because WebChannel is closed:\",t):(s||(d(ta,\"Opening WebChannel transport.\"),a.open(),s=!0),d(ta,\"WebChannel sending:\",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return h(c.WebChannel.EventType.OPEN,function(){l||d(ta,\"WebChannel transport opened.\")}),h(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(ta,\"WebChannel transport closed\"),f.callOnClose())}),h(c.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(ta,\"WebChannel transport errored:\",t),f.callOnClose(new S(w.UNAVAILABLE,\"The operation could not be completed\")))}),h(c.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];v(!!e,\"Got a webchannel message without data.\");var n=e,r=n.error||n[0]&&n[0].error;if(r){d(ta,\"WebChannel received error:\",r);var i=r.status,o=function(t){var e=br[t];if(void 0!==e)return Sr(e)}(i),s=r.message;void 0===o&&(o=w.INTERNAL,s=\"Unknown error status: \"+i+\" with message \"+r.message),l=!0,f.callOnClose(new S(o,s)),a.close()}else d(ta,\"WebChannel received:\",e),f.callOnMessage(e)}}),setTimeout(function(){f.callOnOpen()},0),f},t.prototype.makeUrl=function(t){var e=ea[t];v(void 0!==e,\"Unknown REST mapping for: \"+t);var n=[this.baseUrl,\"/\",\"v1\"];return n.push(\"/projects/\"),n.push(this.databaseId.projectId),n.push(\"/databases/\"),n.push(this.databaseId.database),n.push(\"/documents\"),n.push(\":\"),n.push(e),n.join(\"\")},t}(),ia=function(){function t(){this.emptyByteString=\"\",this.base64Available=\"undefined\"!==typeof atob}return Object.defineProperty(t.prototype,\"document\",{get:function(){return\"undefined\"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"window\",{get:function(){return\"undefined\"!==typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new ra(t))},t.prototype.newConnectivityMonitor=function(){return Zo.isAvailable()?new Zo:new Xo},t.prototype.newSerializer=function(t){return new pi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();function oa(t){Jo(t)}b.setPlatform(new ia),oa(o),e.registerFirestore=oa}).call(this,n(\"8oxB\"))},\"6K5T\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/[lang]/p\",function(){var t=n(\"KAwu\");return{page:t.default||t}}])},\"6Xrj\":function(t,e,n){\"use strict\";function r(t,e){var n=i.get(t,e);return\"auto\"===n||\"scroll\"===n}var i={get:n(\"S5bm\"),getScrollParent:function(t){if(!t)return null;for(var e=t.ownerDocument;t&&t!==e.body;){if(r(t,\"overflow\")||r(t,\"overflowY\")||r(t,\"overflowX\"))return t;t=t.parentNode}return e.defaultView||e.parentWindow}};t.exports=i},\"6tyx\":function(t,e,n){\"use strict\";(function(e){var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function a(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var c=n(\"rAV9\"),l=n(\"0TRD\"),f=n(\"jl1W\"),h=n(\"Idtq\"),p=n(\"ISR0\"),d=n(\"1Jbx\"),y=n(\"Hdlu\"),g=n(\"m75S\"),m=n(\"3sOJ\"),v=n(\"q1tI\"),b=n(\"i8i4\"),_=n(\"prOm\"),w=n(\"6Xrj\"),S=n(\"CYTE\"),E=n(\"YVIB\"),T=n(\"rJY1\"),C=n(\"AyB5\"),k=n(\"DeIs\"),I=n(\"cwFY\"),D=n(\"2NuI\"),x=n(\"OLzA\"),A=n(\"gWRK\"),O=S.isBrowser(\"IE\"),N=!O,M={edit:d,composite:f,drag:p,cut:null,render:null},R=!1,L=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var t=this.props.editor;t._latestEditorState=this.props.editorState,t._blockSelectEvents=!0},e}(v.Component),P=function(t){function n(e){var n;return s(a(n=t.call(this,e)||this),\"_blockSelectEvents\",void 0),s(a(n),\"_clipboard\",void 0),s(a(n),\"_handler\",void 0),s(a(n),\"_dragCount\",void 0),s(a(n),\"_internalDrag\",void 0),s(a(n),\"_editorKey\",void 0),s(a(n),\"_placeholderAccessibilityID\",void 0),s(a(n),\"_latestEditorState\",void 0),s(a(n),\"_latestCommittedEditorState\",void 0),s(a(n),\"_pendingStateFromBeforeInput\",void 0),s(a(n),\"_onBeforeInput\",void 0),s(a(n),\"_onBlur\",void 0),s(a(n),\"_onCharacterData\",void 0),s(a(n),\"_onCompositionEnd\",void 0),s(a(n),\"_onCompositionStart\",void 0),s(a(n),\"_onCopy\",void 0),s(a(n),\"_onCut\",void 0),s(a(n),\"_onDragEnd\",void 0),s(a(n),\"_onDragOver\",void 0),s(a(n),\"_onDragStart\",void 0),s(a(n),\"_onDrop\",void 0),s(a(n),\"_onInput\",void 0),s(a(n),\"_onFocus\",void 0),s(a(n),\"_onKeyDown\",void 0),s(a(n),\"_onKeyPress\",void 0),s(a(n),\"_onKeyUp\",void 0),s(a(n),\"_onMouseDown\",void 0),s(a(n),\"_onMouseUp\",void 0),s(a(n),\"_onPaste\",void 0),s(a(n),\"_onSelect\",void 0),s(a(n),\"editor\",void 0),s(a(n),\"editorContainer\",void 0),s(a(n),\"focus\",void 0),s(a(n),\"blur\",void 0),s(a(n),\"setMode\",void 0),s(a(n),\"exitCurrentMode\",void 0),s(a(n),\"restoreEditorDOM\",void 0),s(a(n),\"setClipboard\",void 0),s(a(n),\"getClipboard\",void 0),s(a(n),\"getEditorKey\",void 0),s(a(n),\"update\",void 0),s(a(n),\"onDragEnter\",void 0),s(a(n),\"onDragLeave\",void 0),s(a(n),\"focus\",function(t){var e=n.props.editorState,r=e.getSelection().getHasFocus(),i=n.editor;if(i){var o=w.getScrollParent(i),a=t||k(o),s=a.x,u=a.y;x(i)||D(!1),i.focus(),o===window?window.scrollTo(s,u):_.setTop(o,u),r||n.update(m.forceSelection(e,e.getSelection()))}}),s(a(n),\"blur\",function(){var t=n.editor;t&&(x(t)||D(!1),t.blur())}),s(a(n),\"setMode\",function(t){var e=n.props,r=e.onPaste,i=e.onCut,a=e.onCopy,s=o({},M.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var u=o({},M,{edit:s});n._handler=u[t]}),s(a(n),\"exitCurrentMode\",function(){n.setMode(\"edit\")}),s(a(n),\"restoreEditorDOM\",function(t){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(t)})}),s(a(n),\"setClipboard\",function(t){n._clipboard=t}),s(a(n),\"getClipboard\",function(){return n._clipboard}),s(a(n),\"update\",function(t){n._latestEditorState=t,n.props.onChange(t)}),s(a(n),\"onDragEnter\",function(){n._dragCount++}),s(a(n),\"onDragLeave\",function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()}),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=e.editorKey||T(),n._placeholderAccessibilityID=\"placeholder-\"+n._editorKey,n._latestEditorState=e.editorState,n._latestCommittedEditorState=e.editorState,n._onBeforeInput=n._buildHandler(\"onBeforeInput\"),n._onBlur=n._buildHandler(\"onBlur\"),n._onCharacterData=n._buildHandler(\"onCharacterData\"),n._onCompositionEnd=n._buildHandler(\"onCompositionEnd\"),n._onCompositionStart=n._buildHandler(\"onCompositionStart\"),n._onCopy=n._buildHandler(\"onCopy\"),n._onCut=n._buildHandler(\"onCut\"),n._onDragEnd=n._buildHandler(\"onDragEnd\"),n._onDragOver=n._buildHandler(\"onDragOver\"),n._onDragStart=n._buildHandler(\"onDragStart\"),n._onDrop=n._buildHandler(\"onDrop\"),n._onInput=n._buildHandler(\"onInput\"),n._onFocus=n._buildHandler(\"onFocus\"),n._onKeyDown=n._buildHandler(\"onKeyDown\"),n._onKeyPress=n._buildHandler(\"onKeyPress\"),n._onKeyUp=n._buildHandler(\"onKeyUp\"),n._onMouseDown=n._buildHandler(\"onMouseDown\"),n._onMouseUp=n._buildHandler(\"onMouseUp\"),n._onPaste=n._buildHandler(\"onPaste\"),n._onSelect=n._buildHandler(\"onSelect\"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}u(n,t);var r=n.prototype;return r._buildHandler=function(t){var e=this,n=b.unstable_flushControlled;return function(r){if(!e.props.readOnly){var i=e._handler&&e._handler[t];i&&(n?n(function(){return i(e,r)}):i(e,r))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:A(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(y,t)}return null},r.render=function(){var t=this,e=this.props,n=e.blockRenderMap,r=e.blockRendererFn,a=e.blockStyleFn,s=e.customStyleFn,u=e.customStyleMap,c=e.editorState,f=e.readOnly,p=e.textAlignment,d=e.textDirectionality,y=E({\"DraftEditor/root\":!0,\"DraftEditor/alignLeft\":\"left\"===p,\"DraftEditor/alignRight\":\"right\"===p,\"DraftEditor/alignCenter\":\"center\"===p}),g=this.props.role||\"textbox\",m=\"combobox\"===g?!!this.props.ariaExpanded:null,b={blockRenderMap:n,blockRendererFn:r,blockStyleFn:a,customStyleMap:o({},l,u),customStyleFn:s,editorKey:this._editorKey,editorState:c,textDirectionality:d};return v.createElement(\"div\",{className:y},this._renderPlaceholder(),v.createElement(\"div\",{className:E(\"DraftEditor/editorContainer\"),ref:function(e){return t.editorContainer=e}},v.createElement(\"div\",{\"aria-activedescendant\":f?null:this.props.ariaActiveDescendantID,\"aria-autocomplete\":f?null:this.props.ariaAutoComplete,\"aria-controls\":f?null:this.props.ariaControls,\"aria-describedby\":this.props.ariaDescribedBy||this._placeholderAccessibilityID,\"aria-expanded\":f?null:m,\"aria-label\":this.props.ariaLabel,\"aria-labelledby\":this.props.ariaLabelledBy,\"aria-multiline\":this.props.ariaMultiline,\"aria-owns\":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:E({notranslate:!f,\"public/DraftEditor/content\":!0}),contentEditable:!f,\"data-testid\":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(e){return t.editor=e},role:f?null:g,spellCheck:N&&this.props.spellCheck,style:{outline:\"none\",userSelect:\"text\",WebkitUserSelect:\"text\",whiteSpace:\"pre-wrap\",wordWrap:\"break-word\"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(L,{editor:this,editorState:c}),v.createElement(h,i({},b,{key:\"contents\"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!R&&I(\"draft_ods_enabled\")&&(R=!0,g.initODS()),this.setMode(\"edit\"),O&&(this.editor?this.editor.ownerDocument.execCommand(\"AutoUrlDetect\",!1,!1):e.execCommand(\"AutoUrlDetect\",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(v.Component);s(P,\"defaultProps\",{blockRenderMap:c,blockRendererFn:function(){return null},blockStyleFn:function(){return\"\"},keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),t.exports=P}).call(this,n(\"yLpj\"))},\"7/2Y\":function(t,e,n){\"use strict\";var r=n(\"GyOf\");t.exports=function(t){return!(!t||!t.ownerDocument)&&r(t)&&\"A\"===t.nodeName}},\"7Pus\":function(t,e,n){},\"7wDu\":function(t,e,n){\"use strict\";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},\"81KI\":function(t,e,n){\"use strict\";var r=n(\"JPcv\"),i=n(\"Zf/v\"),o=n(\"2NuI\"),a=r.Repeat;t.exports=function(t,e,n,r){e.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return t;var u=t.getBlockMap(),c=e.getStartKey(),l=e.getStartOffset(),f=u.get(c),h=f.getText(),p=f.merge({text:h.slice(0,l)+n+h.slice(l,f.getLength()),characterList:i(f.getCharacterList(),a(r,s).toList(),l)}),d=l+s;return t.merge({blockMap:u.set(c,p),selectionAfter:e.merge({anchorOffset:d,focusOffset:d})})}},\"83KV\":function(t,e,n){\"use strict\";var r=\"undefined\"!==typeof navigator&&navigator.userAgent.indexOf(\"AppleWebKit\")>-1;t.exports=function(t){return(t=t||document).scrollingElement?t.scrollingElement:r||\"CSS1Compat\"!==t.compatMode?t.body:t.documentElement}},\"84lc\":function(t,e,n){\"use strict\";var r=n(\"JPcv\").List,i=function(){function t(t){var e,n,r;r=void 0,(n=\"_decorators\")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this._decorators=t.slice()}var e=t.prototype;return e.getDecorations=function(t,e){var n=Array(t.getText().length).fill(null);return this._decorators.forEach(function(r,i){var o=0;(0,r.strategy)(t,function(t,e){(function(t,e,n){for(var r=e;r<n;r++)if(null!=t[r])return!1;return!0})(n,t,e)&&(function(t,e,n,r){for(var i=e;i<n;i++)t[i]=r}(n,t,e,i+\".\"+o),o++)},e)}),r(n)},e.getComponentForKey=function(t){var e=parseInt(t.split(\".\")[0],10);return this._decorators[e].component},e.getPropsForKey=function(t){var e=parseInt(t.split(\".\")[0],10);return this._decorators[e].props},t}();t.exports=i},\"8d//\":function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"cwFY\")(\"draft_tree_data_support\");t.exports=function(t,e,n){var o=t.getSelection(),a=t.getCurrentContent(),s=o,u=o.getAnchorKey(),c=o.getFocusKey(),l=a.getBlockForKey(u);if(i&&\"forward\"===n&&u!==c)return a;if(o.isCollapsed()){if(\"forward\"===n){if(t.isSelectionAtEndOfContent())return a;if(i&&o.getAnchorOffset()===a.getBlockForKey(u).getLength()){var f=a.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return a}}else if(t.isSelectionAtStartOfContent())return a;if((s=e(t))===o)return a}return r.removeRange(a,s,n)}},\"8iia\":function(t,e,n){var r=n(\"QMMT\"),i=n(\"RRc/\");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+\"#toJSON isn't generic\");return i(this)}}},\"8uQm\":function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"Taje\"),o=n(\"JPcv\"),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),h=c({key:\"\",type:\"unstyled\",text:\"\",characterList:a(),depth:0,data:s()}),p=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(l(r.EMPTY,n.length))),t},d=function(t){var e,n;function r(e){return t.call(this,p(e))||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get(\"key\")},o.getType=function(){return this.get(\"type\")},o.getText=function(){return this.get(\"text\")},o.getCharacterList=function(){return this.get(\"characterList\")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get(\"depth\")},o.getData=function(){return this.get(\"data\")},o.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},o.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},o.findStyleRanges=function(t,e){i(this.getCharacterList(),y,t,e)},o.findEntityRanges=function(t,e){i(this.getCharacterList(),g,t,e)},r}(h);function y(t,e){return t.getStyle()===e.getStyle()}function g(t,e){return t.getEntity()===e.getEntity()}t.exports=d},\"94Z+\":function(t,e,n){\"use strict\";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!(\"function\"===typeof e.Node?t instanceof e.Node:\"object\"===typeof t&&\"number\"===typeof t.nodeType&&\"string\"===typeof t.nodeName))}},\"9Ls5\":function(t,e,n){n(\"JJgm\"),t.exports=n(\"p9MR\").Reflect.construct},\"9eqF\":function(t,e,n){\"use strict\";n.r(e);var r=n(\"ln6h\"),i=n.n(r),o=n(\"O40h\"),a=n(\"MX0m\"),s=n.n(a),u=n(\"q1tI\"),c=n.n(u),l=n(\"KYPV\"),f=n(\"/MKj\"),h=n(\"A00i\"),p=n(\"v83y\"),d=n(\"21VA\");function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function g(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){v(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var _=function(t,e){if(null==t)return e;for(var n=b(e,2),r=n[0],i=n[1],o=m({},r),a=y(i),s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];if(r.hasOwnProperty(c)){var l=r[c];o[c]=m({},l,{},t[c])}else o[c]=t[c],a.push(c)}return[o,a]},w={acceptCharset:\"accept-charset\",className:\"class\",htmlFor:\"for\",httpEquiv:\"http-equiv\"};var S=function(t){if(null==t)return t;for(var e={},n=!1,r=0,i=Object.keys(t);r<i.length;r++){var o=i[r],a=o;w.hasOwnProperty(o)&&(a=w[o],n=!0),e[a]=t[o]}return n?e:t},E=/^(moz|ms|o|webkit)-/,T=/^\\d+$/,C=/([A-Z])/g,k={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var I=function(t){return Object.keys(t).map(function(e){var n=function(t,e){var n;return\"string\"===typeof e?n=T.test(e):(n=!0,e=String(e)),n&&\"0\"!==e&&!0!==k[t]?e+\"px\":e}(e,t[e]),r=function(t){return t.replace(C,\"-$1\").toLowerCase().replace(E,\"-$1-\")}(e);return\"\".concat(r,\": \").concat(n)}).join(\"; \")},D={UNSTYLED:\"unstyled\",HEADER_ONE:\"header-one\",HEADER_TWO:\"header-two\",HEADER_THREE:\"header-three\",HEADER_FOUR:\"header-four\",HEADER_FIVE:\"header-five\",HEADER_SIX:\"header-six\",UNORDERED_LIST_ITEM:\"unordered-list-item\",ORDERED_LIST_ITEM:\"ordered-list-item\",BLOCKQUOTE:\"blockquote\",PULLQUOTE:\"pullquote\",CODE:\"code-block\",ATOMIC:\"atomic\"},x={LINK:\"LINK\",IMAGE:\"IMAGE\",EMBED:\"embed\"},A={BOLD:\"BOLD\",CODE:\"CODE\",ITALIC:\"ITALIC\",STRIKETHROUGH:\"STRIKETHROUGH\",UNDERLINE:\"UNDERLINE\"},O=n(\"JPcv\"),N=new O.OrderedSet;function M(t,e){for(var n=N,r=N,i=[],o=0,a=0,s=t.length;a<s;a++){r=n;var u=e.get(a);n=u?u.getStyle():N,a>0&&!Object(O.is)(n,r)&&(i.push([t.slice(o,a),r]),o=a)}return i.push([t.slice(o),n]),i}var R,L,P;function F(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(n,!0).forEach(function(e){K(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=A.BOLD,V=A.CODE,z=A.ITALIC,W=A.STRIKETHROUGH,Q=A.UNDERLINE,H=\"<br>\",G=/^data-([a-z0-9-]+)$/,Y=(K(R={},U,{element:\"strong\"}),K(R,V,{element:\"code\"}),K(R,z,{element:\"em\"}),K(R,W,{element:\"del\"}),K(R,Q,{element:\"u\"}),R),J=[U,z,Q,W,V],X=(K(L={},x.LINK,{url:\"href\",href:\"href\",rel:\"rel\",target:\"target\",title:\"title\",className:\"class\"}),K(L,x.IMAGE,{src:\"src\",height:\"height\",width:\"width\",alt:\"alt\",className:\"class\"}),L),Z=(K(P={},x.LINK,function(t,e){for(var n=X.hasOwnProperty(t)?X[t]:{},r=e.getData(),i={},o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],u=r[s];if(n.hasOwnProperty(s))i[n[s]]=u;else G.test(s)&&(i[s]=u)}return i}),K(P,x.IMAGE,function(t,e){for(var n=X.hasOwnProperty(t)?X[t]:{},r=e.getData(),i={},o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],u=r[s];if(n.hasOwnProperty(s))i[n[s]]=u;else G.test(s)&&(i[s]=u)}return i}),P);function $(t,e){switch(t){case D.HEADER_ONE:return[\"h1\"];case D.HEADER_TWO:return[\"h2\"];case D.HEADER_THREE:return[\"h3\"];case D.HEADER_FOUR:return[\"h4\"];case D.HEADER_FIVE:return[\"h5\"];case D.HEADER_SIX:return[\"h6\"];case D.UNORDERED_LIST_ITEM:case D.ORDERED_LIST_ITEM:return[\"li\"];case D.BLOCKQUOTE:return[\"blockquote\"];case D.CODE:return[\"pre\",\"code\"];case D.ATOMIC:return[\"figure\"];default:return null===e?[]:[e||\"p\"]}}var tt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),K(this,\"blocks\",void 0),K(this,\"contentState\",void 0),K(this,\"currentBlock\",void 0),K(this,\"indentLevel\",void 0),K(this,\"output\",void 0),K(this,\"totalBlocks\",void 0),K(this,\"wrapperTag\",void 0),K(this,\"options\",void 0),K(this,\"inlineStyles\",void 0),K(this,\"inlineStyleFn\",void 0),K(this,\"styleOrder\",void 0),null==n&&(n={}),this.contentState=e,this.options=n;var r=j(_(n.inlineStyles,[Y,J]),2),i=r[0],o=r[1];this.inlineStyles=i,this.inlineStyleFn=n.inlineStyleFn,this.styleOrder=o}var e,n,r;return e=t,(n=[{key:\"generate\",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join(\"\").trim()}},{key:\"processBlock\",value:function(){var t=this.options,e=t.blockRenderers,n=t.defaultBlockTag,r=this.blocks[this.currentBlock],i=r.getType(),o=function(t){switch(t){case D.UNORDERED_LIST_ITEM:return\"ul\";case D.ORDERED_LIST_ITEM:return\"ol\";default:return null}}(i);this.wrapperTag!==o&&(this.wrapperTag&&this.closeWrapperTag(),o&&this.openWrapperTag(o)),this.indent();var a=null!=e&&e.hasOwnProperty(i)?e[i]:null,s=a?a(r):null;if(null!=s)return this.output.push(s),this.output.push(\"\\n\"),void(this.currentBlock+=1);this.writeStartTag(r,n),this.output.push(this.renderBlockContent(r));var u=this.getNextBlock();if(function(t){switch(t){case D.UNORDERED_LIST_ITEM:case D.ORDERED_LIST_ITEM:return!0;default:return!1}}(i)&&u&&u.getDepth()===r.getDepth()+1){this.output.push(\"\\n\");var c=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(u.getDepth()),this.wrapperTag=c,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(r,n)}},{key:\"processBlocksAtDepth\",value:function(t){for(var e=this.blocks[this.currentBlock];e&&e.getDepth()===t;)this.processBlock(),e=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:\"getNextBlock\",value:function(){return this.blocks[this.currentBlock+1]}},{key:\"writeStartTag\",value:function(t,e){var n,r=$(t.getType(),e);if(this.options.blockStyleFn){var i=this.options.blockStyleFn(t)||{},o=i.attributes,a=i.style;if(o=S(o),null!=a){var s=I(a);o=null==o?{style:s}:B({},o,{style:s})}n=et(o)}else n=\"\";var u=!0,c=!1,l=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;this.output.push(\"<\".concat(p).concat(n,\">\"))}}catch(d){c=!0,l=d}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}},{key:\"writeEndTag\",value:function(t,e){var n=$(t.getType(),e);if(1===n.length)this.output.push(\"</\".concat(n[0],\">\\n\"));else{var r=[],i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r.unshift(\"</\".concat(c,\">\"))}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}this.output.push(r.join(\"\")+\"\\n\")}}},{key:\"openWrapperTag\",value:function(t){this.wrapperTag=t,this.indent(),this.output.push(\"<\".concat(t,\">\\n\")),this.indentLevel+=1}},{key:\"closeWrapperTag\",value:function(){var t=this.wrapperTag;t&&(this.indentLevel-=1,this.indent(),this.output.push(\"</\".concat(t,\">\\n\")),this.wrapperTag=null)}},{key:\"indent\",value:function(){this.output.push(\"  \".repeat(this.indentLevel))}},{key:\"withCustomInlineStyles\",value:function(t,e){if(!this.inlineStyleFn)return t;var n=this.inlineStyleFn(e);if(!n)return t;var r=n.element,i=void 0===r?\"span\":r,o=n.attributes,a=n.style,s=et(B({},o,{style:a&&I(a)}));return\"<\".concat(i).concat(s,\">\").concat(t,\"</\").concat(i,\">\")}},{key:\"renderBlockContent\",value:function(t){var e=this,n=t.getType(),r=t.getText();return\"\"===r?H:function(t,e){for(var n=null,r=null,i=[],o=0,a=0,s=t.length;a<s;a++){r=n;var u=e.get(a);n=u?u.getEntity():null,a>0&&n!==r&&(i.push([r,M(t.slice(o,a),e.slice(o,a))]),o=a)}return i.push([n,M(t.slice(o),e.slice(o))]),i}(r=this.preserveWhitespace(r),t.getCharacterList()).map(function(t){var r,i=j(t,2),o=i[0],a=i[1].map(function(t){var r=j(t,2),i=r[0],o=r[1],a=function(t){return t.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\").split(\"\\xa0\").join(\"&nbsp;\").split(\"\\n\").join(H+\"\\n\")}(i),s=!0,u=!1,c=void 0;try{for(var l,f=e.styleOrder[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;if((h!==V||n!==D.CODE)&&o.has(h)){var p=e.inlineStyles[h],d=p.element,y=p.attributes,g=p.style;if(null==d&&(d=\"span\"),y=S(y),null!=g){var m=I(g);y=null==y?{style:m}:B({},y,{style:m})}var v=et(y);a=\"<\".concat(d).concat(v,\">\").concat(a,\"</\").concat(d,\">\")}}}catch(b){u=!0,c=b}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return e.withCustomInlineStyles(a,o)}).join(\"\"),s=o?e.contentState.getEntity(o):null,u=null==s?null:s.getType().toUpperCase();if(null!=s&&e.options.entityStyleFn&&(r=e.options.entityStyleFn(s))){var c=r,l=c.element,f=c.attributes,h=c.style;if(null==l&&(l=\"span\"),f=S(f),null!=h){var p=I(h);f=null==f?{style:p}:B({},f,{style:p})}var d=et(f);return\"<\".concat(l).concat(d,\">\").concat(a,\"</\").concat(l,\">\")}if(null!=u&&u===x.LINK){var y=et(Z.hasOwnProperty(u)?Z[u](u,s):null);return\"<a\".concat(y,\">\").concat(a,\"</a>\")}if(null!=u&&u===x.IMAGE){var g=et(Z.hasOwnProperty(u)?Z[u](u,s):null);return\"<img\".concat(g,\"/>\")}return a}).join(\"\")}},{key:\"preserveWhitespace\",value:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)\" \"!==t[r]||0!==r&&r!==e-1&&\" \"!==t[r-1]?n[r]=t[r]:n[r]=\"\\xa0\";return n.join(\"\")}}])&&q(e.prototype,n),r&&q(e,r),t}();function et(t){if(null==t)return\"\";for(var e=[],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=t[i];null!=o&&e.push(\" \".concat(i,'=\"').concat((o+\"\").split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\").split('\"').join(\"&quot;\"),'\"'))}return e.join(\"\")}var nt=n(\"KHHe\"),rt=n.n(nt),it=n(\"Wcq6\"),ot=n.n(it),at=(n(\"6nsN\"),c.a.createElement);e.default=Object(f.b)(function(t){return t})(function(t){var e=t.strings,n=t.pageStrings,r=t.lang,a=ot.a.firestore(),u=new p.EditorState.createEmpty,c=[rt()()];return at(l.b,{initialValues:{name:\"\",editorState:u},validate:function(t){var e={};return t.name||(e.name=\"Required\"),e},onSubmit:function(){var t=Object(o.a)(i.a.mark(function t(e,n){var r,o,s,u,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,o=e.editorState.getCurrentContent(),s=new tt(o,void 0).generate(),u=a.collection(\"products\"),c={name:e.name,description:s},t.next=7,u.doc(e.name).set(c).then(function(){}).catch(function(t){res.json({error:t})});case 7:r(!1);case 8:case\"end\":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},function(t){var i=t.values,o=t.errors,a=t.touched,u=t.handleSubmit,f=t.isSubmitting,p=t.setFieldValue,y=t.handleBlur;return at(\"form\",{onSubmit:u,className:\"jsx-2541701229\"},at(\"label\",{className:\"jsx-2541701229\"},at(\"div\",{className:\"jsx-2541701229\"},Object(h.translate)(\"PRODUCT-NAME\",n,r)),at(l.a,{name:\"name\",className:\"form-input\"}),o.name&&a.name&&o.name),at(\"label\",{className:\"jsx-2541701229\"},at(\"div\",{className:\"jsx-2541701229\"},Object(h.translate)(\"DESCRIPTION\",n,r)),at(d.default,{editorState:i.editorState,onChange:p,onBlur:y,plugins:c}),o.editorState&&a.editorState&&o.editorState),at(\"button\",{type:\"submit\",disabled:f,className:\"jsx-2541701229\"},Object(h.translate)(\"SUBMIT\",e,r)),at(s.a,{id:\"2541701229\"},[\".RichEditor-root{background:#fff;border:1px solid #ddd;font-family:'Georgia',serif;font-size:14px;padding:15px;}\",\".RichEditor-editor{border-top:1px solid #ddd;cursor:text;font-size:16px;margin-top:10px;}\",\".RichEditor-editor .public-DraftEditorPlaceholder-root,.RichEditor-editor .public-DraftEditor-content{margin:0 -15px -15px;padding:15px;}\",\".RichEditor-editor .public-DraftEditor-content{min-height:100px;}\",\".RichEditor-hidePlaceholder .public-DraftEditorPlaceholder-root{display:none;}\",\".RichEditor-editor .RichEditor-blockquote{border-left:5px solid #eee;color:#666;font-family:'Hoefler Text','Georgia',serif;font-style:italic;margin:16px 0;padding:10px 20px;}\",\".RichEditor-editor .public-DraftStyleDefault-pre{background-color:rgba(0,0,0,0.05);font-family:'Inconsolata','Menlo','Consolas',monospace;font-size:16px;padding:20px;}\",\".RichEditor-controls{font-family:'Helvetica',sans-serif;font-size:14px;margin-bottom:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\",\".RichEditor-styleButton{color:#999;cursor:pointer;margin-right:16px;padding:2px 0;display:inline-block;}\",\".RichEditor-activeButton{color:#5890ff;}\",\".draftJsLinkifyPlugin__link__2ittM,.draftJsLinkifyPlugin__link__2ittM:visited{color:#5e93c5;-webkit-text-decoration:none;text-decoration:none;}\",\".draftJsLinkifyPlugin__link__2ittM:hover,.draftJsLinkifyPlugin__link__2ittM:focus{color:#7eadda;outline:0;cursor:pointer;}\",\".draftJsLinkifyPlugin__link__2ittM:active{color:#4a7bab;}\"]))})})},AKPT:function(t,e,n){\"use strict\";t.exports=function(t,e,n,r){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===o}).concat([[o,a.get(o)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set(\"depth\",e)});return a=a.merge(s),t.merge({blockMap:a,selectionBefore:e,selectionAfter:e})}},\"AT/M\":function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}n.d(e,\"a\",function(){return r})},AyB5:function(t,e,n){\"use strict\";var r=n(\"s8ra\"),i=n(\"7wDu\"),o=n(\"CYTE\"),a=o.isPlatform(\"Mac OS X\"),s=a&&o.isBrowser(\"Firefox < 29\"),u=r.hasCommandModifier,c=r.isCtrlKeyCommand;function l(t){return a&&t.altKey||c(t)}t.exports=function(t){switch(t.keyCode){case 66:return u(t)?\"bold\":null;case 68:return c(t)?\"delete\":null;case 72:return c(t)?\"backspace\":null;case 73:return u(t)?\"italic\":null;case 74:return u(t)?\"code\":null;case 75:return a&&c(t)?\"secondary-cut\":null;case 77:case 79:return c(t)?\"split-block\":null;case 84:return a&&c(t)?\"transpose-characters\":null;case 85:return u(t)?\"underline\":null;case 87:return a&&c(t)?\"backspace-word\":null;case 89:return c(t)?a?\"secondary-paste\":\"redo\":null;case 90:return function(t){return u(t)?t.shiftKey?\"redo\":\"undo\":null}(t)||null;case i.RETURN:return\"split-block\";case i.DELETE:return function(t){return!a&&t.shiftKey?null:l(t)?\"delete-word\":\"delete\"}(t);case i.BACKSPACE:return function(t){return u(t)&&a?\"backspace-to-start-of-line\":l(t)?\"backspace-word\":\"backspace\"}(t);case i.LEFT:return s&&u(t)?\"move-selection-to-start-of-block\":null;case i.RIGHT:return s&&u(t)?\"move-selection-to-end-of-block\":null;default:return null}}},B0ab:function(t,e,n){\"use strict\";var r=n(\"JL7T\"),i=n(\"rJY1\"),o=n(\"JPcv\"),a=n(\"2NuI\"),s=n(\"Mh8y\"),u=o.List,c=o.Map,l=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}};t.exports=function(t,e){e.isCollapsed()||a(!1);var n=e.getAnchorKey(),o=t.getBlockMap(),f=o.get(n),h=f.getText();if(!h){var p=f.getType();if(\"unordered-list-item\"===p||\"ordered-list-item\"===p)return s(t,e,function(t){return t.merge({type:\"unstyled\",depth:0})})}var d=e.getAnchorOffset(),y=f.getCharacterList(),g=i(),m=f instanceof r,v=f.merge({text:h.slice(0,d),characterList:y.slice(0,d)}),b=v.merge({key:g,text:h.slice(d),characterList:y.slice(d),data:c()}),_=o.toSeq().takeUntil(function(t){return t===f}),w=o.toSeq().skipUntil(function(t){return t===f}).rest(),S=_.concat([[n,v],[g,b]],w).toOrderedMap();return m&&(f.getChildKeys().isEmpty()||a(!1),S=function(t,e,n){return t.withMutations(function(t){var r=e.getKey(),i=n.getKey();l(e.getParentKey(),t,function(t){var e=t.getChildKeys(),n=e.indexOf(r)+1,o=e.toArray();return o.splice(n,0,i),t.merge({children:u(o)})}),l(e.getNextSiblingKey(),t,function(t){return t.merge({prevSibling:i})}),l(r,t,function(t){return t.merge({nextSibling:i})}),l(i,t,function(t){return t.merge({prevSibling:r})})})}(S,v,b)),t.merge({blockMap:S,selectionBefore:e,selectionAfter:e.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})}},B8g0:function(t,e,n){var r=n(\"0T/a\");r(r.S,\"Object\",{setPrototypeOf:n(\"ZJRo\").set})},Bhuq:function(t,e,n){t.exports=n(\"cBdl\")},Bqhj:function(t,e,n){\"use strict\";var r=n(\"q1tI\"),i=n.n(r).a.createElement;e.a=function(t){var e=t.email,n=t.password,r=t.handleChange,o=t.handleEmailPassAuth,a=t.errorMessage;return i(\"form\",{onSubmit:o},a&&i(\"div\",null,a),i(\"div\",null,i(\"input\",{type:\"email\",placeholder:\"Email\",value:e,name:\"email\",onChange:r,required:!0})),i(\"div\",null,i(\"input\",{type:\"password\",placeholder:\"Password\",value:n,name:\"password\",onChange:r,required:!0})),i(\"div\",null,i(\"input\",{type:\"submit\"})))}},C2SN:function(t,e,n){var r=n(\"93I4\"),i=n(\"kAMH\"),o=n(\"UWiX\")(\"species\");t.exports=function(t){var e;return i(t)&&(\"function\"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},C8qk:function(t,e,n){\"use strict\";var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(\"y0lr\"),u=n(\"Iq8E\"),c=n(\"q1tI\"),l=n(\"i8i4\"),f=n(\"prOm\"),h=n(\"6Xrj\"),p=n(\"p1kU\"),d=n(\"DeIs\"),y=n(\"tKWh\"),g=n(\"JPcv\"),m=n(\"2NuI\"),v=n(\"OLzA\"),b=(g.List,function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e}),_=function(t,e){var n=e.get(t.getType())||e.get(\"unstyled\"),r=n.wrapper;return{Element:n.element||e.get(\"unstyled\").element,wrapperTemplate:r}},w=function(t,e){var n=e(t);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},S=function(t,e,n,r,i){var a={\"data-block\":!0,\"data-editor\":e,\"data-offset-key\":n,key:t.getKey()},s=r(t);return s&&(a.className=s),void 0!==i.customEditable&&(a=o({},a,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),a},E=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(t){var e=this.props,n=e.block,r=e.direction,i=e.tree,o=!n.getChildKeys().isEmpty(),a=n!==t.block||i!==t.tree||r!==t.direction||b(t.selection,t.block.getKey())&&t.forceSelection;return o||a},a.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n,r=l.findDOMNode(this),i=h.getScrollParent(r),o=d(i);if(i===window){var a=p(r);(n=a.y+a.height-y().height)>0&&window.scrollTo(o.x,o.y+n+10)}else{v(r)||m(!1);var s=r;(n=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&f.setTop(i,f.getTop(i)+n+10)}}},a.render=function(){var t=this,e=this.props,n=e.block,a=e.blockRenderMap,l=e.blockRendererFn,f=e.blockStyleFn,h=e.contentState,p=e.decorator,d=e.editorKey,y=e.editorState,g=e.customStyleFn,m=e.customStyleMap,v=e.direction,E=e.forceSelection,T=e.selection,C=e.tree,k=null;n.children.size&&(k=n.children.reduce(function(e,n){var i=u.encode(n,0,0),s=h.getBlockForKey(n),p=w(s,l),g=p.CustomComponent||r,m=_(s,a),v=m.Element,b=m.wrapperTemplate,E=S(s,d,i,f,p),T=o({},t.props,{tree:y.getBlockTree(n),blockProps:p.customProps,offsetKey:i,block:s});return e.push(c.createElement(v,E,c.createElement(g,T))),!b||function(t,e){var n=t.getNextSiblingKey();return!!n&&e.getBlockForKey(n).getType()===t.getType()}(s,h)?e:(function(t,e,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;if(f.type!==e)break;r.push(f)}}catch(d){o=!0,a=d}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),p=h[0].key;n.push(c.cloneElement(t,{key:\"\".concat(p,\"-wrap\"),\"data-offset-key\":u.encode(p,0,0)},h))}(b,v,e),e)},[]));var I=n.getKey(),D=u.encode(I,0,0),x=w(n,l),A=x.CustomComponent,O=null!=A?c.createElement(A,i({},this.props,{tree:y.getBlockTree(I),blockProps:x.customProps,offsetKey:D,block:n})):c.createElement(s,{block:n,children:k,contentState:h,customStyleFn:g,customStyleMap:m,decorator:p,direction:v,forceSelection:E,hasSelection:b(T,I),selection:T,tree:C});if(n.getParentKey())return O;var N=_(n,a).Element,M=S(n,d,D,f,x);return c.createElement(N,M,O)},r}(c.Component);t.exports=E},C9ER:function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"s8ra\"),a=n(\"7wDu\"),s=n(\"Wkzk\"),u=n(\"CYTE\"),c=n(\"T401\"),l=n(\"HEBY\"),f=n(\"vcNX\"),h=n(\"YUem\"),p=n(\"MPKC\"),d=n(\"0RQb\"),y=n(\"ujuU\"),g=n(\"3Br+\"),m=n(\"tuJh\"),v=n(\"ocgx\"),b=n(\"SYhp\"),_=o.isOptionKeyCommand,w=u.isBrowser(\"Chrome\");t.exports=function(t,e){var n=e.which,o=t._latestEditorState;function u(n){var r=t.props[n];return!!r&&(r(e),!0)}switch(n){case a.RETURN:if(e.preventDefault(),t.props.handleReturn&&c(t.props.handleReturn(e,o)))return;break;case a.ESC:if(e.preventDefault(),u(\"onEscape\"))return;break;case a.TAB:if(u(\"onTab\"))return;break;case a.UP:if(u(\"onUpArrow\"))return;break;case a.RIGHT:if(u(\"onRightArrow\"))return;break;case a.DOWN:if(u(\"onDownArrow\"))return;break;case a.LEFT:if(u(\"onLeftArrow\"))return;break;case a.SPACE:w&&_(e)&&e.preventDefault()}var S=t.props.keyBindingFn(e);if(null!=S&&\"\"!==S)if(\"undo\"!==S){if(e.preventDefault(),!t.props.handleKeyCommand||!c(t.props.handleKeyCommand(S,o,e.timeStamp))){var E=function(t,e,n){switch(t){case\"redo\":return i.redo(e);case\"delete\":return m(e);case\"delete-word\":return h(e);case\"backspace\":return g(e);case\"backspace-word\":return f(e);case\"backspace-to-start-of-line\":return l(e,n);case\"split-block\":return p(e);case\"transpose-characters\":return v(e);case\"move-selection-to-start-of-block\":return y(e);case\"move-selection-to-end-of-block\":return d(e);case\"secondary-cut\":return s.cut(e);case\"secondary-paste\":return s.paste(e);default:return e}}(S,o,e);E!==o&&t.update(E)}}else b(e,o,t.update);else if(n===a.SPACE&&w&&_(e)){var T=r.replaceText(o.getCurrentContent(),o.getSelection(),\"\\xa0\");t.update(i.push(o,T,\"insert-characters\"))}}},CJXx:function(t,e,n){\"use strict\";var r=n(\"MgzW\");var i=n(\"WLG0\"),o=n(\"q1tI\"),a=n(\"2NuI\"),s=n(\"aB02\"),u=n(\"O4zn\").setDraftEditorSelection,c=function(t){var e,n;function c(){for(var e,n,r,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(e),i=void 0,(r=\"leaf\")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=c.prototype;return l._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,n=e.block,r=e.start,i=e.text,o=n.getKey(),c=r+i.length;if(t.hasEdgeWithin(o,r,c)){var l=this.leaf;l||a(!1);var f,h=l.firstChild;h||a(!1),h.nodeType===Node.TEXT_NODE?f=h:s(h)?f=l:(f=h.firstChild)||a(!1),u(t,f,o,r,c)}}},l.shouldComponentUpdate=function(t){var e=this.leaf;return e||a(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},l.componentDidUpdate=function(){this._setSelection()},l.componentDidMount=function(){this._setSelection()},l.render=function(){var t=this,e=this.props.block,n=this.props.text;n.endsWith(\"\\n\")&&this.props.isLast&&(n+=\"\\n\");var a=this.props,s=a.customStyleMap,u=a.customStyleFn,c=a.offsetKey,l=a.styleSet,f=l.reduce(function(t,e){var n={},i=s[e];return void 0!==i&&t.textDecoration!==i.textDecoration&&(n.textDecoration=[t.textDecoration,i.textDecoration].join(\" \").trim()),r(t,i,n)},{});if(u){var h=u(l,e);f=r(f,h)}return o.createElement(\"span\",{\"data-offset-key\":c,ref:function(e){return t.leaf=e},style:f},o.createElement(i,null,n))},c}(o.Component);t.exports=c},CYTE:function(t,e,n){\"use strict\";var r=n(\"KL9H\"),i=n(\"QfTi\"),o=n(\"bd9B\"),a=n(\"rWXM\");function s(t,e,n,r){if(t===n)return!0;if(!n.startsWith(t))return!1;var o=n.slice(t.length);return!!e&&(o=r?r(o):o,i.contains(o,e))}function u(t){return\"Windows\"===r.platformName?t.replace(/^\\s*NT/,\"\"):t}var c={isBrowser:function(t){return s(r.browserName,r.browserFullVersion,t)},isBrowserArchitecture:function(t){return s(r.browserArchitecture,null,t)},isDevice:function(t){return s(r.deviceName,null,t)},isEngine:function(t){return s(r.engineName,r.engineVersion,t)},isPlatform:function(t){return s(r.platformName,r.platformFullVersion,t,u)},isPlatformArchitecture:function(t){return s(r.platformArchitecture,null,t)}};t.exports=o(c,a)},D9KS:function(t,e,n){\"use strict\";var r=n(\"MX0m\"),i=n.n(r),o=n(\"q1tI\"),a=n.n(o),s=n(\"/MKj\"),u=a.a.createElement;e.a=Object(s.b)(function(t){return t})(function(t){return t.isLoading&&u(\"div\",{className:\"jsx-2586767729 loader-wrapper\"},u(\"div\",{className:\"jsx-2586767729 loader\"}),u(i.a,{id:\"2586767729\"},[\".loader.jsx-2586767729{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;-webkit-animation:spin-jsx-2586767729 2s linear infinite;animation:spin-jsx-2586767729 2s linear infinite;}\",\".loader-wrapper.jsx-2586767729{position:fixed;margin:auto;height:100%;width:100%;top:0;bottom:0;right:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(241,241,241,0.7);}\",\"@-webkit-keyframes spin-jsx-2586767729{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\",\"@keyframes spin-jsx-2586767729{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\"]))})},DEWG:function(t,e,n){\"use strict\";n(\"2mcs\");t.exports=function(t,e){var n,r=t.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=t.getCurrentContent(),s=i;return e>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+e,r.merge({focusKey:s,focusOffset:n})}},DYKh:function(t,e,n){\"use strict\";var r=n(\"V8dp\"),i=n(\"bu5B\");t.exports=function(t,e){var n=e.getStartKey(),o=e.getStartOffset(),a=e.getEndKey(),s=e.getEndOffset(),u=i(t,e).getBlockMap(),c=u.keySeq(),l=c.indexOf(n),f=c.indexOf(a)+1;return r(u.slice(l,f).map(function(t,e){var r=t.getText(),i=t.getCharacterList();return n===a?t.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):e===n?t.merge({text:r.slice(o),characterList:i.slice(o)}):e===a?t.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):t}))}},DeIs:function(t,e,n){\"use strict\";var r=n(\"83KV\"),i=n(\"MxAa\");t.exports=function(t){var e=r(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var n=i(t),o=t===e?t.ownerDocument.documentElement:t,a=t.scrollWidth-o.clientWidth,s=t.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},DthY:function(t,e,n){\"use strict\";var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(\"CJXx\"),a=n(\"Iq8E\"),s=n(\"q1tI\"),u=n(\"prOm\"),c=n(\"6Xrj\"),l=n(\"fZAc\"),f=n(\"mjHj\"),h=n(\"YVIB\"),p=n(\"p1kU\"),d=n(\"DeIs\"),y=n(\"tKWh\"),g=n(\"2NuI\"),m=n(\"OLzA\"),v=n(\"gWRK\"),b=function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e},_=function(t){var e,n;function r(){for(var e,n,r,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(e),i=void 0,(r=\"_node\")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var _=r.prototype;return _.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||b(t.selection,t.block.getKey())&&t.forceSelection},_.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=c.getScrollParent(n),o=d(i);if(i===window){var a=p(n);(r=a.y+a.height-y().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{m(n)||g(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&u.setTop(i,u.getTop(i)+r+10)}}}},_._renderChildren=function(){var t=this,e=this.props.block,n=e.getKey(),r=e.getText(),u=this.props.tree.size-1,c=b(this.props.selection,n);return this.props.tree.map(function(h,p){var d=h.get(\"leaves\");if(0===d.size)return null;var y=d.size-1,g=d.map(function(i,l){var f=a.encode(n,p,l),h=i.get(\"start\"),d=i.get(\"end\");return s.createElement(o,{key:f,offsetKey:f,block:e,start:h,selection:c?t.props.selection:null,forceSelection:t.props.forceSelection,text:r.slice(h,d),styleSet:e.getInlineStyleAt(h),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:p===u&&l===y})}).toArray(),m=h.get(\"decoratorKey\");if(null==m)return g;if(!t.props.decorator)return g;var b=v(t.props.decorator),_=b.getComponentForKey(m);if(!_)return g;var w=b.getPropsForKey(m),S=a.encode(n,p,0),E=d.first().get(\"start\"),T=d.last().get(\"end\"),C=r.slice(E,T),k=e.getEntityAt(h.get(\"start\")),I=f.getHTMLDirIfDifferent(l.getDirection(C),t.props.direction),D={contentState:t.props.contentState,decoratedText:C,dir:I,key:S,start:E,end:T,blockKey:n,entityKey:k,offsetKey:S};return s.createElement(_,i({},w,D),g)}).toArray()},_.render=function(){var t=this,e=this.props,n=e.direction,r=e.offsetKey,i=h({\"public/DraftStyleDefault/block\":!0,\"public/DraftStyleDefault/ltr\":\"LTR\"===n,\"public/DraftStyleDefault/rtl\":\"RTL\"===n});return s.createElement(\"div\",{\"data-offset-key\":r,className:i,ref:function(e){return t._node=e}},this._renderChildren())},r}(s.Component);t.exports=_},EcUm:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=o(n(\"+80P\")),i=o(n(\"wRvv\"));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)();a.tlds(i.default);e.default=function(t,e){var n=a.match(t.get(\"text\"));if(\"undefined\"!==typeof n&&null!==n)for(var r=0;r<n.length;r+=1)e(n[r].index,n[r].lastIndex)}},F09w:function(t,e,n){\"use strict\";t.exports=function(t){return t&&t.ownerDocument?t.ownerDocument:document}},FcOR:function(t,e,n){\"use strict\";t.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},GMIm:function(t,e,n){\"use strict\";var r=n(\"GyOf\");t.exports=function(t){return!(!t||!t.ownerDocument)&&r(t)&&\"IMG\"===t.nodeName}},Gn5D:function(t,e,n){\"use strict\";t.exports={notEmptyKey:function(t){return null!=t&&\"\"!=t}}},\"Go+2\":function(t,e,n){\"use strict\";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,f){if(\"string\"!==typeof n){if(l){var h=c(n);h&&h!==l&&t(e,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var y=p[d];if(!r[y]&&!i[y]&&(!f||!f[y])){var g=u(n,y);try{o(e,y,g)}catch(m){}}}return e}return e}},GyOf:function(t,e,n){\"use strict\";t.exports=function(t){return!(!t||!t.ownerDocument)&&t.nodeType===Node.ELEMENT_NODE}},HEBY:function(t,e,n){\"use strict\";var r=n(\"3sOJ\"),i=n(\"HezI\"),o=n(\"ISee\"),a=n(\"kWjT\"),s=n(\"8d//\");t.exports=function(t,e){var n=s(t,function(t){var n=t.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(t,1);var r=e.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(t,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState},\"backward\");return n===t.getCurrentContent()?t:r.push(t,n,\"remove-range\")}},HKS5:function(t,e,n){\"use strict\";(function(e){var r=n(\"2NuI\"),i=/\\.textClipping$/,o={\"text/plain\":!0,\"text/html\":!0,\"text/rtf\":!0},a=5e3;t.exports=function(t,n){var s=0,u=[];t.forEach(function(c){!function(t,n){if(e.FileReader&&(!t.type||t.type in o)){if(\"\"===t.type){var a=\"\";return i.test(t.name)&&(a=t.name.replace(i,\"\")),void n(a)}var s=new FileReader;s.onload=function(){var t=s.result;\"string\"!==typeof t&&r(!1),n(t)},s.onerror=function(){n(\"\")},s.readAsText(t)}else n(\"\")}(c,function(e){s++,e&&u.push(e.slice(0,a)),s==t.length&&n(u.join(\"\\r\"))})})}}).call(this,n(\"yLpj\"))},Hdlu:function(t,e,n){\"use strict\";var r=n(\"q1tI\"),i=n(\"YVIB\"),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},a.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=i({\"public/DraftEditorPlaceholder/root\":!0,\"public/DraftEditorPlaceholder/hasFocus\":t});return r.createElement(\"div\",{className:e},r.createElement(\"div\",{className:i(\"public/DraftEditorPlaceholder/inner\"),id:this.props.accessibilityID,style:{whiteSpace:\"pre-wrap\"}},this.props.text))},o}(r.Component);t.exports=o},HezI:function(t,e,n){\"use strict\";var r=n(\"jLRO\"),i=n(\"F09w\"),o=n(\"158f\"),a=n(\"2NuI\");function s(t,e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<e&&o-r<e}function u(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||a(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var n=function(t){var e=getComputedStyle(t),n=i(t),r=n.createElement(\"div\");r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.fontStyle=e.fontStyle,r.style.fontWeight=e.fontWeight,r.style.lineHeight=e.lineHeight,r.style.position=\"absolute\",r.textContent=\"M\";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(e),c=t.endContainer,l=t.endOffset;for(t.setStart(t.startContainer,0);s(o(t),n)&&(c=t.startContainer,l=t.startOffset,c.parentNode||a(!1),t.setStartBefore(c),1!==c.nodeType||\"inline\"===getComputedStyle(c).display););for(var f=c,h=l-1;;){for(var p=f.nodeValue,d=h;d>=0;d--)if(!(null!=p&&d>0&&r.isSurrogatePair(p,d-1))){if(t.setStart(f,d),!s(o(t),n))break;c=f,l=d}if(-1===d||0===f.childNodes.length)break;h=u(f=f.childNodes[d])}return t.setStart(c,l),t}},HqBV:function(t,e,n){\"use strict\";var r=n(\"8v5W\"),i=n(\"b4pn\"),o=n(\"GWyB\"),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]=\"a[\"+i+\"]\";s[e]=Function(\"F,a\",\"return new F(\"+r.join(\",\")+\")\")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},HriT:function(t,e,n){\"use strict\";var r=new RegExp(\"\\r\",\"g\");t.exports=function(t){return t.replace(r,\"\")}},I2Ug:function(t,e,n){\"use strict\";var r=n(\"JL7T\"),i=n(\"VTBg\"),o=n(\"JPcv\"),a=n(\"2NuI\"),s=o.OrderedMap,u=o.List,c=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},l=function(t,e,n,r,i){if(!i)return t;var o=\"after\"===r,a=e.getKey(),s=n.getKey(),l=e.getParentKey(),f=e.getNextSiblingKey(),h=e.getPrevSiblingKey(),p=n.getParentKey(),d=o?n.getNextSiblingKey():s,y=o?s:n.getPrevSiblingKey();return t.withMutations(function(t){c(l,t,function(t){var e=t.getChildKeys();return t.merge({children:e.delete(e.indexOf(a))})}),c(h,t,function(t){return t.merge({nextSibling:f})}),c(f,t,function(t){return t.merge({prevSibling:h})}),c(d,t,function(t){return t.merge({prevSibling:a})}),c(y,t,function(t){return t.merge({nextSibling:a})}),c(p,t,function(t){var e=t.getChildKeys(),n=e.indexOf(s),r=o?n+1:0!==n?n-1:0,i=e.toArray();return i.splice(r,0,a),t.merge({children:u(i)})}),c(a,t,function(t){return t.merge({nextSibling:d,prevSibling:y,parent:p})})})};t.exports=function(t,e,n,o){\"replace\"===o&&a(!1);var u=n.getKey(),c=e.getKey();c===u&&a(!1);var f=t.getBlockMap(),h=e instanceof r,p=[e],d=f.delete(c);h&&(p=[],d=f.withMutations(function(t){var n=e.getNextSiblingKey(),r=i(e,t);t.toSeq().skipUntil(function(t){return t.getKey()===c}).takeWhile(function(t){var e=t.getKey(),i=e===c,o=n&&e!==n,a=!n&&t.getParentKey()&&(!r||e!==r);return!!(i||o||a)}).forEach(function(e){p.push(e),t.delete(e.getKey())})}));var y=d.toSeq().takeUntil(function(t){return t===n}),g=d.toSeq().skipUntil(function(t){return t===n}).skip(1),m=p.map(function(t){return[t.getKey(),t]}),v=s();if(\"before\"===o){var b=t.getBlockBefore(u);b&&b.getKey()===e.getKey()&&a(!1),v=y.concat([].concat(m,[[u,n]]),g).toOrderedMap()}else if(\"after\"===o){var _=t.getBlockAfter(u);_&&_.getKey()===c&&a(!1),v=y.concat([[u,n]].concat(m),g).toOrderedMap()}return t.merge({blockMap:l(v,e,n,o,h),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:c,focusKey:c})})}},I8OZ:function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"fZAc\"),o=n(\"mjHj\"),a=n(\"2NuI\"),s=function(){function t(t){r(this,\"_defaultDir\",void 0),r(this,\"_lastDir\",void 0),t?o.isStrong(t)||a(!1):t=o.getGlobalDir(),this._defaultDir=t,this.reset()}var e=t.prototype;return e.reset=function(){this._lastDir=this._defaultDir},e.getDirection=function(t){return this._lastDir=i.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s},ISR0:function(t,e,n){\"use strict\";var r=n(\"QvxS\"),i=n(\"fyOY\"),o=n(\"3sOJ\"),a=n(\"i8i4\"),s=n(\"kc9Y\"),u=n(\"F09w\"),c=n(\"HKS5\"),l=n(\"5RSi\"),f=n(\"WaGC\"),h=n(\"T401\"),p=n(\"gWRK\");var d={onDragEnd:function(t){t.exitCurrentMode(),y(t)},onDrop:function(t,e){var n=new r(e.nativeEvent.dataTransfer),a=t._latestEditorState,f=function(t,e){var n=null,r=null,i=u(t.currentTarget);if(\"function\"===typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(t.x,t.y);n=o.startContainer,r=o.startOffset}else{if(!t.rangeParent)return null;n=t.rangeParent,r=t.rangeOffset}n=p(n),r=p(r);var a=p(s(n));return l(e,a,r,a,r)}(e.nativeEvent,a);if(e.preventDefault(),t._dragCount=0,t.exitCurrentMode(),null!=f){var d=n.getFiles();if(d.length>0){if(t.props.handleDroppedFiles&&h(t.props.handleDroppedFiles(f,d)))return;c(d,function(e){e&&t.update(g(a,f,e))})}else{var m=t._internalDrag?\"internal\":\"external\";t.props.handleDrop&&h(t.props.handleDrop(f,n,m))||(t._internalDrag?t.update(function(t,e){var n=i.moveText(t.getCurrentContent(),t.getSelection(),e);return o.push(t,n,\"insert-fragment\")}(a,f)):t.update(g(a,f,n.getText()))),y(t)}}}};function y(t){t._internalDrag=!1;var e=a.findDOMNode(t);if(e){var n=new MouseEvent(\"mouseup\",{view:f(e),bubbles:!0,cancelable:!0});e.dispatchEvent(n)}}function g(t,e,n){var r=i.insertText(t.getCurrentContent(),e,n,t.getCurrentInlineStyle());return o.push(t,r,\"insert-fragment\")}t.exports=d},ISee:function(t,e,n){\"use strict\";var r=n(\"kc9Y\"),i=n(\"zORg\"),o=n(\"5RSi\"),a=n(\"2NuI\"),s=n(\"GyOf\"),u=n(\"gWRK\");function c(t,e,n){var o=e,c=r(o);(null!=c||t&&(t===o||t.firstChild===o)||a(!1),t===o)&&(o=o.firstChild,s(o)||a(!1),\"true\"!==(o=o).getAttribute(\"data-contents\")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var f=null;if(null!=c)f=c;else{var h=function(t){for(;t.firstChild&&(s(t.firstChild)&&\"true\"===t.firstChild.getAttribute(\"data-blocks\")||i(t.firstChild));)t=t.firstChild;return t}(o);f=u(i(h))}return{key:f,offset:0}}var p=o.childNodes[n-1],d=null,y=null;if(i(p)){var g=function(t){for(;t.lastChild&&(s(t.lastChild)&&\"true\"===t.lastChild.getAttribute(\"data-blocks\")||i(t.lastChild));)t=t.lastChild;return t}(p);d=u(i(g)),y=l(g)}else d=u(c),y=l(p);return{key:d,offset:y}}function l(t){var e=t.textContent;return\"\\n\"===e?0:e.length}t.exports=function(t,e,n,i,a,s){var l=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:o(t,u(r(n)),i,u(r(a)),s),needsRecovery:!1};var h=null,p=null,d=!0;return l?(h={key:u(r(n)),offset:i},p=c(e,a,s)):f?(p={key:u(r(a)),offset:s},h=c(e,n,i)):(h=c(e,n,i),p=c(e,a,s),n===a&&i===s&&(d=!!n.firstChild&&\"BR\"!==n.firstChild.nodeName)),{selectionState:o(t,h.key,h.offset,p.key,p.offset),needsRecovery:d}}},Idtq:function(t,e,n){\"use strict\";var r=n(\"cwFY\")(\"draft_tree_data_support\");t.exports=n(r?\"YrFj\":\"Y3PQ\")},Iq8E:function(t,e,n){\"use strict\";var r={encode:function(t,e,n){return t+\"-\"+e+\"-\"+n},decode:function(t){var e=t.split(\"-\").reverse(),n=e[0],r=e[1];return{blockKey:e.slice(2).reverse().join(\"-\"),decoratorKey:parseInt(r,10),leafKey:parseInt(n,10)}}};t.exports=r},\"JI+E\":function(t,e,n){\"use strict\";var r=n(\"3sOJ\"),i=n(\"TWoB\"),o=n(\"jl2H\");t.exports=function(t,e){var n=e.currentTarget.ownerDocument;if(!Boolean(t.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=t.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var u=t._latestEditorState,c=u.getSelection();if(c.getHasFocus()){var l=c.set(\"hasFocus\",!1);t.props.onBlur&&t.props.onBlur(e),t.update(r.acceptSelection(u,l))}}},JJgm:function(t,e,n){var r=n(\"0T/a\"),i=n(\"cQhG\"),o=n(\"8v5W\"),a=n(\"D4ny\"),s=n(\"b4pn\"),u=n(\"14Ie\"),c=n(\"HqBV\"),l=(n(\"2jw7\").Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(f||h),\"Reflect\",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},JL7T:function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"Taje\"),o=n(\"JPcv\"),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),h={parent:null,characterList:a(),data:s(),depth:0,key:\"\",text:\"\",type:\"unstyled\",children:a(),prevSibling:null,nextSibling:null},p=function(t,e){return t.getStyle()===e.getStyle()},d=function(t,e){return t.getEntity()===e.getEntity()},y=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(l(r.EMPTY,n.length))),t},g=function(t){var e,n;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return t.call(this,y(e))||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get(\"key\")},o.getType=function(){return this.get(\"type\")},o.getText=function(){return this.get(\"text\")},o.getCharacterList=function(){return this.get(\"characterList\")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get(\"depth\")},o.getData=function(){return this.get(\"data\")},o.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},o.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},o.getChildKeys=function(){return this.get(\"children\")},o.getParentKey=function(){return this.get(\"parent\")},o.getPrevSiblingKey=function(){return this.get(\"prevSibling\")},o.getNextSiblingKey=function(){return this.get(\"nextSibling\")},o.findStyleRanges=function(t,e){i(this.getCharacterList(),p,t,e)},o.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},r}(c(h));t.exports=g},JPcv:function(t,e,n){t.exports=function(){\"use strict\";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:Q(t)}function r(t){return s(t)?t:H(t)}function i(t){return u(t)?t:G(t)}function o(t){return a(t)&&!c(t)?t:Y(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[p])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f=\"@@__IMMUTABLE_ITERABLE__@@\",h=\"@@__IMMUTABLE_KEYED__@@\",p=\"@@__IMMUTABLE_INDEXED__@@\",d=\"@@__IMMUTABLE_ORDERED__@@\",y=5,g=1<<y,m=g-1,v={},b={value:!1},_={value:!1};function w(t){return t.value=!1,t}function S(t){t&&(t.value=!0)}function E(){}function T(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function C(t){return void 0===t.size&&(t.size=t.__iterate(I)),t.size}function k(t,e){if(\"number\"!==typeof e){var n=e>>>0;if(\"\"+n!==e||4294967295===n)return NaN;e=n}return e<0?C(t)+e:e}function I(){return!0}function D(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function x(t,e){return O(t,e,0)}function A(t,e){return O(t,e,e)}function O(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var N=0,M=1,R=2,L=\"function\"===typeof Symbol&&Symbol.iterator,P=\"@@iterator\",F=L||P;function B(t){this.next=t}function j(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function q(){return{value:void 0,done:!0}}function K(t){return!!z(t)}function U(t){return t&&\"function\"===typeof t.next}function V(t){var e=z(t);return e&&e.call(t)}function z(t){var e=t&&(L&&t[L]||t[P]);if(\"function\"===typeof e)return e}function W(t){return t&&\"number\"===typeof t.length}function Q(t){return null===t||void 0===t?ot():a(t)?t.toSeq():function(t){var e=ut(t)||\"object\"===typeof t&&new et(t);if(!e)throw new TypeError(\"Expected Array or iterable object of values, or keyed object: \"+t);return e}(t)}function H(t){return null===t||void 0===t?ot().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():at(t)}function G(t){return null===t||void 0===t?ot():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function Y(t){return(null===t||void 0===t?ot():a(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}B.prototype.toString=function(){return\"[Iterator]\"},B.KEYS=N,B.VALUES=M,B.ENTRIES=R,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[F]=function(){return this},e(Q,n),Q.of=function(){return Q(arguments)},Q.prototype.toSeq=function(){return this},Q.prototype.toString=function(){return this.__toString(\"Seq {\",\"}\")},Q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Q.prototype.__iterate=function(t,e){return ct(this,t,e,!0)},Q.prototype.__iterator=function(t,e){return lt(this,t,e,!0)},e(H,Q),H.prototype.toKeyedSeq=function(){return this},e(G,Q),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString(\"Seq [\",\"]\")},G.prototype.__iterate=function(t,e){return ct(this,t,e,!1)},G.prototype.__iterator=function(t,e){return lt(this,t,e,!1)},e(Y,Q),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},Q.isSeq=it,Q.Keyed=H,Q.Set=Y,Q.Indexed=G;var J,X,Z,$=\"@@__IMMUTABLE_SEQ__@@\";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function rt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[$])}function ot(){return J||(J=new tt([]))}function at(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():U(t)?new rt(t).fromEntrySeq():K(t)?new nt(t).fromEntrySeq():\"object\"===typeof t?new et(t):void 0;if(!e)throw new TypeError(\"Expected Array or iterable object of [k, v] entries, or keyed object: \"+t);return e}function st(t){var e=ut(t);if(!e)throw new TypeError(\"Expected Array or iterable object of values: \"+t);return e}function ut(t){return W(t)?new tt(t):U(t)?new rt(t):K(t)?new nt(t):void 0}function ct(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function lt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new B(function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:j(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function ft(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,G(n).map(function(r,i){return t(e,r,i,n)})):pt(n)?e.call(i,r,H(n).map(function(r,i){return t(e,r,i,n)})):n}(e,t,\"\",{\"\":t}):ht(t)}function ht(t){return Array.isArray(t)?G(t).map(ht).toList():pt(t)?H(t).map(ht).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function dt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(\"function\"===typeof t.valueOf&&\"function\"===typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!(\"function\"!==typeof t.equals||\"function\"!==typeof e.equals||!t.equals(e))}function yt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&dt(i[1],t)&&(n||dt(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)\"function\"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,h=e.__iterate(function(e,r){if(n?!t.has(e):i?!dt(e,t.get(r,v)):!dt(t.get(r,v),e))return f=!1,!1});return f&&t.size===h}function gt(t,e){if(!(this instanceof gt))return new gt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(X)return X;X=this}}function mt(t,e){if(!t)throw new Error(e)}function vt(t,e,n){if(!(this instanceof vt))return new vt(t,e,n);if(mt(0!==n,\"Cannot step a Range by 0\"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function bt(){throw TypeError(\"Abstract\")}function _t(){}function wt(){}function St(){}Q.prototype[$]=!0,e(tt,G),tt.prototype.get=function(t,e){return this.has(t)?this._array[k(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new B(function(){return i>r?{value:void 0,done:!0}:j(t,i,n[e?r-i++:i++])})},e(et,H),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},et.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new B(function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:j(t,a,n[a])})},et.prototype[d]=!0,e(nt,G),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=V(n),i=0;if(U(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,i++,this););return i},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=V(n);if(!U(r))return new B(q);var i=0;return new B(function(){var e=r.next();return e.done?e:j(t,i++,e.value)})},e(rt,G),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new B(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return j(t,i,r[i++])})},e(gt,G),gt.prototype.toString=function(){return 0===this.size?\"Repeat []\":\"Repeat [ \"+this._value+\" \"+this.size+\" times ]\"},gt.prototype.get=function(t,e){return this.has(t)?this._value:e},gt.prototype.includes=function(t){return dt(this._value,t)},gt.prototype.slice=function(t,e){var n=this.size;return D(t,e,n)?this:new gt(this._value,A(e,n)-x(t,n))},gt.prototype.reverse=function(){return this},gt.prototype.indexOf=function(t){return dt(this._value,t)?0:-1},gt.prototype.lastIndexOf=function(t){return dt(this._value,t)?this.size:-1},gt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},gt.prototype.__iterator=function(t,e){var n=this,r=0;return new B(function(){return r<n.size?j(t,r++,n._value):{value:void 0,done:!0}})},gt.prototype.equals=function(t){return t instanceof gt?dt(this._value,t._value):yt(t)},e(vt,G),vt.prototype.toString=function(){return 0===this.size?\"Range []\":\"Range [ \"+this._start+\"...\"+this._end+(this._step>1?\" by \"+this._step:\"\")+\" ]\"},vt.prototype.get=function(t,e){return this.has(t)?this._start+k(this,t)*this._step:e},vt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},vt.prototype.slice=function(t,e){return D(t,e,this.size)?this:(t=x(t,this.size),(e=A(e,this.size))<=t?new vt(0,0):new vt(this.get(t,this._end),this.get(e,this._end),this._step))},vt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},vt.prototype.lastIndexOf=function(t){return this.indexOf(t)},vt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},vt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new B(function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:j(t,o++,a)})},vt.prototype.equals=function(t){return t instanceof vt?this._start===t._start&&this._end===t._end&&this._step===t._step:yt(this,t)},e(bt,n),e(_t,bt),e(wt,bt),e(St,bt),bt.Keyed=_t,bt.Indexed=wt,bt.Set=St;var Et=\"function\"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Tt(t){return t>>>1&1073741824|3221225471&t}function Ct(t){if(!1===t||null===t||void 0===t)return 0;if(\"function\"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if(\"number\"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Tt(n)}if(\"string\"===e)return t.length>Mt?function(t){var e=Pt[t];return void 0===e&&(e=kt(t),Lt===Rt&&(Lt=0,Pt={}),Lt++,Pt[t]=e),e}(t):kt(t);if(\"function\"===typeof t.hashCode)return t.hashCode();if(\"object\"===e)return function(t){var e;if(At&&void 0!==(e=It.get(t)))return e;if(void 0!==(e=t[Nt]))return e;if(!xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Nt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ot,1073741824&Ot&&(Ot=0),At)It.set(t,e);else{if(void 0!==Dt&&!1===Dt(t))throw new Error(\"Non-extensible objects are not allowed as keys.\");if(xt)Object.defineProperty(t,Nt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Nt]=e;else{if(void 0===t.nodeType)throw new Error(\"Unable to set a non-enumerable property on object.\");t[Nt]=e}}return e}(t);if(\"function\"===typeof t.toString)return kt(t.toString());throw new Error(\"Value type \"+e+\" cannot be hashed.\")}function kt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Tt(e)}var It,Dt=Object.isExtensible,xt=function(){try{return Object.defineProperty({},\"@\",{}),!0}catch(t){return!1}}(),At=\"function\"===typeof WeakMap;At&&(It=new WeakMap);var Ot=0,Nt=\"__immutablehash__\";\"function\"===typeof Symbol&&(Nt=Symbol(Nt));var Mt=16,Rt=255,Lt=0,Pt={};function Ft(t){mt(t!==1/0,\"Cannot perform this action with an infinite size.\")}function Bt(t){return null===t||void 0===t?Zt():jt(t)&&!l(t)?t:Zt().withMutations(function(e){var n=r(t);Ft(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function jt(t){return!(!t||!t[Kt])}e(Bt,_t),Bt.prototype.toString=function(){return this.__toString(\"Map {\",\"}\")},Bt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Bt.prototype.set=function(t,e){return $t(this,t,e)},Bt.prototype.setIn=function(t,e){return this.updateIn(t,v,function(){return e})},Bt.prototype.remove=function(t){return $t(this,t,v)},Bt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return v})},Bt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Bt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===v,a=n.next();if(a.done){var s=o?r:e,u=i(s);return u===s?e:u}mt(o||e&&e.set,\"invalid keyPath\");var c=a.value,l=o?v:e.get(c,v),f=t(l,n,r,i);return f===l?e:f===v?e.remove(c):(o?Zt():e).set(c,f)}(this,nn(t),e,n);return r===v?void 0:r},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},Bt.prototype.merge=function(){return re(this,void 0,arguments)},Bt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return re(this,e,n)},Bt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return\"function\"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Bt.prototype.mergeDeep=function(){return re(this,ie,arguments)},Bt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return re(this,oe(e),n)},Bt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return\"function\"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Bt.prototype.sort=function(t){return xe(We(this,t))},Bt.prototype.sortBy=function(t,e){return xe(We(this,e,t))},Bt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Bt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Bt.prototype.asImmutable=function(){return this.__ensureOwner()},Bt.prototype.wasAltered=function(){return this.__altered},Bt.prototype.__iterator=function(t,e){return new Gt(this,t,e)},Bt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Bt.isMap=jt;var qt,Kt=\"@@__IMMUTABLE_MAP__@@\",Ut=Bt.prototype;function Vt(t,e){this.ownerID=t,this.entries=e}function zt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Wt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ht(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Jt(t._root)}function Yt(t,e){return j(t,e[0],e[1])}function Jt(t,e){return{node:t,index:0,__prev:e}}function Xt(t,e,n,r){var i=Object.create(Ut);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Zt(){return qt||(qt=Xt(0))}function $t(t,e,n){var r,i;if(t._root){var o=w(b),a=w(_);if(r=te(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===v?-1:1:0)}else{if(n===v)return t;i=1,r=new Vt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Xt(i,r):Zt()}function te(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===v?t:(S(s),S(a),new Ht(e,r,[i,o]))}function ee(t){return t.constructor===Ht||t.constructor===Qt}function ne(t,e,n,r,i){if(t.keyHash===r)return new Qt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&m,s=(0===n?r:r>>>n)&m,u=a===s?[ne(t,e,n+y,r,i)]:(o=new Ht(e,r,i),a<s?[t,o]:[o,t]);return new zt(e,1<<a|1<<s,u)}function re(t,e,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map(function(t){return ft(t)})),i.push(u)}return ae(t,e,i)}function ie(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):dt(t,e)?t:e}function oe(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return dt(e,i)?e:i}}function ae(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,v,function(t){return t===v?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ue(t,e,n,r){var i=r?t:T(t);return i[e]=n,i}Ut[Kt]=!0,Ut.delete=Ut.remove,Ut.removeIn=Ut.deleteIn,Vt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(dt(n,i[o][0]))return i[o][1];return r},Vt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===v,u=this.entries,c=0,l=u.length;c<l&&!dt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(S(a),(s||!f)&&S(o),!s||1!==u.length){if(!f&&!s&&u.length>=ce)return function(t,e,n,r){t||(t=new E);for(var i=new Ht(t,Ct(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,u,r,i);var h=t&&t===this.ownerID,p=h?u:T(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Vt(t,p)}},zt.prototype.get=function(t,e,n,r){void 0===e&&(e=Ct(n));var i=1<<((0===t?e:e>>>t)&m),o=this.bitmap;return 0===(o&i)?r:this.nodes[se(o&i-1)].get(t+y,e,n,r)},zt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Ct(r));var s=(0===e?n:n>>>e)&m,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===v)return this;var f=se(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=te(p,t,e+y,n,r,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=le)return function(t,e,n,r,i){for(var o=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new Wt(t,o+1,a)}(t,h,c,s,d);if(l&&!d&&2===h.length&&ee(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&ee(d))return d;var b=t&&t===this.ownerID,_=l?d?c:c^u:c|u,w=l?d?ue(h,f,d,b):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(h,f,b):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}(h,f,d,b);return b?(this.bitmap=_,this.nodes=w,this):new zt(t,_,w)},Wt.prototype.get=function(t,e,n,r){void 0===e&&(e=Ct(n));var i=(0===t?e:e>>>t)&m,o=this.nodes[i];return o?o.get(t+y,e,n,r):r},Wt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Ct(r));var s=(0===e?n:n>>>e)&m,u=i===v,c=this.nodes,l=c[s];if(u&&!l)return this;var f=te(l,t,e+y,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<fe)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new zt(t,i,a)}(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=ue(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new Wt(t,h,d)},Qt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(dt(n,i[o][0]))return i[o][1];return r},Qt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Ct(r));var s=i===v;if(n!==this.keyHash)return s?this:(S(a),S(o),ne(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!dt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(S(a),(s||!f)&&S(o),s&&2===l)return new Ht(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:T(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Qt(t,this.keyHash,p)},Ht.prototype.get=function(t,e,n,r){return dt(n,this.entry[0])?this.entry[1]:r},Ht.prototype.update=function(t,e,n,r,i,o,a){var s=i===v,u=dt(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(S(a),s?void S(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Ht(t,this.keyHash,[r,i]):(S(o),ne(this,t,e,Ct(r),[r,i])))},Vt.prototype.iterate=Qt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},zt.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Ht.prototype.iterate=function(t,e){return t(this.entry)},e(Gt,B),Gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Yt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return Yt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Yt(t,o.entry);e=this._stack=Jt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ce=g/4,le=g/2,fe=g/4;function he(t){var e=Se();if(null===t||void 0===t)return e;if(pe(t))return t;var n=i(t),r=n.size;return 0===r?e:(Ft(r),r>0&&r<g?we(0,r,y,null,new ge(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function pe(t){return!(!t||!t[de])}e(he,wt),he.of=function(){return this(arguments)},he.prototype.toString=function(){return this.__toString(\"List [\",\"]\")},he.prototype.get=function(t,e){if((t=k(this,t))>=0&&t<this.size){var n=Ce(this,t+=this._origin);return n&&n.array[t&m]}return e},he.prototype.set=function(t,e){return function(t,e,n){if((e=k(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?ke(t,e).set(0,n):ke(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=w(_);return e>=De(t._capacity)?r=Ee(r,t.__ownerID,0,e,n,o):i=Ee(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):we(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},he.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},he.prototype.insert=function(t,e){return this.splice(t,0,e)},he.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Se()},he.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){ke(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},he.prototype.pop=function(){return ke(this,0,-1)},he.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){ke(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},he.prototype.shift=function(){return ke(this,1)},he.prototype.merge=function(){return Ie(this,void 0,arguments)},he.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Ie(this,e,n)},he.prototype.mergeDeep=function(){return Ie(this,ie,arguments)},he.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Ie(this,oe(e),n)},he.prototype.setSize=function(t){return ke(this,0,t)},he.prototype.slice=function(t,e){var n=this.size;return D(t,e,n)?this:ke(this,x(t,n),A(e,n))},he.prototype.__iterator=function(t,e){var n=0,r=_e(this,e);return new B(function(){var e=r();return e===be?{value:void 0,done:!0}:j(t,n++,e)})},he.prototype.__iterate=function(t,e){for(var n,r=0,i=_e(this,e);(n=i())!==be&&!1!==t(n,r++,this););return r},he.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?we(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},he.isList=pe;var de=\"@@__IMMUTABLE_LIST__@@\",ye=he.prototype;function ge(t,e){this.array=t,this.ownerID=e}ye[de]=!0,ye.delete=ye.remove,ye.setIn=Ut.setIn,ye.deleteIn=ye.removeIn=Ut.removeIn,ye.update=Ut.update,ye.updateIn=Ut.updateIn,ye.mergeIn=Ut.mergeIn,ye.mergeDeepIn=Ut.mergeDeepIn,ye.withMutations=Ut.withMutations,ye.asMutable=Ut.asMutable,ye.asImmutable=Ut.asImmutable,ye.wasAltered=Ut.wasAltered,ge.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&m;if(r>=this.array.length)return new ge([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-y,n))===a&&o)return this}if(o&&!i)return this;var s=Te(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},ge.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&m;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-y,n))===o&&i===this.array.length-1)return this}var a=Te(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var me,ve,be={};function _e(t,e){var n=t._origin,r=t._capacity,i=De(r),o=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>g&&(c=g),function(){if(u===c)return be;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,i,o){var s,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>g&&(l=g),function(){for(;;){if(s){var t=s();if(t!==be)return t;s=null}if(c===l)return be;var n=e?--l:c++;s=a(u&&u[n],i-y,o+(n<<i))}}}(t,s,u)}}function we(t,e,n,r,i,o,a){var s=Object.create(ye);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Se(){return me||(me=we(0,0,y))}function Ee(t,e,n,r,i,o){var a,s=r>>>n&m,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[s],l=Ee(c,e,n-y,r,i,o);return l===c?t:((a=Te(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(S(o),a=Te(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Te(t,e){return e&&t&&e===t.ownerID?t:new ge(t?t.array.slice():[],e)}function Ce(t,e){if(e>=De(t._capacity))return t._tail;if(e<1<<t._level+y){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&m],r-=y;return n}}function ke(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new E,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new ge(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=y);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=De(o),h=De(s);h>=1<<u+y;)c=new ge(c&&c.array.length?[c]:[],r),u+=y;var p=t._tail,d=h<f?Ce(t,s-1):h>f?new ge([],r):p;if(p&&h>f&&a<o&&p.array.length){for(var g=c=Te(c,r),v=u;v>y;v-=y){var b=f>>>v&m;g=g.array[b]=Te(g.array[b],r)}g.array[f>>>y&m]=p}if(s<o&&(d=d&&d.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=y,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;c;){var _=a>>>u&m;if(_!==h>>>u&m)break;_&&(l+=(1<<u)*_),u-=y,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):we(a,s,u,c,d)}function Ie(t,e,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map(function(t){return ft(t)})),r.push(c)}return o>t.size&&(t=t.setSize(o)),ae(t,e,r)}function De(t){return t<g?0:t-1>>>y<<y}function xe(t){return null===t||void 0===t?Ne():Ae(t)?t:Ne().withMutations(function(e){var n=r(t);Ft(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Ae(t){return jt(t)&&l(t)}function Oe(t,e,n,r){var i=Object.create(xe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Ne(){return ve||(ve=Oe(Zt(),Se()))}function Me(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===v){if(!u)return t;a.size>=g&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Oe(r,i)}function Re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Le(t){this._iter=t,this.size=t.size}function Pe(t){this._iter=t,this.size=t.size}function Fe(t){this._iter=t,this.size=t.size}function Be(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tn,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===R){var r=t.__iterator(e,n);return new B(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===M?N:M,n)},e}function je(t,e,n){var r=$e(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,v);return o===v?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(R,i);return new B(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return j(r,s,e.call(n,a[1],s,t),i)})},r}function qe(t,e){var n=$e(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Be(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=tn,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function Ke(t,e,n,r){var i=$e(t);return r&&(i.has=function(r){var i=t.get(r,v);return i!==v&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,v);return o!==v&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(R,o),s=0;return new B(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return j(i,r?c:s++,l,o)}})},i}function Ue(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),D(e,n,i))return t;var o=x(e,i),a=A(n,i);if(o!==o||a!==a)return Ue(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=$e(t);return c.size=0===s?s:t.size&&s||void 0,!r&&it(t)&&s>=0&&(c.get=function(e,n){return(e=k(this,e))>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new B(function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var t=i.next();return r||e===M?t:j(e,u-1,e===N?void 0:t.value[1],t)})},c}function Ve(t,e,n,r){var i=$e(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(R,o),u=!0,c=0;return new B(function(){var t,o,l;do{if((t=s.next()).done)return r||i===M?t:j(i,c++,i===N?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===R?t:j(i,o,l,t)})},i}function ze(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function t(u,c){var l=this;u.__iterate(function(i,u){return(!e||c<e)&&a(i)?t(i,c+1):!1===r(i,n?u:o++,l)&&(s=!0),!s},i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new B(function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(r===R&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:j(r,u++,c,t);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}})},r}function We(t,e,n){e||(e=en);var r=s(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?H(o):u(t)?G(o):Y(o)}function Qe(t,e,n){if(e||(e=en),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return He(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return He(e,t,n)?n:t})}function He(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ge(t,e,r){var i=$e(t);return i.size=new tt(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(M,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=n(t),V(i?t.reverse():t)}),a=0,s=!1;return new B(function(){var n;return s||(n=o.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?{value:void 0,done:!0}:j(t,a++,e.apply(null,n.map(function(t){return t.value})))})},i}function Ye(t,e){return it(t)?e:t.constructor(e)}function Je(t){if(t!==Object(t))throw new TypeError(\"Expected [K, V] tuple: \"+t)}function Xe(t){return Ft(t.size),C(t)}function Ze(t){return s(t)?r:u(t)?i:o}function $e(t){return Object.create((s(t)?H:u(t)?G:Y).prototype)}function tn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Q.prototype.cacheResult.call(this)}function en(t,e){return t>e?1:t<e?-1:0}function nn(t){var e=V(t);if(!e){if(!W(t))throw new TypeError(\"Expected iterable or array-like: \"+t);e=V(n(t))}return e}function rn(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){mt(this.__ownerID,\"Cannot set on an immutable record.\"),this.set(e,t)}})}.bind(void 0,t))}catch(n){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Bt(o)},i=r.prototype=Object.create(on);return i.constructor=r,r}e(xe,Bt),xe.of=function(){return this(arguments)},xe.prototype.toString=function(){return this.__toString(\"OrderedMap {\",\"}\")},xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ne()},xe.prototype.set=function(t,e){return Me(this,t,e)},xe.prototype.remove=function(t){return Me(this,t,v)},xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Oe(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},xe.isOrderedMap=Ae,xe.prototype[d]=!0,xe.prototype.delete=xe.prototype.remove,e(Re,H),Re.prototype.get=function(t,e){return this._iter.get(t,e)},Re.prototype.has=function(t){return this._iter.has(t)},Re.prototype.valueSeq=function(){return this._iter.valueSeq()},Re.prototype.reverse=function(){var t=this,e=qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Re.prototype.map=function(t,e){var n=this,r=je(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Xe(this):0,function(i){return t(i,e?--n:n++,r)}),e)},Re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(M,e),r=e?Xe(this):0;return new B(function(){var i=n.next();return i.done?i:j(t,e?--r:r++,i.value,i)})},Re.prototype[d]=!0,e(Le,G),Le.prototype.includes=function(t){return this._iter.includes(t)},Le.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},Le.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e),r=0;return new B(function(){var e=n.next();return e.done?e:j(t,r++,e.value,e)})},e(Pe,Y),Pe.prototype.has=function(t){return this._iter.includes(t)},Pe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Pe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e);return new B(function(){var e=n.next();return e.done?e:j(t,e.value,e.value,e)})},e(Fe,H),Fe.prototype.entrySeq=function(){return this._iter.toSeq()},Fe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Je(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},Fe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e);return new B(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Je(r);var i=a(r);return j(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},Le.prototype.cacheResult=Re.prototype.cacheResult=Pe.prototype.cacheResult=Fe.prototype.cacheResult=tn,e(rn,_t),rn.prototype.toString=function(){return this.__toString(sn(this)+\" {\",\"}\")},rn.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},rn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=an(this,Zt()))},rn.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key \"'+t+'\" on '+sn(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:an(this,n)},rn.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:an(this,e)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},rn.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},rn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?an(this,e,t):(this.__ownerID=t,this._map=e,this)};var on=rn.prototype;function an(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function sn(t){return t._name||t.constructor.name||\"Record\"}function un(t){return null===t||void 0===t?yn():cn(t)&&!l(t)?t:yn().withMutations(function(e){var n=o(t);Ft(n.size),n.forEach(function(t){return e.add(t)})})}function cn(t){return!(!t||!t[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=Ut.removeIn,on.merge=Ut.merge,on.mergeWith=Ut.mergeWith,on.mergeIn=Ut.mergeIn,on.mergeDeep=Ut.mergeDeep,on.mergeDeepWith=Ut.mergeDeepWith,on.mergeDeepIn=Ut.mergeDeepIn,on.setIn=Ut.setIn,on.update=Ut.update,on.updateIn=Ut.updateIn,on.withMutations=Ut.withMutations,on.asMutable=Ut.asMutable,on.asImmutable=Ut.asImmutable,e(un,St),un.of=function(){return this(arguments)},un.fromKeys=function(t){return this(r(t).keySeq())},un.prototype.toString=function(){return this.__toString(\"Set {\",\"}\")},un.prototype.has=function(t){return this._map.has(t)},un.prototype.add=function(t){return pn(this,this._map.set(t,!0))},un.prototype.remove=function(t){return pn(this,this._map.remove(t))},un.prototype.clear=function(){return pn(this,this._map.clear())},un.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},un.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},un.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(t){return gn(We(this,t))},un.prototype.sortBy=function(t,e){return gn(We(this,e,t))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},un.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},un.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},un.isSet=cn;var ln,fn=\"@@__IMMUTABLE_SET__@@\",hn=un.prototype;function pn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function dn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function yn(){return ln||(ln=dn(Zt()))}function gn(t){return null===t||void 0===t?wn():mn(t)?t:wn().withMutations(function(e){var n=o(t);Ft(n.size),n.forEach(function(t){return e.add(t)})})}function mn(t){return cn(t)&&l(t)}hn[fn]=!0,hn.delete=hn.remove,hn.mergeDeep=hn.merge,hn.mergeDeepWith=hn.mergeWith,hn.withMutations=Ut.withMutations,hn.asMutable=Ut.asMutable,hn.asImmutable=Ut.asImmutable,hn.__empty=yn,hn.__make=dn,e(gn,un),gn.of=function(){return this(arguments)},gn.fromKeys=function(t){return this(r(t).keySeq())},gn.prototype.toString=function(){return this.__toString(\"OrderedSet {\",\"}\")},gn.isOrderedSet=mn;var vn,bn=gn.prototype;function _n(t,e){var n=Object.create(bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function wn(){return vn||(vn=_n(Ne()))}function Sn(t){return null===t||void 0===t?Dn():En(t)?t:Dn().unshiftAll(t)}function En(t){return!(!t||!t[Cn])}bn[d]=!0,bn.__empty=wn,bn.__make=_n,e(Sn,wt),Sn.of=function(){return this(arguments)},Sn.prototype.toString=function(){return this.__toString(\"Stack [\",\"]\")},Sn.prototype.get=function(t,e){var n=this._head;for(t=k(this,t);n&&t--;)n=n.next;return n?n.value:e},Sn.prototype.peek=function(){return this._head&&this._head.value},Sn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):In(t,e)},Sn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(e,n)},Sn.prototype.pop=function(){return this.slice(1)},Sn.prototype.unshift=function(){return this.push.apply(this,arguments)},Sn.prototype.unshiftAll=function(t){return this.pushAll(t)},Sn.prototype.shift=function(){return this.pop.apply(this,arguments)},Sn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Dn()},Sn.prototype.slice=function(t,e){if(D(t,e,this.size))return this;var n=x(t,this.size),r=A(e,this.size);if(r!==this.size)return wt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):In(i,o)},Sn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?In(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Sn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new B(function(){if(r){var e=r.value;return r=r.next,j(t,n++,e)}return{value:void 0,done:!0}})},Sn.isStack=En;var Tn,Cn=\"@@__IMMUTABLE_STACK__@@\",kn=Sn.prototype;function In(t,e,n,r){var i=Object.create(kn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Dn(){return Tn||(Tn=In(0))}function xn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}kn[Cn]=!0,kn.withMutations=Ut.withMutations,kn.asMutable=Ut.asMutable,kn.asImmutable=Ut.asImmutable,kn.wasAltered=Ut.wasAltered,n.Iterator=B,xn(n,{toArray:function(){Ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new Le(this)},toJS:function(){return this.toSeq().map(function(t){return t&&\"function\"===typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&\"function\"===typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Re(this,!0)},toMap:function(){return Bt(this.toKeyedSeq())},toObject:function(){Ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return xe(this.toKeyedSeq())},toOrderedSet:function(){return gn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Pe(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sn(s(this)?this.valueSeq():this)},toList:function(){return he(s(this)?this.valueSeq():this)},toString:function(){return\"[Iterable]\"},__toString:function(t,e){return 0===this.size?t+e:t+\" \"+this.toSeq().map(this.__toStringMapper).join(\", \")+\" \"+e},concat:function(){var e=t.call(arguments,0);return Ye(this,function(t,e){var n=s(t),i=[t].concat(e).map(function(t){return a(t)?n&&(t=r(t)):t=n?at(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&s(o)||u(t)&&u(o))return o}var c=new tt(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}(this,e))},includes:function(t){return this.some(function(e){return dt(e,t)})},entries:function(){return this.__iterator(R)},every:function(t,e){Ft(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ye(this,Ke(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ft(this.size),t=void 0!==t?\"\"+t:\",\";var e=\"\",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():\"\"}),e},keys:function(){return this.__iterator(N)},map:function(t,e){return Ye(this,je(this,t,e))},reduce:function(t,e,n){var r,i;return Ft(this.size),arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ye(this,qe(this,!0))},slice:function(t,e){return Ye(this,Ue(this,t,e,!0))},some:function(t,e){return!this.every(Rn(t),e)},sort:function(t){return Ye(this,We(this,t))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return C(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Bt().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return yt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Mn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Rn(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(I)},flatMap:function(t,e){return Ye(this,function(t,e,n){var r=Ze(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Ye(this,ze(this,t,!0))},fromEntrySeq:function(){return new Fe(this)},get:function(t,e){return this.find(function(e,n){return dt(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=nn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=s(t),i=(l(t)?xe():Bt()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return(t=t||[]).push(r?[a,o]:o),t})});var o=Ze(t);return i.map(function(e){return Ye(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,v)!==v},hasIn:function(t){return this.getIn(t,v)!==v},isSubset:function(t){return t=\"function\"===typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t=\"function\"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Nn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Qe(this,t)},maxBy:function(t,e){return Qe(this,e,t)},min:function(t){return Qe(this,t?Ln(t):Bn)},minBy:function(t,e){return Qe(this,e?Ln(e):Bn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ye(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ye(this,Ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Rn(t),e)},sortBy:function(t,e){return Ye(this,We(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ye(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ye(this,function(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(R,i),s=!0;return new B(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===R?t:j(r,u,c,t):(s=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Rn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return function(t,e){return e=Et(e,3432918353),e=Et(e<<15|e>>>-15,461845907),e=Et(e<<13|e>>>-13,5),e=Et((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Tt((e=Et(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+jn(Ct(t),Ct(e))|0}:function(t,e){r=r+jn(Ct(t),Ct(e))|0}:e?function(t){r=31*r+Ct(t)|0}:function(t){r=r+Ct(t)|0}),r)}(this))}});var An=n.prototype;An[f]=!0,An[F]=An.values,An.__toJS=An.toArray,An.__toStringMapper=Pn,An.inspect=An.toSource=function(){return this.toString()},An.chain=An.flatMap,An.contains=An.includes,function(){try{Object.defineProperty(An,\"length\",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf(\"_wrapObject\"))return console&&console.warn&&console.warn(\"iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. \"+t),this.size}}})}catch(t){}}(),xn(r,{flip:function(){return Ye(this,Be(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return dt(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return dt(e,t)})},mapEntries:function(t,e){var n=this,r=0;return Ye(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ye(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var On=r.prototype;function Nn(t,e){return e}function Mn(t,e){return[e,t]}function Rn(t){return function(){return!t.apply(this,arguments)}}function Ln(t){return function(){return-t.apply(this,arguments)}}function Pn(t){return\"string\"===typeof t?JSON.stringify(t):t}function Fn(){return T(arguments)}function Bn(t,e){return t<e?1:t>e?-1:0}function jn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return On[h]=!0,On[F]=An.entries,On.__toJS=An.toObject,On.__toStringMapper=function(t,e){return JSON.stringify(e)+\": \"+Pn(t)},xn(i,{toKeyedSeq:function(){return new Re(this,!1)},filter:function(t,e){return Ye(this,Ke(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ye(this,qe(this,!1))},slice:function(t,e){return Ye(this,Ue(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=x(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ye(this,1===n?r:r.concat(T(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Ye(this,ze(this,t,!1))},get:function(t,e){return(t=k(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=k(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ye(this,function(t,e){var n=$e(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(M,r),a=0;return new B(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?j(n,a++,e):j(n,a++,i.value,i)})},n}(this,t))},interleave:function(){var t=[this].concat(T(arguments)),e=Ge(this.toSeq(),G.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ye(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ye(this,Ve(this,t,e,!1))},zip:function(){return Ye(this,Ge(this,Fn,[this].concat(T(arguments))))},zipWith:function(t){var e=T(arguments);return e[0]=this,Ye(this,Ge(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,xn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=An.includes,xn(H,r.prototype),xn(G,i.prototype),xn(Y,o.prototype),xn(_t,r.prototype),xn(wt,i.prototype),xn(St,o.prototype),{Iterable:n,Seq:Q,Collection:bt,Map:Bt,OrderedMap:xe,List:he,Stack:Sn,Set:un,OrderedSet:gn,Record:rn,Range:vt,Repeat:gt,is:dt,fromJS:ft}}()},JwBy:function(t,e,n){\"use strict\";var r=n(\"MX0m\"),i=n.n(r),o=n(\"q1tI\"),a=n.n(o),s=n(\"YFqc\"),u=n.n(s),c=n(\"/MKj\"),l=n(\"Wcq6\"),f=n.n(l),h=(n(\"6nsN\"),n(\"nOHt\")),p=n.n(h),d=n(\"A00i\"),y=n(\"p46w\"),g=n.n(y),m=n(\"hmoh\"),v=n.n(m),b=n(\"zrwo\"),_=n(\"eHHv\"),w=n(\"Bqhj\"),S=a.a.createElement,E=Object(_.a)(Object(_.b)(\"state\",\"setState\",{email:\"\",password:\"\",isLoading:!1,errorMessage:\"\"}))(function(t){var e=t.setState,n=t.state,r=t.dispatch;t.lang;f.a.apps.length||f.a.initializeApp(v.a);var i=n.email,o=n.password,a=(n.isLoading,n.errorMessage);function s(t,r){var i=Object(b.a)({},n);i[t]=r,e(i)}return S(w.a,{errorMessage:a,email:i,password:o,handleEmailPassAuth:function(t){t.preventDefault(),s(\"isLoading\",!0);var e=n.email,i=n.password;f.a.auth().signInWithEmailAndPassword(e,i).then(function(t){t.user.getIdToken().then(function(t){g.a.set(\"token2\",t,{expires:1}),r({type:\"SET_ITEM\",name:\"modalTarget\",payload:null})}),r({type:\"SET_ITEM\",name:\"user\",payload:t.user}),r({type:\"SET_ITEM\",name:\"isLoggedIn\",payload:!0})}).catch(function(t){var e=t.code,n=t.message;s(\"isLoading\",!1),\"auth/user-not-found\"===e&&(n=\"User not found please register\"),s(\"errorMessage\",n)})},handleChange:function(t){var r=Object(b.a)({},n);r[t.target.name]=t.target.value,e(r)}})}),T=Object(c.b)(function(t){return t})(E),C=a.a.createElement,k=Object(c.b)(function(t){return t})(function(t){var e=t.router,n=t.user,r=t.dispatch,o=t.lang,s=t.strings;f.a.apps.length||f.a.initializeApp(v.a);var c=[{href:\"/\".concat(o),label:Object(d.translate)(\"HOME\",s,o),target:\"/\"},{href:\"/\".concat(o,\"/about\"),label:Object(d.translate)(\"ABOUT-US\",s,o),target:\"/about\"},{href:\"/\".concat(o,\"/contact\"),label:Object(d.translate)(\"CONTACT\",s,o),target:\"/contact\"},{href:\"/\".concat(o,\"/p\"),label:Object(d.translate)(\"SHOP\",s,o),target:\"/p\"},{href:\"/\".concat(o,\"/blog\"),label:Object(d.translate)(\"BLOG\",s,o),target:\"/blog\"},{href:\"https://github.com/BlakeGeist/next-firebase-boiler\",label:\"GitHub\",isExternal:!0}].map(function(t){return t.key=\"nav-link-\".concat(t.href,\"-\").concat(t.label),t}),l=function(t){var e=t.isExternal,n=t.href,r=t.label,i=t.target;return e?C(\"a\",{href:n,className:\"navItem\",target:\"_blank\"},r):C(u.a,{href:\"/[lang]\".concat(i),as:n},C(\"a\",{className:\"navItem\"},r))};return C(a.a.Fragment,null,C(\"nav\",{className:\"jsx-3756164257\"},C(\"ul\",{className:\"jsx-3756164257\"},c.map(function(t){var e=t.key,n=t.href,r=t.label,i=t.isExternal,o=t.target;return C(\"li\",{key:e,className:\"jsx-3756164257\"},C(l,{href:n,label:r,isExternal:i,target:o}))})),C(\"ul\",{className:\"jsx-3756164257 user-nav\"},n&&n.uid?C(a.a.Fragment,null,C(\"li\",{className:\"jsx-3756164257\"},C(u.a,{href:\"/[lang]/dashboard\",as:\"/\".concat(o,\"/dashboard\")},C(\"a\",{className:\"jsx-3756164257 navItem\"},Object(d.translate)(\"DASHBOARD\",s,o)))),C(\"li\",{className:\"jsx-3756164257\"},C(\"a\",{href:\"\",onClick:function(t){t.preventDefault(),f.a.auth().signOut().then(function(){r({type:\"SET_ITEM\",name:\"user\",payload:{}}),r({type:\"SET_ITEM\",name:\"isLoggedIn\",payload:!1}),g.a.remove(\"token2\"),e&&p.a.push(e.pathname)})},className:\"jsx-3756164257 navItem\"},Object(d.translate)(\"LOGOUT\",s,o)))):C(a.a.Fragment,null,C(\"li\",{className:\"jsx-3756164257\"},C(u.a,{href:\"/[lang]/sign-up\",as:\"/\".concat(o,\"/sign-up\")},C(\"a\",{className:\"jsx-3756164257 navItem\"},Object(d.translate)(\"SIGN-UP\",s,o)))),C(\"li\",{className:\"jsx-3756164257\"},C(\"a\",{onClick:function(t){return function(t){t.preventDefault(),r({type:\"SET_ITEM\",name:\"modalTarget\",payload:C(T,null)})}(t)},href:\"/[lang]/login\",as:\"/\".concat(o,\"/login\"),className:\"jsx-3756164257 navItem\"},\"Login\"))))),C(i.a,{id:\"875371457\"},[\".navItem{color:#067df7;-webkit-text-decoration:none;text-decoration:none;font-size:13px;}\"]),C(i.a,{id:\"2968377513\"},[\"body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Avenir Next,Avenir, Helvetica,sans-serif;}\",\"ul.jsx-3756164257{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}\",\".user-nav.jsx-3756164257{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;}\",\"li.jsx-3756164257{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}\",'li.jsx-3756164257:after{content:\" | \";padding:0 5px;}','li.jsx-3756164257:last-of-type.jsx-3756164257:after{content:\"\";}',\"nav.jsx-3756164257{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\"]))}),I=a.a.createElement,D=function(){return I(\"div\",null,I(\"div\",{className:\"container\"},I(k,null)))},x=[{lang:\"ar\",name:\"\\u0639\\u0631\\u0628\\u0649\"},{lang:\"es\",name:\"Espa\\xf1ol\"},{lang:\"da\",name:\"Dansk\"},{lang:\"de\",name:\"Deutsche\"},{lang:\"en\",name:\"English\"},{lang:\"fr\",name:\"Fran\\xe7ais\"},{lang:\"it\",name:\"Italiano\"},{lang:\"jp\",name:\"\\u65e5\\u672c\\u8a9e\"},{lang:\"ko\",name:\"\\ud55c\\uad6d\\uc5b4\"},{lang:\"pt\",name:\"Portugu\\xeas\"},{lang:\"ru\",name:\"P\\u0443\\u0441\\u0441\\u043a\\u0438\\u0439\"}],A=(n(\"LvDl\"),n(\"ln6h\")),O=n.n(A),N=n(\"O40h\"),M=n(\"KYPV\"),R=n(\"vDqi\"),L=n.n(R),P=a.a.createElement,F=Object(c.b)(function(t){return t})(function(t){var e=t.user,n=t.lang,r=t.strings,o=e.email||\"\";return P(M.b,{initialValues:{email:o},validate:function(t){var e={};return t.email||(e.email=\"Required\"),e},onSubmit:function(){var t=Object(N.a)(O.a.mark(function t(n,r){var i;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.setSubmitting,i={email:n.email},e.uid&&(i.uid=e.uid),t.next=5,L.a.post(\"/api/addEmailToNewsLetter\",i);case 5:case\"end\":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},function(t){var e=t.errors,o=t.touched,a=t.handleSubmit,s=t.isSubmitting;return P(\"form\",{onSubmit:a,className:\"jsx-1547168735\"},P(\"div\",{className:\"jsx-1547168735\"},Object(d.translate)(\"SIGN-UP-FOR-OUR-NEWSLETTER\",r,n)),P(\"div\",{className:\"jsx-1547168735 newsLetter-inputs\"},P(\"label\",{className:\"jsx-1547168735\"},P(M.a,{name:\"email\",className:\"form-input\",placeholder:Object(d.translate)(\"EMAIL\",r,n)}),e.email&&o.email&&e.email),P(\"button\",{type:\"submit\",disabled:s,className:\"jsx-1547168735\"},Object(d.translate)(\"SUBMIT\",r,n))),P(i.a,{id:\"1547168735\"},[\"form.jsx-1547168735{text-align:left;}\",\".newsLetter-inputs.jsx-1547168735{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"]))})}),B=a.a.createElement,j=Object(c.b)(function(t){return t})(function(t){var e=t.children;return t.user.isSubscribedToNewsletter?e:B(F,null)}),q=a.a.createElement,K=Object(c.b)(function(t){return t})(function(t){var e=t.dispatch,n=t.lang,r=t.user,o=t.strings,s=Object(h.useRouter)(),c=function(t){return s.push(p.a.pathname,p.a.asPath.split(\"/\".concat(n,\"/\")).join(\"/\".concat(t.target.value,\"/\")),{shallow:!0}),e({type:\"SET_ITEM\",name:\"lang\",payload:t.target.value})};return q(a.a.Fragment,null,q(\"footer\",{className:\"jsx-1902517548\"},q(\"div\",{className:\"jsx-1902517548 container footer\"},q(\"div\",{className:\"jsx-1902517548 footer-item\"},q(function(){return q(\"div\",null,q(\"label\",{htmlFor:\"languageSelect\"},q(\"div\",null,Object(d.translate)(\"LANGUAGE\",o,n),\":\"),q(\"select\",{value:n,onChange:c,id:\"languageSelect\"},x.map(function(t,e){return function(t,e){return q(\"option\",{key:e,value:t.lang},t.name)}(t,e)}))))},{className:\"jsx-1902517548\"})),q(\"div\",{className:\"jsx-1902517548 footer-item\"},q(j,null,\"You are already subbscribed to our newsletter!\")),q(\"div\",{className:\"jsx-1902517548 footer-item\"},\"item 1\"),q(\"div\",{className:\"jsx-1902517548 footer-item\"},q(\"ul\",{className:\"jsx-1902517548\"},q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]\",as:\"/\".concat(n)},q(\"a\",{className:\"jsx-1902517548\"},Object(d.translate)(\"HOME\",o,n)))),q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/about\",as:\"/\".concat(n,\"/about\")},q(\"a\",{className:\"jsx-1902517548\"},Object(d.translate)(\"ABOUT-US\",o,n)))),q(\"li\",{className:\"jsx-1902517548\"},q(\"a\",{href:\"https://github.com/BlakeGeist/next-firebase-boiler\",target:\"_blank\",className:\"jsx-1902517548\"},\"GitHub\")),r&&r.uid?q(a.a.Fragment,null,q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/dashboard\",as:\"/\".concat(n,\"/dashboard\")},q(\"a\",{className:\"jsx-1902517548 navItem\"},Object(d.translate)(\"DASHBOARD\",o,n)))),q(\"li\",{className:\"jsx-1902517548\"},q(\"a\",{href:\"\",onClick:function(t){t.preventDefault(),f.a.auth().signOut().then(function(){e({type:\"SET_ITEM\",name:\"user\",payload:{}}),p.a.push(\"/login\")})},className:\"jsx-1902517548 navItem\"},Object(d.translate)(\"LOGOUT\",o,n)))):q(a.a.Fragment,null,q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/sign-up\",as:\"/\".concat(n,\"/sign-up\")},q(\"a\",{className:\"jsx-1902517548 navItem\"},Object(d.translate)(\"SIGN-UP\",o,n)))),q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/login\",as:\"/\".concat(n,\"/login\")},q(\"a\",{className:\"jsx-1902517548 navItem\"},Object(d.translate)(\"LOGIN\",o,n)))))))),q(\"div\",{className:\"jsx-1902517548 container\"},q(\"nav\",{className:\"jsx-1902517548\"},q(\"ul\",{className:\"jsx-1902517548 terms\"},q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/terms\",as:\"/\".concat(n,\"/terms\")},q(\"a\",{className:\"jsx-1902517548\"},Object(d.translate)(\"TERMS\",o,n)))),q(\"li\",{className:\"jsx-1902517548\"},q(u.a,{href:\"/[lang]/privacy\",as:\"/\".concat(n,\"/privacy\")},q(\"a\",{className:\"jsx-1902517548\"},Object(d.translate)(\"PRIVACY\",o,n)))))))),q(i.a,{id:\"1902517548\"},[\".footer{-webkit-column-count:4;column-count:4;background-color:#fff;border-top:3px solid #ccc;}\",\"footer{text-align:center;}\",\"footer a{color:#067df7;-webkit-text-decoration:none;-webkit-text-decoration:none;text-decoration:none;font-size:13px;}\",\"ul.terms{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\"ul.terms li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}\",'ul.terms li:after{content:\" | \";padding:0 5px;}','ul.terms li:last-of-type:after{content:\"\";}',\"nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\",\".footer-item{min-height:150px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\".footer-item label{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\",\".footer-item label select{margin:0 5px;}\"]))}),U=n(\"D9KS\"),V=n(\"3FTO\"),z=a.a.createElement;e.a=Object(c.b)(function(t){return t})(function(t){var e=t.children,n=t.pageMod,r=n?\"container \"+n+\"-page\":\"container\";return z(a.a.Fragment,null,z(D,null),z(\"main\",{className:\"jsx-3474998234 body\"},z(\"div\",{className:\"jsx-3474998234 \"+(r||\"\")},z(\"div\",{className:\"jsx-3474998234\"},e))),z(K,null),z(U.a,null),z(V.a,null),z(i.a,{id:\"3474998234\"},[\"html,body,#__next{height:100%;}\",\"#__next{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\",\"body{background-color:#f1f1f1;}\",\"main{-webkit-flex:1 1 100%;-ms-flex:1 1 100%;flex:1 1 100%;}\",\"main .container{height:100%;background-color:#fff;min-height:500px;}\",\".container{max-width:1150px;margin:0 auto;}\",\".container .container{padding:0 24px;}\",\"h1{margin:0;padding:2rem 0 1rem;}\"]))})},K4CH:function(t,e,n){var r;!function(i,o){\"use strict\";var a=\"model\",s=\"name\",u=\"type\",c=\"vendor\",l=\"version\",f=\"mobile\",h=\"tablet\",p=\"smarttv\",d={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2===0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return\"string\"===typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return\"string\"===typeof t?t.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:void 0},trim:function(t){return t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}},y={rgx:function(t,e){for(var n,r,i,o,a,s,u=0;u<e.length&&!a;){var c=e[u],l=e[u+1];for(n=r=0;n<c.length&&!a;)if(a=c[n++].exec(t))for(i=0;i<l.length;i++)s=a[++r],\"object\"===typeof(o=l[i])&&o.length>0?2==o.length?\"function\"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?\"function\"!==typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;u+=2}},str:function(t,e){for(var n in e)if(\"object\"===typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(d.has(e[n][r],t))return\"?\"===n?void 0:n}else if(d.has(e[n],t))return\"?\"===n?void 0:n;return t}},g={browser:{oldsafari:{version:{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}}},device:{amazon:{model:{\"Fire Phone\":[\"SD\",\"KF\"]}},sprint:{model:{\"Evo Shift 4G\":\"7373KT\"},vendor:{HTC:\"APA\",Sprint:\"Sprint\"}}},os:{windows:{version:{ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2000:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"}}}},m={browser:[[/(opera\\smini)\\/([\\w\\.-]+)/i,/(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,/(opera).+version\\/([\\w\\.]+)/i,/(opera)[\\/\\s]+([\\w\\.]+)/i],[s,l],[/(opios)[\\/\\s]+([\\w\\.]+)/i],[[s,\"Opera Mini\"],l],[/\\s(opr)\\/([\\w\\.]+)/i],[[s,\"Opera\"],l],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,/(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,/(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i,/(?:ms|\\()(ie)\\s([\\w\\.]+)/i,/(rekonq)\\/([\\w\\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i],[s,l],[/(konqueror)\\/([\\w\\.]+)/i],[[s,\"Konqueror\"],l],[/(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i],[[s,\"IE\"],l],[/(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i],[[s,\"Edge\"],l],[/(yabrowser)\\/([\\w\\.]+)/i],[[s,\"Yandex\"],l],[/(Avast)\\/([\\w\\.]+)/i],[[s,\"Avast Secure Browser\"],l],[/(AVG)\\/([\\w\\.]+)/i],[[s,\"AVG Secure Browser\"],l],[/(puffin)\\/([\\w\\.]+)/i],[[s,\"Puffin\"],l],[/(focus)\\/([\\w\\.]+)/i],[[s,\"Firefox Focus\"],l],[/(opt)\\/([\\w\\.]+)/i],[[s,\"Opera Touch\"],l],[/((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i],[[s,\"UCBrowser\"],l],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[s,/_/g,\" \"],l],[/(windowswechat qbcore)\\/([\\w\\.]+)/i],[[s,\"WeChat(Win) Desktop\"],l],[/(micromessenger)\\/([\\w\\.]+)/i],[[s,\"WeChat\"],l],[/(brave)\\/([\\w\\.]+)/i],[[s,\"Brave\"],l],[/(qqbrowserlite)\\/([\\w\\.]+)/i],[s,l],[/(QQ)\\/([\\d\\.]+)/i],[s,l],[/m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i],[s,l],[/(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i],[s,l],[/(2345Explorer)[\\/\\s]?([\\w\\.]+)/i],[s,l],[/(MetaSr)[\\/\\s]?([\\w\\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i],[l,[s,\"MIUI Browser\"]],[/;fbav\\/([\\w\\.]+);/i],[l,[s,\"Facebook\"]],[/safari\\s(line)\\/([\\w\\.]+)/i,/android.+(line)\\/([\\w\\.]+)\\/iab/i],[s,l],[/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i],[l,[s,\"Chrome Headless\"]],[/\\swv\\).+(chrome)\\/([\\w\\.]+)/i],[[s,/(.+)/,\"$1 WebView\"],l],[/((?:oculus|samsung)browser)\\/([\\w\\.]+)/i],[[s,/(.+(?:g|us))(.+)/,\"$1 $2\"],l],[/android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i],[l,[s,\"Android Browser\"]],[/(sailfishbrowser)\\/([\\w\\.]+)/i],[[s,\"Sailfish Browser\"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i],[s,l],[/(dolfin)\\/([\\w\\.]+)/i],[[s,\"Dolphin\"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,\"360 Browser\"]],[/((?:android.+)crmo|crios)\\/([\\w\\.]+)/i],[[s,\"Chrome\"],l],[/(coast)\\/([\\w\\.]+)/i],[[s,\"Opera Coast\"],l],[/fxios\\/([\\w\\.-]+)/i],[l,[s,\"Firefox\"]],[/version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i],[l,[s,\"Mobile Safari\"]],[/version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i],[[s,\"GSA\"],l],[/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i],[s,[l,y.str,g.browser.oldsafari.version]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[s,l],[/(navigator|netscape)\\/([\\w\\.-]+)/i],[[s,\"Netscape\"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,/(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,/(links)\\s\\(([\\w\\.]+)/i,/(gobrowser)\\/?([\\w\\.]*)/i,/(ice\\s?browser)\\/v?([\\w\\._]+)/i,/(mosaic)[\\/\\s]([\\w\\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i],[[\"architecture\",\"amd64\"]],[/(ia32(?=;))/i],[[\"architecture\",d.lowerize]],[/((?:i[346]|x)86)[;\\)]/i],[[\"architecture\",\"ia32\"]],[/windows\\s(ce|mobile);\\sppc;/i],[[\"architecture\",\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i],[[\"architecture\",/ower/,\"\",d.lowerize]],[/(sun4\\w)[;\\)]/i],[[\"architecture\",\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[\"architecture\",d.lowerize]]],device:[[/\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i],[a,c,[u,h]],[/applecoremedia\\/[\\w\\.]+ \\((ipad)/],[a,[c,\"Apple\"],[u,h]],[/(apple\\s{0,1}tv)/i],[[a,\"Apple TV\"],[c,\"Apple\"],[u,p]],[/(archos)\\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/\\s(nook)[\\w\\s]+build\\/(\\w+)/i,/(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i],[c,a,[u,h]],[/(kf[A-z]+)\\sbuild\\/.+silk\\//i],[a,[c,\"Amazon\"],[u,h]],[/(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i],[[a,y.str,g.device.amazon.model],[c,\"Amazon\"],[u,f]],[/android.+aft([bms])\\sbuild/i],[a,[c,\"Amazon\"],[u,p]],[/\\((ip[honed|\\s\\w*]+);.+(apple)/i],[a,c,[u,f]],[/\\((ip[honed|\\s\\w*]+);/i],[a,[c,\"Apple\"],[u,f]],[/(blackberry)[\\s-]?(\\w+)/i,/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,/(hp)\\s([\\w\\s]+\\w)/i,/(asus)-?(\\w+)/i],[c,a,[u,f]],[/\\(bb10;\\s(\\w+)/i],[a,[c,\"BlackBerry\"],[u,f]],[/android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i],[a,[c,\"Asus\"],[u,h]],[/(sony)\\s(tablet\\s[ps])\\sbuild\\//i,/(sony)?(?:sgp.+)\\sbuild\\//i],[[c,\"Sony\"],[a,\"Xperia Tablet\"],[u,h]],[/android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[c,\"Sony\"],[u,f]],[/\\s(ouya)\\s/i,/(nintendo)\\s([wids3u]+)/i],[c,a,[u,\"console\"]],[/android.+;\\s(shield)\\sbuild/i],[a,[c,\"Nvidia\"],[u,\"console\"]],[/(playstation\\s[34portablevi]+)/i],[a,[c,\"Sony\"],[u,\"console\"]],[/(sprint\\s(\\w+))/i],[[c,y.str,g.device.sprint.vendor],[a,y.str,g.device.sprint.model],[u,f]],[/(htc)[;_\\s-]+([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i,/(zte)-(\\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i],[c,[a,/_/g,\" \"],[u,f]],[/(nexus\\s9)/i],[a,[c,\"HTC\"],[u,h]],[/d\\/huawei([\\w\\s-]+)[;\\)]/i,/(nexus\\s6p|vog-l29|ane-lx1|eml-l29)/i],[a,[c,\"Huawei\"],[u,f]],[/android.+(bah2?-a?[lw]\\d{2})/i],[a,[c,\"Huawei\"],[u,h]],[/(microsoft);\\s(lumia[\\s\\w]+)/i],[c,a,[u,f]],[/[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i],[a,[c,\"Microsoft\"],[u,\"console\"]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g,\" \"],[c,\"Microsoft\"],[u,f]],[/\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,/mot[\\s-]?(\\w*)/i,/(XT\\d{3,4}) build\\//i,/(nexus\\s6)/i],[a,[c,\"Motorola\"],[u,f]],[/android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i],[a,[c,\"Motorola\"],[u,h]],[/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i],[[c,d.trim],[a,d.trim],[u,p]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,\"SmartTV\"],[c,\"Samsung\"],[u,p]],[/\\(dtv[\\);].+(aquos)/i],[a,[c,\"Sharp\"],[u,p]],[/android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\\w+))/i],[[c,\"Samsung\"],a,[u,h]],[/smart-tv.+(samsung)/i],[c,[u,p],a],[/((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,/(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,/sec-((sgh\\w+))/i],[[c,\"Samsung\"],a,[u,f]],[/sie-(\\w*)/i],[a,[c,\"Siemens\"],[u,f]],[/(maemo|nokia).*(n900|lumia\\s\\d+)/i,/(nokia)[\\s_-]?([\\w-]*)/i],[[c,\"Nokia\"],a,[u,f]],[/android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i],[a,[c,\"Acer\"],[u,h]],[/android.+([vl]k\\-?\\d{3})\\s+build/i],[a,[c,\"LG\"],[u,h]],[/android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,\"LG\"],a,[u,h]],[/(lg) netcast\\.tv/i],[c,a,[u,p]],[/(nexus\\s[45])/i,/lg[e;\\s\\/-]+(\\w*)/i,/android.+lg(\\-?[\\d\\w]+)\\s+build/i],[a,[c,\"LG\"],[u,f]],[/(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i],[c,a,[u,h]],[/android.+(ideatab[a-z0-9\\-\\s]+)/i],[a,[c,\"Lenovo\"],[u,h]],[/(lenovo)[_\\s-]?([\\w-]+)/i],[c,a,[u,f]],[/linux;.+((jolla));/i],[c,a,[u,f]],[/((pebble))app\\/[\\d\\.]+\\s/i],[c,a,[u,\"wearable\"]],[/android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i],[c,a,[u,f]],[/crkey/i],[[a,\"Chromecast\"],[c,\"Google\"],[u,p]],[/android.+;\\s(glass)\\s\\d/i],[a,[c,\"Google\"],[u,\"wearable\"]],[/android.+;\\s(pixel c)[\\s)]/i],[a,[c,\"Google\"],[u,h]],[/android.+;\\s(pixel( [23])?( xl)?)[\\s)]/i],[a,[c,\"Google\"],[u,f]],[/android.+;\\s(\\w+)\\s+build\\/hm\\1/i,/android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,/android.+(mi[\\s\\-_]*(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,/android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i],[[a,/_/g,\" \"],[c,\"Xiaomi\"],[u,f]],[/android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i],[[a,/_/g,\" \"],[c,\"Xiaomi\"],[u,h]],[/android.+;\\s(m[1-5]\\snote)\\sbuild/i],[a,[c,\"Meizu\"],[u,f]],[/(mz)-([\\w-]{2,})/i],[[c,\"Meizu\"],a,[u,f]],[/android.+a000(1)\\s+build/i,/android.+oneplus\\s(a\\d{4})[\\s)]/i],[a,[c,\"OnePlus\"],[u,f]],[/android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i],[a,[c,\"RCA\"],[u,h]],[/android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i],[a,[c,\"Dell\"],[u,h]],[/android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i],[a,[c,\"Verizon\"],[u,h]],[/android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i],[[c,\"Barnes & Noble\"],a,[u,h]],[/android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i],[a,[c,\"NuVision\"],[u,h]],[/android.+;\\s(k88)\\sbuild/i],[a,[c,\"ZTE\"],[u,h]],[/android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i],[a,[c,\"Swiss\"],[u,f]],[/android.+[;\\/]\\s*(zur\\d{3})\\s+build/i],[a,[c,\"Swiss\"],[u,h]],[/android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i],[a,[c,\"Zeki\"],[u,h]],[/(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,/android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i],[[c,\"Dragon Touch\"],a,[u,h]],[/android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i],[a,[c,\"Insignia\"],[u,h]],[/android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i],[a,[c,\"NextBook\"],[u,h]],[/android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i],[[c,\"Voice\"],a,[u,f]],[/android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i],[[c,\"LvTel\"],a,[u,f]],[/android.+;\\s(PH-1)\\s/i],[a,[c,\"Essential\"],[u,f]],[/android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i],[a,[c,\"Envizen\"],[u,h]],[/android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i],[c,a,[u,h]],[/android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i],[a,[c,\"MachSpeed\"],[u,h]],[/android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i],[c,a,[u,h]],[/android.+[;\\/]\\s*TU_(1491)\\s+build/i],[a,[c,\"Rotor\"],[u,h]],[/android.+(KS(.+))\\s+build/i],[a,[c,\"Amazon\"],[u,h]],[/android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i],[c,a,[u,h]],[/\\s(tablet|tab)[;\\/]/i,/\\s(mobile)(?:[;\\/]|\\ssafari)/i],[[u,d.lowerize],c,a],[/[\\s\\/\\(](smart-?tv)[;\\)]/i],[[u,p]],[/(android[\\w\\.\\s\\-]{0,9});.+build/i],[a,[c,\"Generic\"]]],engine:[[/windows.+\\sedge\\/([\\w\\.]+)/i],[l,[s,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[l,[s,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,/(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i],[s,l],[/rv\\:([\\w\\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\\s(windows)\\s(vista|xp)/i],[s,l],[/(windows)\\snt\\s6\\.2;\\s(arm)/i,/(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,/(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i],[s,[l,y.str,g.os.windows.version]],[/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i],[[s,\"Windows\"],[l,y.str,g.os.windows.version]],[/\\((bb)(10);/i],[[s,\"BlackBerry\"],l],[/(blackberry)\\w*\\/?([\\w\\.]*)/i,/(tizen|kaios)[\\/\\s]([\\w\\.]+)/i,/(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i],[s,l],[/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i],[[s,\"Symbian\"],l],[/\\((series40);/i],[s],[/mozilla.+\\(mobile;.+gecko.+firefox/i],[[s,\"Firefox OS\"],l],[/(nintendo|playstation)\\s([wids34portablevu]+)/i,/(mint)[\\/\\s\\(]?(\\w*)/i,/(mageia|vectorlinux)[;\\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,/(hurd|linux)\\s?([\\w\\.]*)/i,/(gnu)\\s?([\\w\\.]*)/i],[s,l],[/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i],[[s,\"Chromium OS\"],l],[/(sunos)\\s?([\\w\\.\\d]*)/i],[[s,\"Solaris\"],l],[/\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i],[s,l],[/(haiku)\\s(\\w+)/i],[s,l],[/cfnetwork\\/.+darwin/i,/ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i],[[l,/_/g,\".\"],[s,\"iOS\"]],[/(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,/(macintosh|mac(?=_powerpc)\\s)/i],[[s,\"Mac OS\"],[l,/_/g,\".\"]],[/((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,/(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,/(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i,/(unix)\\s?([\\w\\.]*)/i],[s,l]]},v=function(t,e){if(\"object\"===typeof t&&(e=t,t=void 0),!(this instanceof v))return new v(t,e).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:\"\"),r=e?d.extend(m,e):m;return this.getBrowser=function(){var t={name:void 0,version:void 0};return y.rgx.call(t,n,r.browser),t.major=d.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return y.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return y.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return y.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return y.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};v.VERSION=\"0.7.21\",v.BROWSER={NAME:s,MAJOR:\"major\",VERSION:l},v.CPU={ARCHITECTURE:\"architecture\"},v.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:\"console\",MOBILE:f,SMARTTV:p,TABLET:h,WEARABLE:\"wearable\",EMBEDDED:\"embedded\"},v.ENGINE={NAME:s,VERSION:l},v.OS={NAME:s,VERSION:l},\"undefined\"!==typeof e?(\"undefined\"!==typeof t&&t.exports&&(e=t.exports=v),e.UAParser=v):void 0===(r=function(){return v}.call(e,n,e,t))||(t.exports=r);var b=i&&(i.jQuery||i.Zepto);if(b&&!b.ua){var _=new v;b.ua=_.getResult(),b.ua.get=function(){return _.getUA()},b.ua.set=function(t){_.setUA(t);var e=_.getResult();for(var n in e)b.ua[n]=e[n]}}}(\"object\"===typeof window?window:this)},KAwu:function(t,e,n){\"use strict\";n.r(e);var r=n(\"ln6h\"),i=n.n(r),o=n(\"vYYK\"),a=n(\"O40h\"),s=n(\"pLtp\"),u=n.n(s),c=n(\"MX0m\"),l=n.n(c),f=n(\"q1tI\"),h=n.n(f),p=n(\"JwBy\"),d=n(\"9eqF\"),y=n(\"Wcq6\"),g=n.n(y),m=(n(\"6nsN\"),n(\"5x/H\"),n(\"hmoh\")),v=n.n(m),b=n(\"YFqc\"),_=n.n(b),w=n(\"/MKj\"),S=h.a.createElement,E=function(t){var e=t.lang,n=t.products;return S(p.a,null,S(\"div\",{className:\"jsx-2124841316 container\"},S(\"h1\",{className:\"jsx-2124841316\"},\"Products\"),S(d.default,null),S(\"div\",{className:\"jsx-2124841316 products\"},n.map(function(t,n){return t=t[u()(t)[0]],S(\"div\",{key:n,className:\"jsx-2124841316 products-product\"},S(\"div\",{className:\"jsx-2124841316 products-product-name\"},\"Name: \",S(_.a,{href:\"/[lang]/p/\".concat(t.name),as:\"/\".concat(e,\"/p/\").concat(t.name)},t.name)),S(\"div\",{dangerouslySetInnerHTML:{__html:t.description},className:\"jsx-2124841316 products-product-description\"}))}))),S(l.a,{id:\"2124841316\"},[\".products.jsx-2124841316{margin-top:35px;}\",\".products-product.jsx-2124841316{border-bottom:2px solid #ccc;margin-top:35px;}\",\".products-product.jsx-2124841316:first-of-type{margin:0;}\",\".products-product.jsx-2124841316:last-of-type{border-bottom:none;}\"]))};E.getInitialProps=function(){var t=Object(a.a)(i.a.mark(function t(e){var n,r,a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.reduxStore,e.res,g.a.apps.length||g.a.initializeApp(v.a),n=g.a.app().firestore(),r=n.collection(\"products\"),t.next=7,r.get();case 7:return a=t.sent,s=a.docs.map(function(t){return Object(o.a)({},t.id,t.data())}),t.abrupt(\"return\",{products:s});case 10:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.default=Object(w.b)(function(t){return t})(E)},KHHe:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(\"q1tI\")),o=s(n(\"akfH\")),a=s(n(\"EcUm\"));function s(t){return t&&t.__esModule?t:{default:t}}var u={link:s({link:\"draftJsLinkifyPlugin__link__2ittM\"}).default.link};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.component,n=t.theme,s=void 0===n?u:n,c=t.target,l=void 0===c?\"_self\":c,f=t.rel,h=void 0===f?\"noreferrer noopener\":f;return{decorators:[{strategy:a.default,component:function(t){return i.createElement(o.default,r({},t,{theme:s,target:l,rel:h,component:e}))}}]}}},KL9H:function(t,e,n){\"use strict\";var r=n(\"K4CH\"),i=\"Unknown\",o={\"Mac OS\":\"Mac OS X\"};var a,s=(new r).getResult(),u=function(t){if(!t)return{major:\"\",minor:\"\"};var e=t.split(\".\");return{major:e[0],minor:e[1]}}(s.browser.version),c={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:u.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};t.exports=c},L0q3:function(t,e,n){\"use strict\";var r=n(\"Taje\"),i=n(\"JPcv\"),o=i.List,a=i.Repeat,s=i.Record,u=function(){return!0},c=s({start:null,end:null}),l=s({start:null,end:null,decoratorKey:null,leaves:null}),f={generate:function(t,e,n){var i=e.getLength();if(!i)return o.of(new l({start:0,end:0,decoratorKey:null,leaves:o.of(new c({start:0,end:0}))}));var s=[],f=n?n.getDecorations(e,t):o(a(null,i)),d=e.getCharacterList();return r(f,p,u,function(t,e){s.push(new l({start:t,end:e,decoratorKey:f.get(t),leaves:h(d.slice(t,e).toList(),t)}))}),o(s)}};function h(t,e){var n=[],i=t.map(function(t){return t.getStyle()}).toList();return r(i,p,u,function(t,r){n.push(new c({start:t+e,end:r+e}))}),o(n)}function p(t,e){return t===e}t.exports=f},L2EA:function(t,e,n){\"use strict\";var r=n(\"YeVe\"),i=n(\"JL7T\"),o=n(\"JPcv\"),a=n(\"Zf/v\"),s=n(\"2NuI\"),u=n(\"V8dp\"),c=o.List,l=function(t,e,n,o,a,s){var u=n.first()instanceof i,l=[],f=o.size,h=n.get(a),p=o.first(),d=o.last(),y=d.getLength(),g=d.getKey(),m=u&&(!h.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach(function(t,e){e===a?(m?l.push(t):l.push(function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.slice(0,e),a=i.slice(0,e),s=n.first();return t.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?t.getType():s.getType(),data:s.getData()})}(t,s,o)),o.slice(m?0:1,f-1).forEach(function(t){return l.push(t)}),l.push(function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.length,a=r.slice(e,o),s=i.slice(e,o),u=n.last();return u.merge({text:u.getText()+a,characterList:u.getCharacterList().concat(s),data:u.getData()})}(t,s,o))):l.push(t)});var v=r.createFromArray(l);return u&&(v=function(t,e,n,r){return t.withMutations(function(e){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),u=function(t,e){var n=t.getKey(),r=t,i=[];for(e.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=e.get(o)}return i}(r,t),l=u[u.length-1];if(e.get(o)?(e.setIn([i,\"nextSibling\"],o),e.setIn([o,\"prevSibling\"],i)):(e.setIn([i,\"nextSibling\"],r.getNextSiblingKey()),e.setIn([r.getNextSiblingKey(),\"prevSibling\"],i)),e.setIn([l,\"nextSibling\"],a),a&&e.setIn([a,\"prevSibling\"],l),u.forEach(function(t){return e.setIn([t,\"parent\"],s)}),s){var f=t.get(s).getChildKeys(),h=f.indexOf(i)+1,p=f.toArray();p.splice.apply(p,[h,0].concat(u)),e.setIn([s,\"children\"],c(p))}})}(v,0,h,p)),t.merge({blockMap:v,selectionBefore:e,selectionAfter:e.merge({anchorKey:g,anchorOffset:y,focusKey:g,focusOffset:y,isBackward:!1})})};t.exports=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"REPLACE_WITH_NEW_DATA\";e.isCollapsed()||s(!1);var o=t.getBlockMap(),c=u(n),f=e.getStartKey(),h=e.getStartOffset(),p=o.get(f);return p instanceof i&&(p.getChildKeys().isEmpty()||s(!1)),1===c.size?function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:\"REPLACE_WITH_NEW_DATA\",u=n.get(i),c=u.getText(),l=u.getCharacterList(),f=i,h=o+r.getText().length,p=null;switch(s){case\"MERGE_OLD_DATA_TO_NEW_DATA\":p=r.getData().merge(u.getData());break;case\"REPLACE_WITH_NEW_DATA\":p=r.getData()}var d=u.merge({text:c.slice(0,o)+r.getText()+c.slice(o),characterList:a(l,r.getCharacterList(),o),data:p});return t.merge({blockMap:n.set(i,d),selectionBefore:e,selectionAfter:e.merge({anchorKey:f,anchorOffset:h,focusKey:f,focusOffset:h,isBackward:!1})})}(t,e,o,c.first(),f,h,r):l(t,e,o,c,f,h)}},LpQA:function(t,e,n){\"use strict\";var r=n(\"YeVe\"),i=n(\"lFJn\"),o=n(\"8uQm\"),a=n(\"JL7T\"),s=n(\"TzU/\"),u=n(\"hMpd\"),c=n(\"rJY1\"),l=n(\"cwFY\"),f=n(\"JPcv\"),h=n(\"HriT\"),p=f.List,d=f.Record,y=f.Repeat,g=function(t){var e,n;function f(){return t.apply(this,arguments)||this}n=t,(e=f).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var d=f.prototype;return d.getEntityMap=function(){return s},d.getBlockMap=function(){return this.get(\"blockMap\")},d.getSelectionBefore=function(){return this.get(\"selectionBefore\")},d.getSelectionAfter=function(){return this.get(\"selectionAfter\")},d.getBlockForKey=function(t){return this.getBlockMap().get(t)},d.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},d.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},d.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,n){return n===t}).skip(1).first()},d.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).first()},d.getBlocksAsArray=function(){return this.getBlockMap().toArray()},d.getFirstBlock=function(){return this.getBlockMap().first()},d.getLastBlock=function(){return this.getBlockMap().last()},d.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():\"\"}).join(t||\"\\n\")},d.getLastCreatedEntityKey=function(){return s.__getLastCreatedEntityKey()},d.hasText=function(){var t=this.getBlockMap();return t.size>1||escape(t.first().getText()).replace(/%u200B/g,\"\").length>0},d.createEntity=function(t,e,n){return s.__create(t,e,n),this},d.mergeEntityData=function(t,e){return s.__mergeData(t,e),this},d.replaceEntityData=function(t,e){return s.__replaceData(t,e),this},d.addEntity=function(t){return s.__add(t),this},d.getEntity=function(t){return s.__get(t)},f.createFromBlockArray=function(t,e){var n=Array.isArray(t)?t:t.contentBlocks,i=r.createFromArray(n),o=i.isEmpty()?new u:u.createEmpty(i.first().getKey());return new f({blockMap:i,entityMap:e||s,selectionBefore:o,selectionAfter:o})},f.createFromText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\\r\\n?|\\n/g,n=t.split(e).map(function(t){return t=h(t),new(l(\"draft_tree_data_support\")?a:o)({key:c(),text:t,type:\"unstyled\",characterList:p(y(i.EMPTY,t.length))})});return f.createFromBlockArray(n)},f}(d({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));t.exports=g},LvDl:function(t,e,n){(function(t,r){var i;(function(){var o,a=200,s=\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\",u=\"Expected a function\",c=\"__lodash_hash_undefined__\",l=500,f=\"__lodash_placeholder__\",h=1,p=2,d=4,y=1,g=2,m=1,v=2,b=4,_=8,w=16,S=32,E=64,T=128,C=256,k=512,I=30,D=\"...\",x=800,A=16,O=1,N=2,M=1/0,R=9007199254740991,L=1.7976931348623157e308,P=NaN,F=4294967295,B=F-1,j=F>>>1,q=[[\"ary\",T],[\"bind\",m],[\"bindKey\",v],[\"curry\",_],[\"curryRight\",w],[\"flip\",k],[\"partial\",S],[\"partialRight\",E],[\"rearg\",C]],K=\"[object Arguments]\",U=\"[object Array]\",V=\"[object AsyncFunction]\",z=\"[object Boolean]\",W=\"[object Date]\",Q=\"[object DOMException]\",H=\"[object Error]\",G=\"[object Function]\",Y=\"[object GeneratorFunction]\",J=\"[object Map]\",X=\"[object Number]\",Z=\"[object Null]\",$=\"[object Object]\",tt=\"[object Proxy]\",et=\"[object RegExp]\",nt=\"[object Set]\",rt=\"[object String]\",it=\"[object Symbol]\",ot=\"[object Undefined]\",at=\"[object WeakMap]\",st=\"[object WeakSet]\",ut=\"[object ArrayBuffer]\",ct=\"[object DataView]\",lt=\"[object Float32Array]\",ft=\"[object Float64Array]\",ht=\"[object Int8Array]\",pt=\"[object Int16Array]\",dt=\"[object Int32Array]\",yt=\"[object Uint8Array]\",gt=\"[object Uint8ClampedArray]\",mt=\"[object Uint16Array]\",vt=\"[object Uint32Array]\",bt=/\\b__p \\+= '';/g,_t=/\\b(__p \\+=) '' \\+/g,wt=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>\"']/g,Tt=RegExp(St.source),Ct=RegExp(Et.source),kt=/<%-([\\s\\S]+?)%>/g,It=/<%([\\s\\S]+?)%>/g,Dt=/<%=([\\s\\S]+?)%>/g,xt=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,At=/^\\w*$/,Ot=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Nt=/[\\\\^$.*+?()[\\]{}|]/g,Mt=RegExp(Nt.source),Rt=/^\\s+|\\s+$/g,Lt=/^\\s+/,Pt=/\\s+$/,Ft=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Bt=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,jt=/,? & /,qt=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,Kt=/\\\\(\\\\)?/g,Ut=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Vt=/\\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Qt=/^\\[object .+?Constructor\\]$/,Ht=/^0o[0-7]+$/i,Gt=/^(?:0|[1-9]\\d*)$/,Yt=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Jt=/($^)/,Xt=/['\\n\\r\\u2028\\u2029\\\\]/g,Zt=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",$t=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",te=\"[\\\\ud800-\\\\udfff]\",ee=\"[\"+$t+\"]\",ne=\"[\"+Zt+\"]\",re=\"\\\\d+\",ie=\"[\\\\u2700-\\\\u27bf]\",oe=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",ae=\"[^\\\\ud800-\\\\udfff\"+$t+re+\"\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",se=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",ue=\"[^\\\\ud800-\\\\udfff]\",ce=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",le=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",fe=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",he=\"(?:\"+oe+\"|\"+ae+\")\",pe=\"(?:\"+fe+\"|\"+ae+\")\",de=\"(?:\"+ne+\"|\"+se+\")\"+\"?\",ye=\"[\\\\ufe0e\\\\ufe0f]?\"+de+(\"(?:\\\\u200d(?:\"+[ue,ce,le].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+de+\")*\"),ge=\"(?:\"+[ie,ce,le].join(\"|\")+\")\"+ye,me=\"(?:\"+[ue+ne+\"?\",ne,ce,le,te].join(\"|\")+\")\",ve=RegExp(\"['\\u2019]\",\"g\"),be=RegExp(ne,\"g\"),_e=RegExp(se+\"(?=\"+se+\")|\"+me+ye,\"g\"),we=RegExp([fe+\"?\"+oe+\"+(?:['\\u2019](?:d|ll|m|re|s|t|ve))?(?=\"+[ee,fe,\"$\"].join(\"|\")+\")\",pe+\"+(?:['\\u2019](?:D|LL|M|RE|S|T|VE))?(?=\"+[ee,fe+he,\"$\"].join(\"|\")+\")\",fe+\"?\"+he+\"+(?:['\\u2019](?:d|ll|m|re|s|t|ve))?\",fe+\"+(?:['\\u2019](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",re,ge].join(\"|\"),\"g\"),Se=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+Zt+\"\\\\ufe0e\\\\ufe0f]\"),Ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Te=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Ce=-1,ke={};ke[lt]=ke[ft]=ke[ht]=ke[pt]=ke[dt]=ke[yt]=ke[gt]=ke[mt]=ke[vt]=!0,ke[K]=ke[U]=ke[ut]=ke[z]=ke[ct]=ke[W]=ke[H]=ke[G]=ke[J]=ke[X]=ke[$]=ke[et]=ke[nt]=ke[rt]=ke[at]=!1;var Ie={};Ie[K]=Ie[U]=Ie[ut]=Ie[ct]=Ie[z]=Ie[W]=Ie[lt]=Ie[ft]=Ie[ht]=Ie[pt]=Ie[dt]=Ie[J]=Ie[X]=Ie[$]=Ie[et]=Ie[nt]=Ie[rt]=Ie[it]=Ie[yt]=Ie[gt]=Ie[mt]=Ie[vt]=!0,Ie[H]=Ie[G]=Ie[at]=!1;var De={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},xe=parseFloat,Ae=parseInt,Oe=\"object\"==typeof t&&t&&t.Object===Object&&t,Ne=\"object\"==typeof self&&self&&self.Object===Object&&self,Me=Oe||Ne||Function(\"return this\")(),Re=e&&!e.nodeType&&e,Le=Re&&\"object\"==typeof r&&r&&!r.nodeType&&r,Pe=Le&&Le.exports===Re,Fe=Pe&&Oe.process,Be=function(){try{var t=Le&&Le.require&&Le.require(\"util\").types;return t||Fe&&Fe.binding&&Fe.binding(\"util\")}catch(e){}}(),je=Be&&Be.isArrayBuffer,qe=Be&&Be.isDate,Ke=Be&&Be.isMap,Ue=Be&&Be.isRegExp,Ve=Be&&Be.isSet,ze=Be&&Be.isTypedArray;function We(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Qe(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ge(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Je(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Xe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Ze(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=hn(\"length\");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,ln,n)}function cn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ln(t){return t!==t}function fn(t,e){var n=null==t?0:t.length;return n?yn(t,e)/n:P}function hn(t){return function(e){return null==e?o:e[t]}}function pn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function yn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function vn(t,e){return $e(e,function(e){return t[e]})}function bn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var Sn=pn({\"\\xc0\":\"A\",\"\\xc1\":\"A\",\"\\xc2\":\"A\",\"\\xc3\":\"A\",\"\\xc4\":\"A\",\"\\xc5\":\"A\",\"\\xe0\":\"a\",\"\\xe1\":\"a\",\"\\xe2\":\"a\",\"\\xe3\":\"a\",\"\\xe4\":\"a\",\"\\xe5\":\"a\",\"\\xc7\":\"C\",\"\\xe7\":\"c\",\"\\xd0\":\"D\",\"\\xf0\":\"d\",\"\\xc8\":\"E\",\"\\xc9\":\"E\",\"\\xca\":\"E\",\"\\xcb\":\"E\",\"\\xe8\":\"e\",\"\\xe9\":\"e\",\"\\xea\":\"e\",\"\\xeb\":\"e\",\"\\xcc\":\"I\",\"\\xcd\":\"I\",\"\\xce\":\"I\",\"\\xcf\":\"I\",\"\\xec\":\"i\",\"\\xed\":\"i\",\"\\xee\":\"i\",\"\\xef\":\"i\",\"\\xd1\":\"N\",\"\\xf1\":\"n\",\"\\xd2\":\"O\",\"\\xd3\":\"O\",\"\\xd4\":\"O\",\"\\xd5\":\"O\",\"\\xd6\":\"O\",\"\\xd8\":\"O\",\"\\xf2\":\"o\",\"\\xf3\":\"o\",\"\\xf4\":\"o\",\"\\xf5\":\"o\",\"\\xf6\":\"o\",\"\\xf8\":\"o\",\"\\xd9\":\"U\",\"\\xda\":\"U\",\"\\xdb\":\"U\",\"\\xdc\":\"U\",\"\\xf9\":\"u\",\"\\xfa\":\"u\",\"\\xfb\":\"u\",\"\\xfc\":\"u\",\"\\xdd\":\"Y\",\"\\xfd\":\"y\",\"\\xff\":\"y\",\"\\xc6\":\"Ae\",\"\\xe6\":\"ae\",\"\\xde\":\"Th\",\"\\xfe\":\"th\",\"\\xdf\":\"ss\",\"\\u0100\":\"A\",\"\\u0102\":\"A\",\"\\u0104\":\"A\",\"\\u0101\":\"a\",\"\\u0103\":\"a\",\"\\u0105\":\"a\",\"\\u0106\":\"C\",\"\\u0108\":\"C\",\"\\u010a\":\"C\",\"\\u010c\":\"C\",\"\\u0107\":\"c\",\"\\u0109\":\"c\",\"\\u010b\":\"c\",\"\\u010d\":\"c\",\"\\u010e\":\"D\",\"\\u0110\":\"D\",\"\\u010f\":\"d\",\"\\u0111\":\"d\",\"\\u0112\":\"E\",\"\\u0114\":\"E\",\"\\u0116\":\"E\",\"\\u0118\":\"E\",\"\\u011a\":\"E\",\"\\u0113\":\"e\",\"\\u0115\":\"e\",\"\\u0117\":\"e\",\"\\u0119\":\"e\",\"\\u011b\":\"e\",\"\\u011c\":\"G\",\"\\u011e\":\"G\",\"\\u0120\":\"G\",\"\\u0122\":\"G\",\"\\u011d\":\"g\",\"\\u011f\":\"g\",\"\\u0121\":\"g\",\"\\u0123\":\"g\",\"\\u0124\":\"H\",\"\\u0126\":\"H\",\"\\u0125\":\"h\",\"\\u0127\":\"h\",\"\\u0128\":\"I\",\"\\u012a\":\"I\",\"\\u012c\":\"I\",\"\\u012e\":\"I\",\"\\u0130\":\"I\",\"\\u0129\":\"i\",\"\\u012b\":\"i\",\"\\u012d\":\"i\",\"\\u012f\":\"i\",\"\\u0131\":\"i\",\"\\u0134\":\"J\",\"\\u0135\":\"j\",\"\\u0136\":\"K\",\"\\u0137\":\"k\",\"\\u0138\":\"k\",\"\\u0139\":\"L\",\"\\u013b\":\"L\",\"\\u013d\":\"L\",\"\\u013f\":\"L\",\"\\u0141\":\"L\",\"\\u013a\":\"l\",\"\\u013c\":\"l\",\"\\u013e\":\"l\",\"\\u0140\":\"l\",\"\\u0142\":\"l\",\"\\u0143\":\"N\",\"\\u0145\":\"N\",\"\\u0147\":\"N\",\"\\u014a\":\"N\",\"\\u0144\":\"n\",\"\\u0146\":\"n\",\"\\u0148\":\"n\",\"\\u014b\":\"n\",\"\\u014c\":\"O\",\"\\u014e\":\"O\",\"\\u0150\":\"O\",\"\\u014d\":\"o\",\"\\u014f\":\"o\",\"\\u0151\":\"o\",\"\\u0154\":\"R\",\"\\u0156\":\"R\",\"\\u0158\":\"R\",\"\\u0155\":\"r\",\"\\u0157\":\"r\",\"\\u0159\":\"r\",\"\\u015a\":\"S\",\"\\u015c\":\"S\",\"\\u015e\":\"S\",\"\\u0160\":\"S\",\"\\u015b\":\"s\",\"\\u015d\":\"s\",\"\\u015f\":\"s\",\"\\u0161\":\"s\",\"\\u0162\":\"T\",\"\\u0164\":\"T\",\"\\u0166\":\"T\",\"\\u0163\":\"t\",\"\\u0165\":\"t\",\"\\u0167\":\"t\",\"\\u0168\":\"U\",\"\\u016a\":\"U\",\"\\u016c\":\"U\",\"\\u016e\":\"U\",\"\\u0170\":\"U\",\"\\u0172\":\"U\",\"\\u0169\":\"u\",\"\\u016b\":\"u\",\"\\u016d\":\"u\",\"\\u016f\":\"u\",\"\\u0171\":\"u\",\"\\u0173\":\"u\",\"\\u0174\":\"W\",\"\\u0175\":\"w\",\"\\u0176\":\"Y\",\"\\u0177\":\"y\",\"\\u0178\":\"Y\",\"\\u0179\":\"Z\",\"\\u017b\":\"Z\",\"\\u017d\":\"Z\",\"\\u017a\":\"z\",\"\\u017c\":\"z\",\"\\u017e\":\"z\",\"\\u0132\":\"IJ\",\"\\u0133\":\"ij\",\"\\u0152\":\"Oe\",\"\\u0153\":\"oe\",\"\\u0149\":\"'n\",\"\\u017f\":\"s\"}),En=pn({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function Tn(t){return\"\\\\\"+De[t]}function Cn(t){return Se.test(t)}function kn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function In(t,e){return function(n){return t(e(n))}}function Dn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function xn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function On(t){return Cn(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function Nn(t){return Cn(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split(\"\")}(t)}var Mn=pn({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var Rn=function t(e){var n=(e=null==e?Me:Rn.defaults(Me.Object(),e,Rn.pick(Me,Te))).Array,r=e.Date,i=e.Error,Zt=e.Function,$t=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Zt.prototype,ae=te.prototype,se=e[\"__core-js_shared__\"],ue=oe.toString,ce=ae.hasOwnProperty,le=0,fe=function(){var t=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),he=ae.toString,pe=ue.call(te),de=Me._,ye=ee(\"^\"+ue.call(ce).replace(Nt,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ge=Pe?e.Buffer:o,me=e.Symbol,_e=e.Uint8Array,Se=ge?ge.allocUnsafe:o,De=In(te.getPrototypeOf,te),Oe=te.create,Ne=ae.propertyIsEnumerable,Re=ie.splice,Le=me?me.isConcatSpreadable:o,Fe=me?me.iterator:o,Be=me?me.toStringTag:o,on=function(){try{var t=Bo(te,\"defineProperty\");return t({},\"\",{}),t}catch(e){}}(),pn=e.clearTimeout!==Me.clearTimeout&&e.clearTimeout,Ln=r&&r.now!==Me.Date.now&&r.now,Pn=e.setTimeout!==Me.setTimeout&&e.setTimeout,Fn=$t.ceil,Bn=$t.floor,jn=te.getOwnPropertySymbols,qn=ge?ge.isBuffer:o,Kn=e.isFinite,Un=ie.join,Vn=In(te.keys,te),zn=$t.max,Wn=$t.min,Qn=r.now,Hn=e.parseInt,Gn=$t.random,Yn=ie.reverse,Jn=Bo(e,\"DataView\"),Xn=Bo(e,\"Map\"),Zn=Bo(e,\"Promise\"),$n=Bo(e,\"Set\"),tr=Bo(e,\"WeakMap\"),er=Bo(te,\"create\"),nr=tr&&new tr,rr={},ir=la(Jn),or=la(Xn),ar=la(Zn),sr=la($n),ur=la(tr),cr=me?me.prototype:o,lr=cr?cr.valueOf:o,fr=cr?cr.toString:o;function hr(t){if(Is(t)&&!gs(t)&&!(t instanceof gr)){if(t instanceof yr)return t;if(ce.call(t,\"__wrapped__\"))return fa(t)}return new yr(t)}var pr=function(){function t(){}return function(e){if(!ks(e))return{};if(Oe)return Oe(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function dr(){}function yr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function gr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function mr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new br;++e<n;)this.add(t[e])}function wr(t){var e=this.__data__=new vr(t);this.size=e.size}function Sr(t,e){var n=gs(t),r=!n&&ys(t),i=!n&&!r&&_s(t),o=!n&&!r&&!i&&Ls(t),a=n||r||i||o,s=a?gn(t.length,ne):[],u=s.length;for(var c in t)!e&&!ce.call(t,c)||a&&(\"length\"==c||i&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||Wo(c,u))||s.push(c);return s}function Er(t){var e=t.length;return e?t[_i(0,e-1)]:o}function Tr(t,e){return sa(eo(t),Mr(e,0,t.length))}function Cr(t){return sa(eo(t))}function kr(t,e,n){(n===o||hs(t[e],n))&&(n!==o||e in t)||Or(t,e,n)}function Ir(t,e,n){var r=t[e];ce.call(t,e)&&hs(r,n)&&(n!==o||e in t)||Or(t,e,n)}function Dr(t,e){for(var n=t.length;n--;)if(hs(t[n][0],e))return n;return-1}function xr(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function Ar(t,e){return t&&no(e,ru(e),t)}function Or(t,e,n){\"__proto__\"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nr(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Zs(t,e[r]);return a}function Mr(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Rr(t,e,n,r,i,a){var s,u=e&h,c=e&p,l=e&d;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!ks(t))return t;var f=gs(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&\"string\"==typeof t[0]&&ce.call(t,\"index\")&&(n.index=t.index,n.input=t.input),n}(t),!u)return eo(t,s)}else{var y=Ko(t),g=y==G||y==Y;if(_s(t))return Yi(t,u);if(y==$||y==K||g&&!i){if(s=c||g?{}:Vo(t),!u)return c?function(t,e){return no(t,qo(t),e)}(t,function(t,e){return t&&no(e,iu(e),t)}(s,t)):function(t,e){return no(t,jo(t),e)}(t,Ar(s,t))}else{if(!Ie[y])return i?t:{};s=function(t,e,n){var r,i=t.constructor;switch(e){case ut:return Ji(t);case z:case W:return new i(+t);case ct:return function(t,e){var n=e?Ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ft:case ht:case pt:case dt:case yt:case gt:case mt:case vt:return Xi(t,n);case J:return new i;case X:case rt:return new i(t);case et:return function(t){var e=new t.constructor(t.source,Vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new i;case it:return r=t,lr?te(lr.call(r)):{}}}(t,y,u)}}a||(a=new wr);var m=a.get(t);if(m)return m;a.set(t,s),Ns(t)?t.forEach(function(r){s.add(Rr(r,e,n,r,t,a))}):Ds(t)&&t.forEach(function(r,i){s.set(i,Rr(r,e,n,i,t,a))});var v=f?o:(l?c?Oo:Ao:c?iu:ru)(t);return He(v||t,function(r,i){v&&(r=t[i=r]),Ir(s,i,Rr(r,e,n,i,t,a))}),s}function Lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function Pr(t,e,n){if(\"function\"!=typeof t)throw new re(u);return ra(function(){t.apply(o,n)},e)}function Fr(t,e,n,r){var i=-1,o=Xe,s=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=$e(e,mn(n))),r?(o=Ze,s=!1):e.length>=a&&(o=bn,s=!1,e=new _r(e));t:for(;++i<u;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h===h){for(var p=l;p--;)if(e[p]===h)continue t;c.push(f)}else o(e,h,r)||c.push(f)}return c}hr.templateSettings={escape:kt,evaluate:It,interpolate:Dt,variable:\"\",imports:{_:hr}},hr.prototype=dr.prototype,hr.prototype.constructor=hr,yr.prototype=pr(dr.prototype),yr.prototype.constructor=yr,gr.prototype=pr(dr.prototype),gr.prototype.constructor=gr,mr.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},mr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mr.prototype.get=function(t){var e=this.__data__;if(er){var n=e[t];return n===c?o:n}return ce.call(e,t)?e[t]:o},mr.prototype.has=function(t){var e=this.__data__;return er?e[t]!==o:ce.call(e,t)},mr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=er&&e===o?c:e,this},vr.prototype.clear=function(){this.__data__=[],this.size=0},vr.prototype.delete=function(t){var e=this.__data__,n=Dr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Re.call(e,n,1),--this.size,!0)},vr.prototype.get=function(t){var e=this.__data__,n=Dr(e,t);return n<0?o:e[n][1]},vr.prototype.has=function(t){return Dr(this.__data__,t)>-1},vr.prototype.set=function(t,e){var n=this.__data__,r=Dr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(Xn||vr),string:new mr}},br.prototype.delete=function(t){var e=Po(this,t).delete(t);return this.size-=e?1:0,e},br.prototype.get=function(t){return Po(this,t).get(t)},br.prototype.has=function(t){return Po(this,t).has(t)},br.prototype.set=function(t,e){var n=Po(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_r.prototype.add=_r.prototype.push=function(t){return this.__data__.set(t,c),this},_r.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new vr,this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Xn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(t,e),this.size=n.size,this};var Br=oo(Qr),jr=oo(Hr,!0);function qr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Kr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s===s&&!Rs(s):n(s,u)))var u=s,c=a}return c}function Ur(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Vr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=zo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Vr(s,e-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var zr=ao(),Wr=ao(!0);function Qr(t,e){return t&&zr(t,e,ru)}function Hr(t,e){return t&&Wr(t,e,ru)}function Gr(t,e){return Je(e,function(e){return Es(t[e])})}function Yr(t,e){for(var n=0,r=(e=Wi(e,t)).length;null!=t&&n<r;)t=t[ca(e[n++])];return n&&n==r?t:o}function Jr(t,e,n){var r=e(t);return gs(t)?r:tn(r,n(t))}function Xr(t){return null==t?t===o?ot:Z:Be&&Be in te(t)?function(t){var e=ce.call(t,Be),n=t[Be];try{t[Be]=o;var r=!0}catch(a){}var i=he.call(t);return r&&(e?t[Be]=n:delete t[Be]),i}(t):function(t){return he.call(t)}(t)}function Zr(t,e){return t>e}function $r(t,e){return null!=t&&ce.call(t,e)}function ti(t,e){return null!=t&&e in te(t)}function ei(t,e,r){for(var i=r?Ze:Xe,a=t[0].length,s=t.length,u=s,c=n(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=$e(h,mn(e))),l=Wn(h.length,l),c[u]=!r&&(e||a>=120&&h.length>=120)?new _r(u&&h):o}h=t[0];var p=-1,d=c[0];t:for(;++p<a&&f.length<l;){var y=h[p],g=e?e(y):y;if(y=r||0!==y?y:0,!(d?bn(d,g):i(f,g,r))){for(u=s;--u;){var m=c[u];if(!(m?bn(m,g):i(t[u],g,r)))continue t}d&&d.push(g),f.push(y)}}return f}function ni(t,e,n){var r=null==(t=ta(t,e=Wi(e,t)))?t:t[ca(Sa(e))];return null==r?o:We(r,t,n)}function ri(t){return Is(t)&&Xr(t)==K}function ii(t,e,n,r,i){return t===e||(null==t||null==e||!Is(t)&&!Is(e)?t!==t&&e!==e:function(t,e,n,r,i,a){var s=gs(t),u=gs(e),c=s?U:Ko(t),l=u?U:Ko(e),f=(c=c==K?$:c)==$,h=(l=l==K?$:l)==$,p=c==l;if(p&&_s(t)){if(!_s(e))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new wr),s||Ls(t)?Do(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new _e(t),new _e(e)));case z:case W:case X:return hs(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+\"\";case J:var s=kn;case nt:var u=r&y;if(s||(s=xn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=g,a.set(t,e);var l=Do(s(t),s(e),r,i,o,a);return a.delete(t),l;case it:if(lr)return lr.call(t)==lr.call(e)}return!1}(t,e,c,n,r,i,a);if(!(n&y)){var d=f&&ce.call(t,\"__wrapped__\"),m=h&&ce.call(e,\"__wrapped__\");if(d||m){var v=d?t.value():t,b=m?e.value():e;return a||(a=new wr),i(v,b,n,r,a)}}return!!p&&(a||(a=new wr),function(t,e,n,r,i,a){var s=n&y,u=Ao(t),c=u.length,l=Ao(e).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var h=u[f];if(!(s?h in e:ce.call(e,h)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var d=!0;a.set(t,e),a.set(e,t);for(var g=s;++f<c;){h=u[f];var m=t[h],v=e[h];if(r)var b=s?r(v,m,h,e,t,a):r(m,v,h,t,e,a);if(!(b===o?m===v||i(m,v,n,r,a):b)){d=!1;break}g||(g=\"constructor\"==h)}if(d&&!g){var _=t.constructor,w=e.constructor;_!=w&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof _&&_ instanceof _&&\"function\"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}(t,e,n,r,ii,i))}function oi(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=te(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=n[i])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in t))return!1}else{var h=new wr;if(r)var p=r(l,f,c,t,e,h);if(!(p===o?ii(f,l,y|g,r,h):p))return!1}}return!0}function ai(t){return!(!ks(t)||(e=t,fe&&fe in e))&&(Es(t)?ye:Qt).test(la(t));var e}function si(t){return\"function\"==typeof t?t:null==t?xu:\"object\"==typeof t?gs(t)?pi(t[0],t[1]):hi(t):Bu(t)}function ui(t){if(!Jo(t))return Vn(t);var e=[];for(var n in te(t))ce.call(t,n)&&\"constructor\"!=n&&e.push(n);return e}function ci(t){if(!ks(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Jo(t),n=[];for(var r in t)(\"constructor\"!=r||!e&&ce.call(t,r))&&n.push(r);return n}function li(t,e){return t<e}function fi(t,e){var r=-1,i=vs(t)?n(t.length):[];return Br(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function hi(t){var e=Fo(t);return 1==e.length&&e[0][2]?Zo(e[0][0],e[0][1]):function(n){return n===t||oi(n,t,e)}}function pi(t,e){return Ho(t)&&Xo(e)?Zo(ca(t),e):function(n){var r=Zs(n,t);return r===o&&r===e?$s(n,t):ii(e,r,y|g)}}function di(t,e,n,r,i){t!==e&&zr(e,function(a,s){if(i||(i=new wr),ks(a))!function(t,e,n,r,i,a,s){var u=ea(t,n),c=ea(e,n),l=s.get(c);if(l)kr(t,n,l);else{var f=a?a(u,c,n+\"\",t,e,s):o,h=f===o;if(h){var p=gs(c),d=!p&&_s(c),y=!p&&!d&&Ls(c);f=c,p||d||y?gs(u)?f=u:bs(u)?f=eo(u):d?(h=!1,f=Yi(c,!0)):y?(h=!1,f=Xi(c,!0)):f=[]:As(c)||ys(c)?(f=u,ys(u)?f=Vs(u):ks(u)&&!Es(u)||(f=Vo(c))):h=!1}h&&(s.set(c,f),i(f,c,r,a,s),s.delete(c)),kr(t,n,f)}}(t,e,s,n,di,r,i);else{var u=r?r(ea(t,s),a,s+\"\",t,e,i):o;u===o&&(u=a),kr(t,s,u)}},iu)}function yi(t,e){var n=t.length;if(n)return Wo(e+=e<0?n:0,n)?t[e]:o}function gi(t,e,n){var r=-1;return e=$e(e.length?e:[xu],mn(Lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fi(t,function(t,n,i){return{criteria:$e(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Zi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*(\"desc\"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function mi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Yr(t,a);n(s,a)&&Ci(o,Wi(a,t),s)}return o}function vi(t,e,n,r){var i=r?cn:un,o=-1,a=e.length,s=t;for(t===e&&(e=eo(e)),n&&(s=$e(t,mn(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Re.call(s,u,1),Re.call(t,u,1);return t}function bi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Wo(i)?Re.call(t,i,1):Fi(t,i)}}return t}function _i(t,e){return t+Bn(Gn()*(e-t+1))}function wi(t,e){var n=\"\";if(!t||e<1||e>R)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Si(t,e){return ia($o(t,e,xu),t+\"\")}function Ei(t){return Er(hu(t))}function Ti(t,e){var n=hu(t);return sa(n,Mr(e,0,n.length))}function Ci(t,e,n,r){if(!ks(t))return t;for(var i=-1,a=(e=Wi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=ca(e[i]),l=n;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=ks(f)?f:Wo(e[i+1])?[]:{})}Ir(u,c,l),u=u[c]}return t}var ki=nr?function(t,e){return nr.set(t,e),t}:xu,Ii=on?function(t,e){return on(t,\"toString\",{configurable:!0,enumerable:!1,value:ku(e),writable:!0})}:xu;function Di(t){return sa(hu(t))}function xi(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function Ai(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Oi(t,e,n){var r=0,i=null==t?r:t.length;if(\"number\"==typeof e&&e===e&&i<=j){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Rs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ni(t,e,xu,n)}function Ni(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,s=e!==e,u=null===e,c=Rs(e),l=e===o;i<a;){var f=Bn((i+a)/2),h=n(t[f]),p=h!==o,d=null===h,y=h===h,g=Rs(h);if(s)var m=r||y;else m=l?y&&(r||p):u?y&&p&&(r||!d):c?y&&p&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);m?i=f+1:a=f}return Wn(a,B)}function Mi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ri(t){return\"number\"==typeof t?t:Rs(t)?P:+t}function Li(t){if(\"string\"==typeof t)return t;if(gs(t))return $e(t,Li)+\"\";if(Rs(t))return fr?fr.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-M?\"-0\":e}function Pi(t,e,n){var r=-1,i=Xe,o=t.length,s=!0,u=[],c=u;if(n)s=!1,i=Ze;else if(o>=a){var l=e?null:So(t);if(l)return xn(l);s=!1,i=bn,c=new _r}else c=e?[]:u;t:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue t;e&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}function Fi(t,e){return null==(t=ta(t,e=Wi(e,t)))||delete t[ca(Sa(e))]}function Bi(t,e,n,r){return Ci(t,e,n(Yr(t,e)),r)}function ji(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?xi(t,r?0:o,r?o+1:i):xi(t,r?o+1:0,r?i:o)}function qi(t,e){var n=t;return n instanceof gr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Ki(t,e,r){var i=t.length;if(i<2)return i?Pi(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Fr(a[o]||s,t[u],e,r));return Pi(Vr(a,1),e,r)}function Ui(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function Vi(t){return bs(t)?t:[]}function zi(t){return\"function\"==typeof t?t:xu}function Wi(t,e){return gs(t)?t:Ho(t,e)?[t]:ua(zs(t))}var Qi=Si;function Hi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:xi(t,e,n)}var Gi=pn||function(t){return Me.clearTimeout(t)};function Yi(t,e){if(e)return t.slice();var n=t.length,r=Se?Se(n):new t.constructor(n);return t.copy(r),r}function Ji(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Xi(t,e){var n=e?Ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Zi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,a=Rs(t),s=e!==o,u=null===e,c=e===e,l=Rs(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function $i(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,c=e.length,l=zn(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function to(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,c=-1,l=e.length,f=zn(a-u,0),h=n(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=t[o++]);return h}function eo(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function no(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),i?Or(n,u,c):Ir(n,u,c)}return n}function ro(t,e){return function(n,r){var i=gs(n)?Qe:xr,o=e?e():{};return i(n,t,Lo(r,2),o)}}function io(t){return Si(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&\"function\"==typeof a?(i--,a):o,s&&Qo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=te(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}function oo(t,e){return function(n,r){if(null==n)return n;if(!vs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=te(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function ao(t){return function(e,n,r){for(var i=-1,o=te(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function so(t){return function(e){var n=Cn(e=zs(e))?Nn(e):o,r=n?n[0]:e.charAt(0),i=n?Hi(n,1).join(\"\"):e.slice(1);return r[t]()+i}}function uo(t){return function(e){return en(Eu(yu(e).replace(ve,\"\")),t,\"\")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return ks(r)?r:n}}function lo(t){return function(e,n,r){var i=te(e);if(!vs(e)){var a=Lo(n,3);e=ru(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function fo(t){return xo(function(e){var n=e.length,r=n,i=yr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if(\"function\"!=typeof a)throw new re(u);if(i&&!s&&\"wrapper\"==Mo(a))var s=new yr([],!0)}for(r=s?r:n;++r<n;){var c=Mo(a=e[r]),l=\"wrapper\"==c?No(a):o;s=l&&Go(l[0])&&l[1]==(T|_|S|C)&&!l[4].length&&1==l[9]?s[Mo(l[0])].apply(s,l[3]):1==a.length&&Go(a)?s[c]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&gs(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ho(t,e,r,i,a,s,u,c,l,f){var h=e&T,p=e&m,d=e&v,y=e&(_|w),g=e&k,b=d?o:co(t);return function m(){for(var v=arguments.length,_=n(v),w=v;w--;)_[w]=arguments[w];if(y)var S=Ro(m),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,S);if(i&&(_=$i(_,i,a,y)),s&&(_=to(_,s,u,y)),v-=E,y&&v<f){var T=Dn(_,S);return _o(t,e,ho,m.placeholder,r,_,T,c,l,f-v)}var C=p?r:this,k=d?C[t]:t;return v=_.length,c?_=function(t,e){for(var n=t.length,r=Wn(e.length,n),i=eo(t);r--;){var a=e[r];t[r]=Wo(a,n)?i[a]:o}return t}(_,c):g&&v>1&&_.reverse(),h&&l<v&&(_.length=l),this&&this!==Me&&this instanceof m&&(k=b||co(k)),k.apply(C,_)}}function po(t,e){return function(n,r){return function(t,e,n,r){return Qr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function yo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;\"string\"==typeof n||\"string\"==typeof r?(n=Li(n),r=Li(r)):(n=Ri(n),r=Ri(r)),i=t(n,r)}return i}}function go(t){return xo(function(e){return e=$e(e,mn(Lo())),Si(function(n){var r=this;return t(e,function(t){return We(t,r,n)})})})}function mo(t,e){var n=(e=e===o?\" \":Li(e)).length;if(n<2)return n?wi(e,t):e;var r=wi(e,Fn(t/On(e)));return Cn(e)?Hi(Nn(r),0,t).join(\"\"):r.slice(0,t)}function vo(t){return function(e,r,i){return i&&\"number\"!=typeof i&&Qo(e,r,i)&&(r=i=o),e=js(e),r===o?(r=e,e=0):r=js(r),function(t,e,r,i){for(var o=-1,a=zn(Fn((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:js(i),t)}}function bo(t){return function(e,n){return\"string\"==typeof e&&\"string\"==typeof n||(e=Us(e),n=Us(n)),t(e,n)}}function _o(t,e,n,r,i,a,s,u,c,l){var f=e&_;e|=f?S:E,(e&=~(f?E:S))&b||(e&=~(m|v));var h=[t,e,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],p=n.apply(o,h);return Go(t)&&na(p,h),p.placeholder=r,oa(p,t,e)}function wo(t){var e=$t[t];return function(t,n){if(t=Us(t),(n=null==n?0:Wn(qs(n),292))&&Kn(t)){var r=(zs(t)+\"e\").split(\"e\");return+((r=(zs(e(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return e(t)}}var So=$n&&1/xn(new $n([,-0]))[1]==M?function(t){return new $n(t)}:Ru;function Eo(t){return function(e){var n=Ko(e);return n==J?kn(e):n==nt?An(e):function(t,e){return $e(e,function(e){return[e,t[e]]})}(e,t(e))}}function To(t,e,r,i,a,s,c,l){var h=e&v;if(!h&&\"function\"!=typeof t)throw new re(u);var p=i?i.length:0;if(p||(e&=~(S|E),i=a=o),c=c===o?c:zn(qs(c),0),l=l===o?l:qs(l),p-=a?a.length:0,e&E){var d=i,y=a;i=a=o}var g=h?o:No(t),k=[t,e,r,i,a,d,y,s,c,l];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|v|T),a=r==T&&n==_||r==T&&n==C&&t[7].length<=e[8]||r==(T|C)&&e[7].length<=e[8]&&n==_;if(!o&&!a)return t;r&m&&(t[2]=e[2],i|=n&m?0:b);var s=e[3];if(s){var u=t[3];t[3]=u?$i(u,s,e[4]):s,t[4]=u?Dn(t[3],f):e[4]}(s=e[5])&&(u=t[5],t[5]=u?to(u,s,e[6]):s,t[6]=u?Dn(t[5],f):e[6]),(s=e[7])&&(t[7]=s),r&T&&(t[8]=null==t[8]?e[8]:Wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(k,g),t=k[0],e=k[1],r=k[2],i=k[3],a=k[4],!(l=k[9]=k[9]===o?h?0:t.length:zn(k[9]-p,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=m)I=e==_||e==w?function(t,e,r){var i=co(t);return function a(){for(var s=arguments.length,u=n(s),c=s,l=Ro(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:Dn(u,l);return(s-=f.length)<r?_o(t,e,ho,a.placeholder,o,u,f,o,o,r-s):We(this&&this!==Me&&this instanceof a?i:t,this,u)}}(t,e,l):e!=S&&e!=(m|S)||a.length?ho.apply(o,k):function(t,e,r,i){var o=e&m,a=co(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==Me&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return We(h,o?r:this,f)}}(t,e,r,i);else var I=function(t,e,n){var r=e&m,i=co(t);return function e(){return(this&&this!==Me&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return oa((g?ki:na)(I,k),t,e)}function Co(t,e,n,r){return t===o||hs(t,ae[n])&&!ce.call(r,n)?e:t}function ko(t,e,n,r,i,a){return ks(t)&&ks(e)&&(a.set(e,t),di(t,e,o,ko,a),a.delete(e)),t}function Io(t){return As(t)?o:t}function Do(t,e,n,r,i,a){var s=n&y,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,h=!0,p=n&g?new _r:o;for(a.set(t,e),a.set(e,t);++f<u;){var d=t[f],m=e[f];if(r)var v=s?r(m,d,f,e,t,a):r(d,m,f,t,e,a);if(v!==o){if(v)continue;h=!1;break}if(p){if(!rn(e,function(t,e){if(!bn(p,e)&&(d===t||i(d,t,n,r,a)))return p.push(e)})){h=!1;break}}else if(d!==m&&!i(d,m,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function xo(t){return ia($o(t,o,ma),t+\"\")}function Ao(t){return Jr(t,ru,jo)}function Oo(t){return Jr(t,iu,qo)}var No=nr?function(t){return nr.get(t)}:Ru;function Mo(t){for(var e=t.name+\"\",n=rr[e],r=ce.call(rr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ro(t){return(ce.call(hr,\"placeholder\")?hr:t).placeholder}function Lo(){var t=hr.iteratee||Au;return t=t===Au?si:t,arguments.length?t(arguments[0],arguments[1]):t}function Po(t,e){var n=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map}function Fo(t){for(var e=ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ai(n)?n:o}var jo=jn?function(t){return null==t?[]:(t=te(t),Je(jn(t),function(e){return Ne.call(t,e)}))}:Ku,qo=jn?function(t){for(var e=[];t;)tn(e,jo(t)),t=De(t);return e}:Ku,Ko=Xr;function Uo(t,e,n){for(var r=-1,i=(e=Wi(e,t)).length,o=!1;++r<i;){var a=ca(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Cs(i)&&Wo(a,i)&&(gs(t)||ys(t))}function Vo(t){return\"function\"!=typeof t.constructor||Jo(t)?{}:pr(De(t))}function zo(t){return gs(t)||ys(t)||!!(Le&&t&&t[Le])}function Wo(t,e){var n=typeof t;return!!(e=null==e?R:e)&&(\"number\"==n||\"symbol\"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e}function Qo(t,e,n){if(!ks(n))return!1;var r=typeof e;return!!(\"number\"==r?vs(n)&&Wo(e,n.length):\"string\"==r&&e in n)&&hs(n[e],t)}function Ho(t,e){if(gs(t))return!1;var n=typeof t;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=t&&!Rs(t))||At.test(t)||!xt.test(t)||null!=e&&t in te(e)}function Go(t){var e=Mo(t),n=hr[e];if(\"function\"!=typeof n||!(e in gr.prototype))return!1;if(t===n)return!0;var r=No(n);return!!r&&t===r[0]}(Jn&&Ko(new Jn(new ArrayBuffer(1)))!=ct||Xn&&Ko(new Xn)!=J||Zn&&\"[object Promise]\"!=Ko(Zn.resolve())||$n&&Ko(new $n)!=nt||tr&&Ko(new tr)!=at)&&(Ko=function(t){var e=Xr(t),n=e==$?t.constructor:o,r=n?la(n):\"\";if(r)switch(r){case ir:return ct;case or:return J;case ar:return\"[object Promise]\";case sr:return nt;case ur:return at}return e});var Yo=se?Es:Uu;function Jo(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||ae)}function Xo(t){return t===t&&!ks(t)}function Zo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function $o(t,e,r){return e=zn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=zn(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),We(t,this,u)}}function ta(t,e){return e.length<2?t:Yr(t,xi(e,0,-1))}function ea(t,e){if((\"constructor\"!==e||\"function\"!==typeof t[e])&&\"__proto__\"!=e)return t[e]}var na=aa(ki),ra=Pn||function(t,e){return Me.setTimeout(t,e)},ia=aa(Ii);function oa(t,e,n){var r=e+\"\";return ia(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?\"& \":\"\")+e[r],e=e.join(n>2?\", \":\" \"),t.replace(Ft,\"{\\n/* [wrapped with \"+e+\"] */\\n\")}(r,function(t,e){return He(q,function(n){var r=\"_.\"+n[0];e&n[1]&&!Xe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Bt);return e?e[1].split(jt):[]}(r),n)))}function aa(t){var e=0,n=0;return function(){var r=Qn(),i=A-(r-n);if(n=r,i>0){if(++e>=x)return arguments[0]}else e=0;return t.apply(o,arguments)}}function sa(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=_i(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ua=function(t){var e=as(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(\"\"),t.replace(Ot,function(t,n,r,i){e.push(r?i.replace(Kt,\"$1\"):n||t)}),e});function ca(t){if(\"string\"==typeof t||Rs(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-M?\"-0\":e}function la(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+\"\"}catch(e){}}return\"\"}function fa(t){if(t instanceof gr)return t.clone();var e=new yr(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ha=Si(function(t,e){return bs(t)?Fr(t,Vr(e,1,bs,!0)):[]}),pa=Si(function(t,e){var n=Sa(e);return bs(n)&&(n=o),bs(t)?Fr(t,Vr(e,1,bs,!0),Lo(n,2)):[]}),da=Si(function(t,e){var n=Sa(e);return bs(n)&&(n=o),bs(t)?Fr(t,Vr(e,1,bs,!0),o,n):[]});function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qs(n);return i<0&&(i=zn(r+i,0)),sn(t,Lo(e,3),i)}function ga(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=qs(n),i=n<0?zn(r+i,0):Wn(i,r-1)),sn(t,Lo(e,3),i,!0)}function ma(t){return null!=t&&t.length?Vr(t,1):[]}function va(t){return t&&t.length?t[0]:o}var ba=Si(function(t){var e=$e(t,Vi);return e.length&&e[0]===t[0]?ei(e):[]}),_a=Si(function(t){var e=Sa(t),n=$e(t,Vi);return e===Sa(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ei(n,Lo(e,2)):[]}),wa=Si(function(t){var e=Sa(t),n=$e(t,Vi);return(e=\"function\"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ei(n,o,e):[]});function Sa(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ea=Si(Ta);function Ta(t,e){return t&&t.length&&e&&e.length?vi(t,e):t}var Ca=xo(function(t,e){var n=null==t?0:t.length,r=Nr(t,e);return bi(t,$e(e,function(t){return Wo(t,n)?+t:t}).sort(Zi)),r});function ka(t){return null==t?t:Yn.call(t)}var Ia=Si(function(t){return Pi(Vr(t,1,bs,!0))}),Da=Si(function(t){var e=Sa(t);return bs(e)&&(e=o),Pi(Vr(t,1,bs,!0),Lo(e,2))}),xa=Si(function(t){var e=Sa(t);return e=\"function\"==typeof e?e:o,Pi(Vr(t,1,bs,!0),o,e)});function Aa(t){if(!t||!t.length)return[];var e=0;return t=Je(t,function(t){if(bs(t))return e=zn(t.length,e),!0}),gn(e,function(e){return $e(t,hn(e))})}function Oa(t,e){if(!t||!t.length)return[];var n=Aa(t);return null==e?n:$e(n,function(t){return We(e,o,t)})}var Na=Si(function(t,e){return bs(t)?Fr(t,e):[]}),Ma=Si(function(t){return Ki(Je(t,bs))}),Ra=Si(function(t){var e=Sa(t);return bs(e)&&(e=o),Ki(Je(t,bs),Lo(e,2))}),La=Si(function(t){var e=Sa(t);return e=\"function\"==typeof e?e:o,Ki(Je(t,bs),o,e)}),Pa=Si(Aa);var Fa=Si(function(t){var e=t.length,n=e>1?t[e-1]:o;return n=\"function\"==typeof n?(t.pop(),n):o,Oa(t,n)});function Ba(t){var e=hr(t);return e.__chain__=!0,e}function ja(t,e){return e(t)}var qa=xo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Nr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof gr&&Wo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ja,args:[i],thisArg:o}),new yr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Ka=ro(function(t,e,n){ce.call(t,n)?++t[n]:Or(t,n,1)});var Ua=lo(ya),Va=lo(ga);function za(t,e){return(gs(t)?He:Br)(t,Lo(e,3))}function Wa(t,e){return(gs(t)?Ge:jr)(t,Lo(e,3))}var Qa=ro(function(t,e,n){ce.call(t,n)?t[n].push(e):Or(t,n,[e])});var Ha=Si(function(t,e,r){var i=-1,o=\"function\"==typeof e,a=vs(t)?n(t.length):[];return Br(t,function(t){a[++i]=o?We(e,t,r):ni(t,e,r)}),a}),Ga=ro(function(t,e,n){Or(t,n,e)});function Ya(t,e){return(gs(t)?$e:fi)(t,Lo(e,3))}var Ja=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Xa=Si(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Qo(t,e[0],e[1])?e=[]:n>2&&Qo(e[0],e[1],e[2])&&(e=[e[0]]),gi(t,Vr(e,1),[])}),Za=Ln||function(){return Me.Date.now()};function $a(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,To(t,T,o,o,o,o,e)}function ts(t,e){var n;if(\"function\"!=typeof e)throw new re(u);return t=qs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var es=Si(function(t,e,n){var r=m;if(n.length){var i=Dn(n,Ro(es));r|=S}return To(t,r,e,n,i)}),ns=Si(function(t,e,n){var r=m|v;if(n.length){var i=Dn(n,Ro(ns));r|=S}return To(e,r,t,n,i)});function rs(t,e,n){var r,i,a,s,c,l,f=0,h=!1,p=!1,d=!0;if(\"function\"!=typeof t)throw new re(u);function y(e){var n=r,a=i;return r=i=o,f=e,s=t.apply(a,n)}function g(t){var n=t-l;return l===o||n>=e||n<0||p&&t-f>=a}function m(){var t=Za();if(g(t))return v(t);c=ra(m,function(t){var n=e-(t-l);return p?Wn(n,a-(t-f)):n}(t))}function v(t){return c=o,d&&r?y(t):(r=i=o,s)}function b(){var t=Za(),n=g(t);if(r=arguments,i=this,l=t,n){if(c===o)return function(t){return f=t,c=ra(m,e),h?y(t):s}(l);if(p)return Gi(c),c=ra(m,e),y(l)}return c===o&&(c=ra(m,e)),s}return e=Us(e)||0,ks(n)&&(h=!!n.leading,a=(p=\"maxWait\"in n)?zn(Us(n.maxWait)||0,e):a,d=\"trailing\"in n?!!n.trailing:d),b.cancel=function(){c!==o&&Gi(c),f=0,r=l=i=c=o},b.flush=function(){return c===o?s:v(Za())},b}var is=Si(function(t,e){return Pr(t,1,e)}),os=Si(function(t,e,n){return Pr(t,Us(e)||0,n)});function as(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new re(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(as.Cache||br),n}function ss(t){if(\"function\"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}as.Cache=br;var us=Qi(function(t,e){var n=(e=1==e.length&&gs(e[0])?$e(e[0],mn(Lo())):$e(Vr(e,1),mn(Lo()))).length;return Si(function(r){for(var i=-1,o=Wn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return We(t,this,r)})}),cs=Si(function(t,e){var n=Dn(e,Ro(cs));return To(t,S,o,e,n)}),ls=Si(function(t,e){var n=Dn(e,Ro(ls));return To(t,E,o,e,n)}),fs=xo(function(t,e){return To(t,C,o,o,o,e)});function hs(t,e){return t===e||t!==t&&e!==e}var ps=bo(Zr),ds=bo(function(t,e){return t>=e}),ys=ri(function(){return arguments}())?ri:function(t){return Is(t)&&ce.call(t,\"callee\")&&!Ne.call(t,\"callee\")},gs=n.isArray,ms=je?mn(je):function(t){return Is(t)&&Xr(t)==ut};function vs(t){return null!=t&&Cs(t.length)&&!Es(t)}function bs(t){return Is(t)&&vs(t)}var _s=qn||Uu,ws=qe?mn(qe):function(t){return Is(t)&&Xr(t)==W};function Ss(t){if(!Is(t))return!1;var e=Xr(t);return e==H||e==Q||\"string\"==typeof t.message&&\"string\"==typeof t.name&&!As(t)}function Es(t){if(!ks(t))return!1;var e=Xr(t);return e==G||e==Y||e==V||e==tt}function Ts(t){return\"number\"==typeof t&&t==qs(t)}function Cs(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=R}function ks(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Is(t){return null!=t&&\"object\"==typeof t}var Ds=Ke?mn(Ke):function(t){return Is(t)&&Ko(t)==J};function xs(t){return\"number\"==typeof t||Is(t)&&Xr(t)==X}function As(t){if(!Is(t)||Xr(t)!=$)return!1;var e=De(t);if(null===e)return!0;var n=ce.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&ue.call(n)==pe}var Os=Ue?mn(Ue):function(t){return Is(t)&&Xr(t)==et};var Ns=Ve?mn(Ve):function(t){return Is(t)&&Ko(t)==nt};function Ms(t){return\"string\"==typeof t||!gs(t)&&Is(t)&&Xr(t)==rt}function Rs(t){return\"symbol\"==typeof t||Is(t)&&Xr(t)==it}var Ls=ze?mn(ze):function(t){return Is(t)&&Cs(t.length)&&!!ke[Xr(t)]};var Ps=bo(li),Fs=bo(function(t,e){return t<=e});function Bs(t){if(!t)return[];if(vs(t))return Ms(t)?Nn(t):eo(t);if(Fe&&t[Fe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Fe]());var e=Ko(t);return(e==J?kn:e==nt?xn:hu)(t)}function js(t){return t?(t=Us(t))===M||t===-M?(t<0?-1:1)*L:t===t?t:0:0===t?t:0}function qs(t){var e=js(t),n=e%1;return e===e?n?e-n:e:0}function Ks(t){return t?Mr(qs(t),0,F):0}function Us(t){if(\"number\"==typeof t)return t;if(Rs(t))return P;if(ks(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=ks(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(Rt,\"\");var n=Wt.test(t);return n||Ht.test(t)?Ae(t.slice(2),n?2:8):zt.test(t)?P:+t}function Vs(t){return no(t,iu(t))}function zs(t){return null==t?\"\":Li(t)}var Ws=io(function(t,e){if(Jo(e)||vs(e))no(e,ru(e),t);else for(var n in e)ce.call(e,n)&&Ir(t,n,e[n])}),Qs=io(function(t,e){no(e,iu(e),t)}),Hs=io(function(t,e,n,r){no(e,iu(e),t,r)}),Gs=io(function(t,e,n,r){no(e,ru(e),t,r)}),Ys=xo(Nr);var Js=Si(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Qo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=iu(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===o||hs(f,ae[l])&&!ce.call(t,l))&&(t[l]=a[l])}return t}),Xs=Si(function(t){return t.push(o,ko),We(au,o,t)});function Zs(t,e,n){var r=null==t?o:Yr(t,e);return r===o?n:r}function $s(t,e){return null!=t&&Uo(t,e,ti)}var tu=po(function(t,e,n){null!=e&&\"function\"!=typeof e.toString&&(e=he.call(e)),t[e]=n},ku(xu)),eu=po(function(t,e,n){null!=e&&\"function\"!=typeof e.toString&&(e=he.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},Lo),nu=Si(ni);function ru(t){return vs(t)?Sr(t):ui(t)}function iu(t){return vs(t)?Sr(t,!0):ci(t)}var ou=io(function(t,e,n){di(t,e,n)}),au=io(function(t,e,n,r){di(t,e,n,r)}),su=xo(function(t,e){var n={};if(null==t)return n;var r=!1;e=$e(e,function(e){return e=Wi(e,t),r||(r=e.length>1),e}),no(t,Oo(t),n),r&&(n=Rr(n,h|p|d,Io));for(var i=e.length;i--;)Fi(n,e[i]);return n});var uu=xo(function(t,e){return null==t?{}:function(t,e){return mi(t,e,function(e,n){return $s(t,n)})}(t,e)});function cu(t,e){if(null==t)return{};var n=$e(Oo(t),function(t){return[t]});return e=Lo(e),mi(t,n,function(t,n){return e(t,n[0])})}var lu=Eo(ru),fu=Eo(iu);function hu(t){return null==t?[]:vn(t,ru(t))}var pu=uo(function(t,e,n){return e=e.toLowerCase(),t+(n?du(e):e)});function du(t){return Su(zs(t).toLowerCase())}function yu(t){return(t=zs(t))&&t.replace(Yt,Sn).replace(be,\"\")}var gu=uo(function(t,e,n){return t+(n?\"-\":\"\")+e.toLowerCase()}),mu=uo(function(t,e,n){return t+(n?\" \":\"\")+e.toLowerCase()}),vu=so(\"toLowerCase\");var bu=uo(function(t,e,n){return t+(n?\"_\":\"\")+e.toLowerCase()});var _u=uo(function(t,e,n){return t+(n?\" \":\"\")+Su(e)});var wu=uo(function(t,e,n){return t+(n?\" \":\"\")+e.toUpperCase()}),Su=so(\"toUpperCase\");function Eu(t,e,n){return t=zs(t),(e=n?o:e)===o?function(t){return Ee.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(qt)||[]}(t):t.match(e)||[]}var Tu=Si(function(t,e){try{return We(t,o,e)}catch(n){return Ss(n)?n:new i(n)}}),Cu=xo(function(t,e){return He(e,function(e){e=ca(e),Or(t,e,es(t[e],t))}),t});function ku(t){return function(){return t}}var Iu=fo(),Du=fo(!0);function xu(t){return t}function Au(t){return si(\"function\"==typeof t?t:Rr(t,h))}var Ou=Si(function(t,e){return function(n){return ni(n,t,e)}}),Nu=Si(function(t,e){return function(n){return ni(t,n,e)}});function Mu(t,e,n){var r=ru(e),i=Gr(e,r);null!=n||ks(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Gr(e,ru(e)));var o=!(ks(n)&&\"chain\"in n)||!!n.chain,a=Es(t);return He(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=eo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Ru(){}var Lu=go($e),Pu=go(Ye),Fu=go(rn);function Bu(t){return Ho(t)?hn(ca(t)):function(t){return function(e){return Yr(e,t)}}(t)}var ju=vo(),qu=vo(!0);function Ku(){return[]}function Uu(){return!1}var Vu=yo(function(t,e){return t+e},0),zu=wo(\"ceil\"),Wu=yo(function(t,e){return t/e},1),Qu=wo(\"floor\");var Hu=yo(function(t,e){return t*e},1),Gu=wo(\"round\"),Yu=yo(function(t,e){return t-e},0);return hr.after=function(t,e){if(\"function\"!=typeof e)throw new re(u);return t=qs(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=$a,hr.assign=Ws,hr.assignIn=Qs,hr.assignInWith=Hs,hr.assignWith=Gs,hr.at=Ys,hr.before=ts,hr.bind=es,hr.bindAll=Cu,hr.bindKey=ns,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return gs(t)?t:[t]},hr.chain=Ba,hr.chunk=function(t,e,r){e=(r?Qo(t,e,r):e===o)?1:zn(qs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=n(Fn(i/e));a<i;)u[s++]=xi(t,a,a+=e);return u},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(gs(r)?eo(r):[r],Vr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=Lo();return t=e?$e(t,function(t){if(\"function\"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Si(function(n){for(var r=-1;++r<e;){var i=t[r];if(We(i[0],this,n))return We(i[1],this,n)}})},hr.conforms=function(t){return function(t){var e=ru(t);return function(n){return Lr(n,t,e)}}(Rr(t,h))},hr.constant=ku,hr.countBy=Ka,hr.create=function(t,e){var n=pr(t);return null==e?n:Ar(n,e)},hr.curry=function t(e,n,r){var i=To(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.curryRight=function t(e,n,r){var i=To(e,w,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.debounce=rs,hr.defaults=Js,hr.defaultsDeep=Xs,hr.defer=is,hr.delay=os,hr.difference=ha,hr.differenceBy=pa,hr.differenceWith=da,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?xi(t,(e=n||e===o?1:qs(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?xi(t,0,(e=r-(e=n||e===o?1:qs(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?ji(t,Lo(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?ji(t,Lo(e,3),!0):[]},hr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&\"number\"!=typeof n&&Qo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=qs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:qs(r))<0&&(r+=i),r=n>r?0:Ks(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(gs(t)?Je:Ur)(t,Lo(e,3))},hr.flatMap=function(t,e){return Vr(Ya(t,e),1)},hr.flatMapDeep=function(t,e){return Vr(Ya(t,e),M)},hr.flatMapDepth=function(t,e,n){return n=n===o?1:qs(n),Vr(Ya(t,e),n)},hr.flatten=ma,hr.flattenDeep=function(t){return null!=t&&t.length?Vr(t,M):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?Vr(t,e=e===o?1:qs(e)):[]},hr.flip=function(t){return To(t,k)},hr.flow=Iu,hr.flowRight=Du,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:Gr(t,ru(t))},hr.functionsIn=function(t){return null==t?[]:Gr(t,iu(t))},hr.groupBy=Qa,hr.initial=function(t){return null!=t&&t.length?xi(t,0,-1):[]},hr.intersection=ba,hr.intersectionBy=_a,hr.intersectionWith=wa,hr.invert=tu,hr.invertBy=eu,hr.invokeMap=Ha,hr.iteratee=Au,hr.keyBy=Ga,hr.keys=ru,hr.keysIn=iu,hr.map=Ya,hr.mapKeys=function(t,e){var n={};return e=Lo(e,3),Qr(t,function(t,r,i){Or(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=Lo(e,3),Qr(t,function(t,r,i){Or(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(Rr(t,h))},hr.matchesProperty=function(t,e){return pi(t,Rr(e,h))},hr.memoize=as,hr.merge=ou,hr.mergeWith=au,hr.method=Ou,hr.methodOf=Nu,hr.mixin=Mu,hr.negate=ss,hr.nthArg=function(t){return t=qs(t),Si(function(e){return yi(e,t)})},hr.omit=su,hr.omitBy=function(t,e){return cu(t,ss(Lo(e)))},hr.once=function(t){return ts(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(gs(e)||(e=null==e?[]:[e]),gs(n=r?o:n)||(n=null==n?[]:[n]),gi(t,e,n))},hr.over=Lu,hr.overArgs=us,hr.overEvery=Pu,hr.overSome=Fu,hr.partial=cs,hr.partialRight=ls,hr.partition=Ja,hr.pick=uu,hr.pickBy=cu,hr.property=Bu,hr.propertyOf=function(t){return function(e){return null==t?o:Yr(t,e)}},hr.pull=Ea,hr.pullAll=Ta,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?vi(t,e,Lo(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?vi(t,e,o,n):t},hr.pullAt=Ca,hr.range=ju,hr.rangeRight=qu,hr.rearg=fs,hr.reject=function(t,e){return(gs(t)?Je:Ur)(t,ss(Lo(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return bi(t,i),n},hr.rest=function(t,e){if(\"function\"!=typeof t)throw new re(u);return Si(t,e=e===o?e:qs(e))},hr.reverse=ka,hr.sampleSize=function(t,e,n){return e=(n?Qo(t,e,n):e===o)?1:qs(e),(gs(t)?Tr:Ti)(t,e)},hr.set=function(t,e,n){return null==t?t:Ci(t,e,n)},hr.setWith=function(t,e,n,r){return r=\"function\"==typeof r?r:o,null==t?t:Ci(t,e,n,r)},hr.shuffle=function(t){return(gs(t)?Cr:Di)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&\"number\"!=typeof n&&Qo(t,e,n)?(e=0,n=r):(e=null==e?0:qs(e),n=n===o?r:qs(n)),xi(t,e,n)):[]},hr.sortBy=Xa,hr.sortedUniq=function(t){return t&&t.length?Mi(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Mi(t,Lo(e,2)):[]},hr.split=function(t,e,n){return n&&\"number\"!=typeof n&&Qo(t,e,n)&&(e=n=o),(n=n===o?F:n>>>0)?(t=zs(t))&&(\"string\"==typeof e||null!=e&&!Os(e))&&!(e=Li(e))&&Cn(t)?Hi(Nn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if(\"function\"!=typeof t)throw new re(u);return e=null==e?0:zn(qs(e),0),Si(function(n){var r=n[e],i=Hi(n,0,e);return r&&tn(i,r),We(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?xi(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?xi(t,0,(e=n||e===o?1:qs(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?xi(t,(e=r-(e=n||e===o?1:qs(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?ji(t,Lo(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?ji(t,Lo(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if(\"function\"!=typeof t)throw new re(u);return ks(n)&&(r=\"leading\"in n?!!n.leading:r,i=\"trailing\"in n?!!n.trailing:i),rs(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=ja,hr.toArray=Bs,hr.toPairs=lu,hr.toPairsIn=fu,hr.toPath=function(t){return gs(t)?$e(t,ca):Rs(t)?[t]:eo(ua(zs(t)))},hr.toPlainObject=Vs,hr.transform=function(t,e,n){var r=gs(t),i=r||_s(t)||Ls(t);if(e=Lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ks(t)&&Es(o)?pr(De(t)):{}}return(i?He:Qr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return $a(t,1)},hr.union=Ia,hr.unionBy=Da,hr.unionWith=xa,hr.uniq=function(t){return t&&t.length?Pi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Pi(t,Lo(e,2)):[]},hr.uniqWith=function(t,e){return e=\"function\"==typeof e?e:o,t&&t.length?Pi(t,o,e):[]},hr.unset=function(t,e){return null==t||Fi(t,e)},hr.unzip=Aa,hr.unzipWith=Oa,hr.update=function(t,e,n){return null==t?t:Bi(t,e,zi(n))},hr.updateWith=function(t,e,n,r){return r=\"function\"==typeof r?r:o,null==t?t:Bi(t,e,zi(n),r)},hr.values=hu,hr.valuesIn=function(t){return null==t?[]:vn(t,iu(t))},hr.without=Na,hr.words=Eu,hr.wrap=function(t,e){return cs(zi(e),t)},hr.xor=Ma,hr.xorBy=Ra,hr.xorWith=La,hr.zip=Pa,hr.zipObject=function(t,e){return Ui(t||[],e||[],Ir)},hr.zipObjectDeep=function(t,e){return Ui(t||[],e||[],Ci)},hr.zipWith=Fa,hr.entries=lu,hr.entriesIn=fu,hr.extend=Qs,hr.extendWith=Hs,Mu(hr,hr),hr.add=Vu,hr.attempt=Tu,hr.camelCase=pu,hr.capitalize=du,hr.ceil=zu,hr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Us(n))===n?n:0),e!==o&&(e=(e=Us(e))===e?e:0),Mr(Us(t),e,n)},hr.clone=function(t){return Rr(t,d)},hr.cloneDeep=function(t){return Rr(t,h|d)},hr.cloneDeepWith=function(t,e){return Rr(t,h|d,e=\"function\"==typeof e?e:o)},hr.cloneWith=function(t,e){return Rr(t,d,e=\"function\"==typeof e?e:o)},hr.conformsTo=function(t,e){return null==e||Lr(t,e,ru(e))},hr.deburr=yu,hr.defaultTo=function(t,e){return null==t||t!==t?e:t},hr.divide=Wu,hr.endsWith=function(t,e,n){t=zs(t),e=Li(e);var r=t.length,i=n=n===o?r:Mr(qs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},hr.eq=hs,hr.escape=function(t){return(t=zs(t))&&Ct.test(t)?t.replace(Et,En):t},hr.escapeRegExp=function(t){return(t=zs(t))&&Mt.test(t)?t.replace(Nt,\"\\\\$&\"):t},hr.every=function(t,e,n){var r=gs(t)?Ye:qr;return n&&Qo(t,e,n)&&(e=o),r(t,Lo(e,3))},hr.find=Ua,hr.findIndex=ya,hr.findKey=function(t,e){return an(t,Lo(e,3),Qr)},hr.findLast=Va,hr.findLastIndex=ga,hr.findLastKey=function(t,e){return an(t,Lo(e,3),Hr)},hr.floor=Qu,hr.forEach=za,hr.forEachRight=Wa,hr.forIn=function(t,e){return null==t?t:zr(t,Lo(e,3),iu)},hr.forInRight=function(t,e){return null==t?t:Wr(t,Lo(e,3),iu)},hr.forOwn=function(t,e){return t&&Qr(t,Lo(e,3))},hr.forOwnRight=function(t,e){return t&&Hr(t,Lo(e,3))},hr.get=Zs,hr.gt=ps,hr.gte=ds,hr.has=function(t,e){return null!=t&&Uo(t,e,$r)},hr.hasIn=$s,hr.head=va,hr.identity=xu,hr.includes=function(t,e,n,r){t=vs(t)?t:hu(t),n=n&&!r?qs(n):0;var i=t.length;return n<0&&(n=zn(i+n,0)),Ms(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qs(n);return i<0&&(i=zn(r+i,0)),un(t,e,i)},hr.inRange=function(t,e,n){return e=js(e),n===o?(n=e,e=0):n=js(n),function(t,e,n){return t>=Wn(e,n)&&t<zn(e,n)}(t=Us(t),e,n)},hr.invoke=nu,hr.isArguments=ys,hr.isArray=gs,hr.isArrayBuffer=ms,hr.isArrayLike=vs,hr.isArrayLikeObject=bs,hr.isBoolean=function(t){return!0===t||!1===t||Is(t)&&Xr(t)==z},hr.isBuffer=_s,hr.isDate=ws,hr.isElement=function(t){return Is(t)&&1===t.nodeType&&!As(t)},hr.isEmpty=function(t){if(null==t)return!0;if(vs(t)&&(gs(t)||\"string\"==typeof t||\"function\"==typeof t.splice||_s(t)||Ls(t)||ys(t)))return!t.length;var e=Ko(t);if(e==J||e==nt)return!t.size;if(Jo(t))return!ui(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return ii(t,e)},hr.isEqualWith=function(t,e,n){var r=(n=\"function\"==typeof n?n:o)?n(t,e):o;return r===o?ii(t,e,o,n):!!r},hr.isError=Ss,hr.isFinite=function(t){return\"number\"==typeof t&&Kn(t)},hr.isFunction=Es,hr.isInteger=Ts,hr.isLength=Cs,hr.isMap=Ds,hr.isMatch=function(t,e){return t===e||oi(t,e,Fo(e))},hr.isMatchWith=function(t,e,n){return n=\"function\"==typeof n?n:o,oi(t,e,Fo(e),n)},hr.isNaN=function(t){return xs(t)&&t!=+t},hr.isNative=function(t){if(Yo(t))throw new i(s);return ai(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=xs,hr.isObject=ks,hr.isObjectLike=Is,hr.isPlainObject=As,hr.isRegExp=Os,hr.isSafeInteger=function(t){return Ts(t)&&t>=-R&&t<=R},hr.isSet=Ns,hr.isString=Ms,hr.isSymbol=Rs,hr.isTypedArray=Ls,hr.isUndefined=function(t){return t===o},hr.isWeakMap=function(t){return Is(t)&&Ko(t)==at},hr.isWeakSet=function(t){return Is(t)&&Xr(t)==st},hr.join=function(t,e){return null==t?\"\":Un.call(t,e)},hr.kebabCase=gu,hr.last=Sa,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=qs(n))<0?zn(r+i,0):Wn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):sn(t,ln,i,!0)},hr.lowerCase=mu,hr.lowerFirst=vu,hr.lt=Ps,hr.lte=Fs,hr.max=function(t){return t&&t.length?Kr(t,xu,Zr):o},hr.maxBy=function(t,e){return t&&t.length?Kr(t,Lo(e,2),Zr):o},hr.mean=function(t){return fn(t,xu)},hr.meanBy=function(t,e){return fn(t,Lo(e,2))},hr.min=function(t){return t&&t.length?Kr(t,xu,li):o},hr.minBy=function(t,e){return t&&t.length?Kr(t,Lo(e,2),li):o},hr.stubArray=Ku,hr.stubFalse=Uu,hr.stubObject=function(){return{}},hr.stubString=function(){return\"\"},hr.stubTrue=function(){return!0},hr.multiply=Hu,hr.nth=function(t,e){return t&&t.length?yi(t,qs(e)):o},hr.noConflict=function(){return Me._===this&&(Me._=de),this},hr.noop=Ru,hr.now=Za,hr.pad=function(t,e,n){t=zs(t);var r=(e=qs(e))?On(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return mo(Bn(i),n)+t+mo(Fn(i),n)},hr.padEnd=function(t,e,n){t=zs(t);var r=(e=qs(e))?On(t):0;return e&&r<e?t+mo(e-r,n):t},hr.padStart=function(t,e,n){t=zs(t);var r=(e=qs(e))?On(t):0;return e&&r<e?mo(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Hn(zs(t).replace(Lt,\"\"),e||0)},hr.random=function(t,e,n){if(n&&\"boolean\"!=typeof n&&Qo(t,e,n)&&(e=n=o),n===o&&(\"boolean\"==typeof e?(n=e,e=o):\"boolean\"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=js(t),e===o?(e=t,t=0):e=js(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Gn();return Wn(t+i*(e-t+xe(\"1e-\"+((i+\"\").length-1))),e)}return _i(t,e)},hr.reduce=function(t,e,n){var r=gs(t)?en:dn,i=arguments.length<3;return r(t,Lo(e,4),n,i,Br)},hr.reduceRight=function(t,e,n){var r=gs(t)?nn:dn,i=arguments.length<3;return r(t,Lo(e,4),n,i,jr)},hr.repeat=function(t,e,n){return e=(n?Qo(t,e,n):e===o)?1:qs(e),wi(zs(t),e)},hr.replace=function(){var t=arguments,e=zs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,i=(e=Wi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[ca(e[r])];a===o&&(r=i,a=n),t=Es(a)?a.call(t):a}return t},hr.round=Gu,hr.runInContext=t,hr.sample=function(t){return(gs(t)?Er:Ei)(t)},hr.size=function(t){if(null==t)return 0;if(vs(t))return Ms(t)?On(t):t.length;var e=Ko(t);return e==J||e==nt?t.size:ui(t).length},hr.snakeCase=bu,hr.some=function(t,e,n){var r=gs(t)?rn:Ai;return n&&Qo(t,e,n)&&(e=o),r(t,Lo(e,3))},hr.sortedIndex=function(t,e){return Oi(t,e)},hr.sortedIndexBy=function(t,e,n){return Ni(t,e,Lo(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Oi(t,e);if(r<n&&hs(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return Oi(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Ni(t,e,Lo(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Oi(t,e,!0)-1;if(hs(t[n],e))return n}return-1},hr.startCase=_u,hr.startsWith=function(t,e,n){return t=zs(t),n=null==n?0:Mr(qs(n),0,t.length),e=Li(e),t.slice(n,n+e.length)==e},hr.subtract=Yu,hr.sum=function(t){return t&&t.length?yn(t,xu):0},hr.sumBy=function(t,e){return t&&t.length?yn(t,Lo(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Qo(t,e,n)&&(e=o),t=zs(t),e=Hs({},e,r,Co);var i,a,s=Hs({},e.imports,r.imports,Co),u=ru(s),c=vn(s,u),l=0,f=e.interpolate||Jt,h=\"__p += '\",p=ee((e.escape||Jt).source+\"|\"+f.source+\"|\"+(f===Dt?Ut:Jt).source+\"|\"+(e.evaluate||Jt).source+\"|$\",\"g\"),d=\"//# sourceURL=\"+(ce.call(e,\"sourceURL\")?(e.sourceURL+\"\").replace(/[\\r\\n]/g,\" \"):\"lodash.templateSources[\"+ ++Ce+\"]\")+\"\\n\";t.replace(p,function(e,n,r,o,s,u){return r||(r=o),h+=t.slice(l,u).replace(Xt,Tn),n&&(i=!0,h+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,h+=\"';\\n\"+s+\";\\n__p += '\"),r&&(h+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),l=u+e.length,e}),h+=\"';\\n\";var y=ce.call(e,\"variable\")&&e.variable;y||(h=\"with (obj) {\\n\"+h+\"\\n}\\n\"),h=(a?h.replace(bt,\"\"):h).replace(_t,\"$1\").replace(wt,\"$1;\"),h=\"function(\"+(y||\"obj\")+\") {\\n\"+(y?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+h+\"return __p\\n}\";var g=Tu(function(){return Zt(u,d+\"return \"+h).apply(o,c)});if(g.source=h,Ss(g))throw g;return g},hr.times=function(t,e){if((t=qs(t))<1||t>R)return[];var n=F,r=Wn(t,F);e=Lo(e),t-=F;for(var i=gn(r,e);++n<t;)e(n);return i},hr.toFinite=js,hr.toInteger=qs,hr.toLength=Ks,hr.toLower=function(t){return zs(t).toLowerCase()},hr.toNumber=Us,hr.toSafeInteger=function(t){return t?Mr(qs(t),-R,R):0===t?t:0},hr.toString=zs,hr.toUpper=function(t){return zs(t).toUpperCase()},hr.trim=function(t,e,n){if((t=zs(t))&&(n||e===o))return t.replace(Rt,\"\");if(!t||!(e=Li(e)))return t;var r=Nn(t),i=Nn(e);return Hi(r,_n(r,i),wn(r,i)+1).join(\"\")},hr.trimEnd=function(t,e,n){if((t=zs(t))&&(n||e===o))return t.replace(Pt,\"\");if(!t||!(e=Li(e)))return t;var r=Nn(t);return Hi(r,0,wn(r,Nn(e))+1).join(\"\")},hr.trimStart=function(t,e,n){if((t=zs(t))&&(n||e===o))return t.replace(Lt,\"\");if(!t||!(e=Li(e)))return t;var r=Nn(t);return Hi(r,_n(r,Nn(e))).join(\"\")},hr.truncate=function(t,e){var n=I,r=D;if(ks(e)){var i=\"separator\"in e?e.separator:i;n=\"length\"in e?qs(e.length):n,r=\"omission\"in e?Li(e.omission):r}var a=(t=zs(t)).length;if(Cn(t)){var s=Nn(t);a=s.length}if(n>=a)return t;var u=n-On(r);if(u<1)return r;var c=s?Hi(s,0,u).join(\"\"):t.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Os(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=ee(i.source,zs(Vt.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(Li(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},hr.unescape=function(t){return(t=zs(t))&&Tt.test(t)?t.replace(St,Mn):t},hr.uniqueId=function(t){var e=++le;return zs(t)+e},hr.upperCase=wu,hr.upperFirst=Su,hr.each=za,hr.eachRight=Wa,hr.first=va,Mu(hr,function(){var t={};return Qr(hr,function(e,n){ce.call(hr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),hr.VERSION=\"4.17.15\",He([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(t){hr[t].placeholder=hr}),He([\"drop\",\"take\"],function(t,e){gr.prototype[t]=function(n){n=n===o?1:zn(qs(n),0);var r=this.__filtered__&&!e?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=Wn(n,r.__takeCount__):r.__views__.push({size:Wn(n,F),type:t+(r.__dir__<0?\"Right\":\"\")}),r},gr.prototype[t+\"Right\"]=function(e){return this.reverse()[t](e).reverse()}}),He([\"filter\",\"map\",\"takeWhile\"],function(t,e){var n=e+1,r=n==O||3==n;gr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),He([\"head\",\"last\"],function(t,e){var n=\"take\"+(e?\"Right\":\"\");gr.prototype[t]=function(){return this[n](1).value()[0]}}),He([\"initial\",\"tail\"],function(t,e){var n=\"drop\"+(e?\"\":\"Right\");gr.prototype[t]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(xu)},gr.prototype.find=function(t){return this.filter(t).head()},gr.prototype.findLast=function(t){return this.reverse().find(t)},gr.prototype.invokeMap=Si(function(t,e){return\"function\"==typeof t?new gr(this):this.map(function(n){return ni(n,t,e)})}),gr.prototype.reject=function(t){return this.filter(ss(Lo(t)))},gr.prototype.slice=function(t,e){t=qs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new gr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=qs(e))<0?n.dropRight(-e):n.take(e-t)),n)},gr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},gr.prototype.toArray=function(){return this.take(F)},Qr(gr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=hr[r?\"take\"+(\"last\"==e?\"Right\":\"\"):e],a=r||/^find/.test(e);i&&(hr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof gr,c=s[0],l=u||gs(e),f=function(t){var e=i.apply(hr,tn([t],s));return r&&h?e[0]:e};l&&n&&\"function\"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,y=u&&!p;if(!a&&l){e=y?e:new gr(this);var g=t.apply(e,s);return g.__actions__.push({func:ja,args:[f],thisArg:o}),new yr(g,h)}return d&&y?t.apply(this,s):(g=this.thru(f),d?r?g.value()[0]:g.value():g)})}),He([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(gs(i)?i:[],t)}return this[n](function(n){return e.apply(gs(n)?n:[],t)})}}),Qr(gr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+\"\";ce.call(rr,r)||(rr[r]=[]),rr[r].push({name:e,func:n})}}),rr[ho(o,v).name]=[{name:\"wrapper\",func:o}],gr.prototype.clone=function(){var t=new gr(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},gr.prototype.reverse=function(){if(this.__filtered__){var t=new gr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},gr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=gs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case\"drop\":t+=a;break;case\"dropRight\":e-=a;break;case\"take\":e=Wn(e,t+a);break;case\"takeRight\":t=zn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=Wn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return qi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var y=-1,g=t[c+=e];++y<f;){var m=l[y],v=m.iteratee,b=m.type,_=v(g);if(b==N)g=_;else if(!_){if(b==O)continue t;break t}}d[h++]=g}return d},hr.prototype.at=qa,hr.prototype.chain=function(){return Ba(this)},hr.prototype.commit=function(){return new yr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Bs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof dr;){var r=fa(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof gr){var e=t;return this.__actions__.length&&(e=new gr(this)),(e=e.reverse()).__actions__.push({func:ja,args:[ka],thisArg:o}),new yr(e,this.__chain__)}return this.thru(ka)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return qi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Fe&&(hr.prototype[Fe]=function(){return this}),hr}();Me._=Rn,(i=function(){return Rn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(\"yLpj\"),n(\"YuTi\")(t))},M6rc:function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"JPcv\").Map,o={add:function(t,e,n){return a(t,e,n,!0)},remove:function(t,e,n){return a(t,e,n,!1)}};function a(t,e,n,o){var a=t.getBlockMap(),s=e.getStartKey(),u=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),f=a.skipUntil(function(t,e){return e===s}).takeUntil(function(t,e){return e===c}).concat(i([[c,a.get(c)]])).map(function(t,e){var i,a;s===c?(i=u,a=l):(i=e===s?u:0,a=e===c?l:t.getLength());for(var f,h=t.getCharacterList();i<a;)f=h.get(i),h=h.set(i,o?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return t.set(\"characterList\",h)});return t.merge({blockMap:a.merge(f),selectionBefore:e,selectionAfter:e})}t.exports=o},MI3g:function(t,e,n){\"use strict\";var r=n(\"XVgq\"),i=n.n(r),o=n(\"Z7t5\"),a=n.n(o);function s(t){return(s=\"function\"===typeof a.a&&\"symbol\"===typeof i.a?function(t){return typeof t}:function(t){return t&&\"function\"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?\"symbol\":typeof t})(t)}var u=n(\"AT/M\");function c(t,e){return!e||\"object\"!==s(e)&&\"function\"!==typeof e?Object(u.a)(t):e}n.d(e,\"a\",function(){return c})},MPKC:function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\");t.exports=function(t){var e=r.splitBlock(t.getCurrentContent(),t.getSelection());return i.push(t,e,\"split-block\")}},MbRH:function(t,e,n){\"use strict\";t.exports=function(t){if(!t||!(\"ownerDocument\"in t))return!1;if(\"ownerDocument\"in t){var e=t;if(!e.ownerDocument.defaultView)return e instanceof Node;if(e instanceof e.ownerDocument.defaultView.Node)return!0}return!1}},Mh8y:function(t,e,n){\"use strict\";var r=n(\"JPcv\").Map;t.exports=function(t,e,n){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===o}).concat(r([[o,a.get(o)]])).map(n);return t.merge({blockMap:a.merge(s),selectionBefore:e,selectionAfter:e})}},MxAa:function(t,e,n){\"use strict\";t.exports=function(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}},NQV1:function(t,e,n){\"use strict\";var r={isImage:function(t){return\"image\"===i(t)[0]},isJpeg:function(t){var e=i(t);return r.isImage(t)&&(\"jpeg\"===e[1]||\"pjpeg\"===e[1])}};function i(t){return t.split(\"/\")}t.exports=r},NgHg:function(t,e,n){\"use strict\";var r=/-(.)/g;t.exports=function(t){return t.replace(r,function(t,e){return e.toUpperCase()})}},\"Nx4+\":function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"AKPT\"),a=n(\"gWRK\"),s={currentBlockContainsLink:function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(e.getAnchorKey()).getCharacterList().slice(e.getStartOffset(),e.getEndOffset()).some(function(t){var e=t.getEntity();return!!e&&\"LINK\"===r.__get(e).getType()})},getCurrentBlockType:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,e,n){switch(e){case\"bold\":return s.toggleInlineStyle(t,\"BOLD\");case\"italic\":return s.toggleInlineStyle(t,\"ITALIC\");case\"underline\":return s.toggleInlineStyle(t,\"UNDERLINE\");case\"code\":return s.toggleCode(t);case\"backspace\":case\"backspace-word\":case\"backspace-to-start-of-line\":return s.onBackspace(t);case\"delete\":case\"delete-word\":case\"delete-to-end-of-block\":return s.onDelete(t);default:return null}},insertSoftNewline:function(t){var e=r.insertText(t.getCurrentContent(),t.getSelection(),\"\\n\",t.getCurrentInlineStyle(),null),n=i.push(t,e,\"insert-characters\");return i.forceSelection(n,e.getSelectionAfter())},onBackspace:function(t){var e=t.getSelection();if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockBefore(r);if(o&&\"atomic\"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),u=n.merge({blockMap:a,selectionAfter:e});if(u!==n)return i.push(t,u,\"remove-range\")}var c=s.tryToRemoveBlockStyle(t);return c?i.push(t,c,\"change-block-type\"):null},onDelete:function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var n=t.getCurrentContent(),o=e.getStartKey(),a=n.getBlockForKey(o).getLength();if(e.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||\"atomic\"!==s.getType())return null;var u=e.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),c=r.removeRange(n,u,\"forward\");return c!==n?i.push(t,c,\"remove-range\"):null},onTab:function(t,e,n){var r=e.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return e;var s=e.getCurrentContent(),u=s.getBlockForKey(a),c=u.getType();if(\"unordered-list-item\"!==c&&\"ordered-list-item\"!==c)return e;t.preventDefault();var l=u.getDepth();if(!t.shiftKey&&l===n)return e;var f=o(s,r,t.shiftKey?-1:1,n);return i.push(e,f,\"adjust-depth\")},toggleBlockType:function(t,e){var n=t.getSelection(),o=n.getStartKey(),s=n.getEndKey(),u=t.getCurrentContent(),c=n;if(o!==s&&0===n.getEndOffset()){var l=a(u.getBlockBefore(s));s=l.getKey(),c=c.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:l.getLength(),isBackward:!1})}if(u.getBlockMap().skipWhile(function(t,e){return e!==o}).reverse().skipWhile(function(t,e){return e!==s}).some(function(t){return\"atomic\"===t.getType()}))return t;var f=u.getBlockForKey(o).getType()===e?\"unstyled\":e;return i.push(t,r.setBlockType(u,c,f),\"change-block-type\")},toggleCode:function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=e.getFocusKey();return e.isCollapsed()||n!==r?s.toggleBlockType(t,\"code-block\"):s.toggleInlineStyle(t,\"CODE\")},toggleInlineStyle:function(t,e){var n=t.getSelection(),o=t.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(t,o.has(e)?o.remove(e):o.add(e));var a,s=t.getCurrentContent();return a=o.has(e)?r.removeInlineStyle(s,n,e):r.applyInlineStyle(s,n,e),i.push(t,a,\"change-inline-style\")},toggleLink:function(t,e,n){var o=r.applyEntity(t.getCurrentContent(),e,n);return i.push(t,o,\"apply-entity\")},tryToRemoveBlockStyle:function(t){var e=t.getSelection(),n=e.getAnchorOffset();if(e.isCollapsed()&&0===n){var i=e.getAnchorKey(),o=t.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if(\"code-block\"===a&&s&&\"code-block\"===s.getType()&&0!==s.getLength())return null;if(\"unstyled\"!==a)return r.setBlockType(o,e,\"unstyled\")}return null}};t.exports=s},O4zn:function(t,e,n){\"use strict\";var r=n(\"m75S\"),i=n(\"FcOR\"),o=n(\"CYTE\"),a=n(\"TWoB\"),s=n(\"jl2H\"),u=n(\"F09w\"),c=n(\"2NuI\"),l=n(\"GyOf\"),f=o.isBrowser(\"IE\");function h(t,e){if(!t)return\"[empty]\";var n=function t(e,n){var r=void 0!==n?n(e):[];if(e.nodeType===Node.TEXT_NODE){var i=e.textContent.length;return u(e).createTextNode(\"[text \"+i+(r.length?\" | \"+r.join(\", \"):\"\")+\"]\")}var o=e.cloneNode();1===o.nodeType&&r.length&&o.setAttribute(\"data-labels\",r.join(\", \"));var a=e.childNodes;for(var s=0;s<a.length;s++)o.appendChild(t(a[s],n));return o}(t,e);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||c(!1),n.outerHTML)}function p(t,e){for(var n=t,r=n;n;){if(l(n)&&r.hasAttribute(\"contenteditable\"))return h(n,e);r=n=n.parentNode}return\"Could not find contentEditable parent of node\"}function d(t){return null===t.nodeValue?t.childNodes.length:t.nodeValue.length}function y(t,e,n,r){var o=s();if(t.extend&&a(o,e)){n>d(e)&&i.logSelectionStateFailure({anonymizedDom:p(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var u=e===t.focusNode;try{t.extend(e,n)}catch(l){throw i.logSelectionStateFailure({anonymizedDom:p(e,function(e){var n=[];return e===o&&n.push(\"active element\"),e===t.anchorNode&&n.push(\"selection anchor node\"),e===t.focusNode&&n.push(\"selection focus node\"),n}),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:e===t.focusNode,nodeWasFocus:u,selectionRangeCount:t.rangeCount,selectionAnchorNodeName:t.anchorNode?t.anchorNode.nodeName:null,selectionAnchorOffset:t.anchorOffset,selectionFocusNodeName:t.focusNode?t.focusNode.nodeName:null,selectionFocusOffset:t.focusOffset,message:l?\"\"+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(t.rangeCount>0){var c=t.getRangeAt(0);c.setEnd(e,n),t.addRange(c.cloneRange())}}function g(t,e,n,o){var a=u(e).createRange();if(n>d(e)&&(i.logSelectionStateFailure({anonymizedDom:p(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(e,n),f)try{t.addRange(a)}catch(s){0}else t.addRange(a)}t.exports={setDraftEditorSelection:function(t,e,n,r,i){var o=u(e);if(a(o.documentElement,e)){var s=o.defaultView.getSelection(),c=t.getAnchorKey(),l=t.getAnchorOffset(),f=t.getFocusKey(),h=t.getFocusOffset(),p=t.getIsBackward();if(!s.extend&&p){var d=c,m=l;c=f,l=h,f=d,h=m,p=!1}var v=c===n&&r<=l&&i>=l,b=f===n&&r<=h&&i>=h;if(v&&b)return s.removeAllRanges(),g(s,e,l-r,t),void y(s,e,h-r,t);if(p){if(b&&(s.removeAllRanges(),g(s,e,h-r,t)),v){var _=s.focusNode,w=s.focusOffset;s.removeAllRanges(),g(s,e,l-r,t),y(s,_,w,t)}}else v&&(s.removeAllRanges(),g(s,e,l-r,t)),b&&y(s,e,h-r,t)}},addFocusToSelection:y}},OLzA:function(t,e,n){\"use strict\";t.exports=function(t){return!(!t||!t.ownerDocument)&&(t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement)}},PFU8:function(t,e,n){\"use strict\";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(\"rJY1\"),a=n(\"2NuI\"),s=function(t){if(!t||!t.type)return!1;var e=t.type;return\"unordered-list-item\"===e||\"ordered-list-item\"===e},u={fromRawTreeStateToRawState:function(t){var e=t.blocks,n=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(t,e){for(var n=[].concat(t).reverse();n.length;){var r=n.pop();e(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(e,function(t){var e=r({},t);s(t)&&(e.depth=e.depth||0,function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(e){return e.type===t.type?r({},e,{depth:(t.depth||0)+1}):e}))}(t),null!=t.children&&t.children.length>0)||(delete e.children,n.push(e))}),t.blocks=n,r({},t,{blocks:n})):t},fromRawStateToRawTreeState:function(t){var e=[],n=[];return t.blocks.forEach(function(t){var i=s(t),a=t.depth||0,u=r({},t,{children:[]});if(i){var c=n[0];if(null==c&&0===a)e.push(u);else if(null==c||c.depth<a-1){var l={key:o(),text:\"\",depth:a-1,type:t.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===a?e.push(l):null!=c&&c.children.push(l),l.children.push(u)}else if(c.depth===a-1)c.children.push(u);else{for(;null!=c&&c.depth>=a;)n.shift(),c=n[0];a>0?c.children.push(u):e.push(u)}}else e.push(u)}),r({},t,{blocks:e})}};t.exports=u},PQhE:function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"8uQm\"),o=n(\"JL7T\"),a=n(\"1qq2\"),s=n(\"rJY1\"),u=n(\"xocI\"),c=n(\"cwFY\"),l=n(\"JPcv\"),f=n(\"HriT\"),h=l.List,p=l.Repeat,d=c(\"draft_tree_data_support\"),y=d?o:i,g={processHTML:function(t,e){return a(t,u,e)},processText:function(t,e,n){return t.reduce(function(t,i,o){i=f(i);var a=s(),u={key:a,type:n,text:i,characterList:h(p(e,i.length))};if(d&&0!==o){var c=o-1;u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},u,{prevSibling:(t[c]=t[c].merge({nextSibling:a})).getKey()})}return t.push(new y(u)),t},[])}};t.exports=g},QDEm:function(t,e,n){\"use strict\";var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(\"Iq8E\"),a=n(\"q1tI\"),s=n(\"fZAc\"),u=n(\"mjHj\"),c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this.props,e=t.block,n=t.children,r=t.contentState,c=t.decorator,l=t.decoratorKey,f=t.direction,h=t.leafSet,p=t.text,d=e.getKey(),y=h.get(\"leaves\"),g=c.getComponentForKey(l),m=c.getPropsForKey(l),v=o.encode(d,parseInt(l,10),0),b=p.slice(y.first().get(\"start\"),y.last().get(\"end\")),_=u.getHTMLDirIfDifferent(s.getDirection(b),f);return a.createElement(g,i({},m,{contentState:r,decoratedText:b,dir:_,key:v,entityKey:e.getEntityAt(h.get(\"start\")),offsetKey:v}),n)},r}(a.Component);t.exports=c},QfTi:function(t,e,n){\"use strict\";var r=n(\"2NuI\"),i=/\\./,o=/\\|\\|/,a=/\\s+\\-\\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\\s*(.+)/,u=/^(\\d*)(.*)/;function c(t,e){var n=t.split(o);return n.length>1?n.some(function(t){return _.contains(t,e)}):function(t,e){var n=t.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return l(n[0],e);var i=n[0],o=n[1];return y(i)&&y(o)||r(!1),l(\">=\"+i,e)&&l(\"<=\"+o,e)}(t=n[0].trim(),e)}function l(t,e){if(\"\"===(t=t.trim()))return!0;var n=e.split(i),r=p(t),o=r.modifier,a=r.rangeComponents;switch(o){case\"<\":return f(n,a);case\"<=\":return function(t,e){var n=b(t,e);return-1===n||0===n}(n,a);case\">=\":return h(n,a);case\">\":return 1===b(n,a);case\"~\":case\"~>\":return function(t,e){var n=e.slice(),r=e.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);d(o)&&(r[i]=o+1+\"\");return h(t,n)&&f(t,r)}(n,a);default:return function(t,e){return 0===b(t,e)}(n,a)}}function f(t,e){return-1===b(t,e)}function h(t,e){var n=b(t,e);return 1===n||0===n}function p(t){var e=t.split(i),n=e[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(e.slice(1))}}function d(t){return!isNaN(t)&&isFinite(t)}function y(t){return!p(t).modifier}function g(t,e){for(var n=t.length;n<e;n++)t[n]=\"0\"}function m(t,e){var n=t.match(u)[1],r=e.match(u)[1],i=parseInt(n,10),o=parseInt(r,10);return d(i)&&d(o)&&i!==o?v(i,o):v(t,e)}function v(t,e){return typeof t!==typeof e&&r(!1),t>e?1:t<e?-1:0}function b(t,e){for(var n=function(t,e){g(t=t.slice(),(e=e.slice()).length);for(var n=0;n<e.length;n++){var r=e[n].match(/^[x*]$/i);if(r&&(e[n]=t[n]=\"0\",\"*\"===r[0]&&n===e.length-1))for(var i=n;i<t.length;i++)t[i]=\"0\"}return g(e,t.length),[t,e]}(t,e),r=n[0],i=n[1],o=0;o<i.length;o++){var a=m(r[o],i[o]);if(a)return a}return 0}var _={contains:function(t,e){return c(t.trim(),e.trim())}};t.exports=_},QvxS:function(t,e,n){\"use strict\";var r=n(\"NQV1\"),i=n(\"qy1W\"),o=n(\"ohE5\"),a=new RegExp(\"\\r\\n\",\"g\"),s={\"text/rtf\":1,\"text/html\":1};function u(t){if(\"file\"==t.kind)return t.getAsFile()}var c=function(){function t(t){this.data=t,this.types=t.types?i(t.types):[]}var e=t.prototype;return e.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return s[t]})},e.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf(\"text/plain\")&&(t=this.data.getData(\"text/plain\")):t=this.data.getData(\"Text\")),t?t.replace(a,\"\\n\"):null},e.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData(\"Text\");if(-1!=this.types.indexOf(\"text/html\"))return this.data.getData(\"text/html\")}},e.isLink=function(){return this.types.some(function(t){return-1!=t.indexOf(\"Url\")||-1!=t.indexOf(\"text/uri-list\")||t.indexOf(\"text/x-moz-url\")})},e.getLink=function(){return this.data.getData?-1!=this.types.indexOf(\"text/x-moz-url\")?this.data.getData(\"text/x-moz-url\").split(\"\\n\")[0]:-1!=this.types.indexOf(\"text/uri-list\")?this.data.getData(\"text/uri-list\"):this.data.getData(\"url\"):null},e.isImage=function(){var t=this.types.some(function(t){return-1!=t.indexOf(\"application/x-moz-file\")});if(t)return!0;for(var e=this.getFiles(),n=0;n<e.length;n++){var i=e[n].type;if(!r.isImage(i))return!1}return!0},e.getCount=function(){return this.data.hasOwnProperty(\"items\")?this.data.items.length:this.data.hasOwnProperty(\"mozItemCount\")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(u).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=c},RCR6:function(t,e,n){\"use strict\";var r=n(\"jLRO\"),i=n(\"JPcv\").OrderedSet,o=r.substr,a=i();t.exports=function(t,e){var n=Array(t.length).fill(a);return e&&e.forEach(function(e){for(var r=o(t,0,e.offset).length,i=r+o(t,e.offset,e.length).length;r<i;)n[r]=n[r].add(e.style),r++}),n}},\"RK+W\":function(t,e,n){\"use strict\";var r=/\\r\\n?|\\n/g;t.exports=function(t){return t.split(r)}},\"RRc/\":function(t,e,n){var r=n(\"oioR\");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},S5bm:function(t,e,n){\"use strict\";var r=n(\"NgHg\"),i=n(\"+aGp\");function o(t){return null==t?t:String(t)}t.exports=function(t,e){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(t,null)))return o(n.getPropertyValue(i(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(t,null))return o(n.getPropertyValue(i(e)));if(\"display\"===e)return\"none\"}return t.currentStyle?o(\"float\"===e?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[r(e)]):o(t.style&&t.style[r(e)])}},SD04:function(t,e,n){t.exports=n(\"UDep\")},SF5q:function(t,e,n){\"use strict\";var r=\"\\\\s|(?![_])\"+n(\"evZB\").getPunctuation(),i=new RegExp(\"^(?:\"+r+\")*(?:['\\u2018\\u2019]|(?!\"+r+\").)*(?:(?!\"+r+\").)\"),o=new RegExp(\"(?:(?!\"+r+\").)(?:['\\u2018\\u2019]|(?!\"+r+\").)*(?:\"+r+\")*$\");function a(t,e){var n=e?o.exec(t):i.exec(t);return n?n[0]:t}var s={getBackward:function(t){return a(t,!0)},getForward:function(t){return a(t,!1)}};t.exports=s},SQ0G:function(t,e,n){\"use strict\";var r=n(\"94Z+\");t.exports=function(t){return r(t)&&3==t.nodeType}},SYhp:function(t,e,n){\"use strict\";var r=n(\"3sOJ\");t.exports=function(t,e,n){var i=r.undo(e);if(\"spellcheck-change\"!==e.getLastChangeType())t.preventDefault(),e.getNativelyRenderedContent()?(n(r.set(e,{nativelyRenderedContent:null})),setTimeout(function(){n(i)},0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},T401:function(t,e,n){\"use strict\";t.exports=function(t){return\"handled\"===t||!0===t}},T8I8:function(t,e){t.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/},TRZx:function(t,e,n){t.exports=n(\"pDh1\")},TWoB:function(t,e,n){\"use strict\";var r=n(\"SQ0G\");t.exports=function t(e,n){return!(!e||!n)&&(e===n||!r(e)&&(r(n)?t(e,n.parentNode):\"contains\"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}},Taje:function(t,e,n){\"use strict\";t.exports=function(t,e,n,r){if(t.size){var i=0;t.reduce(function(t,o,a){return e(t,o)||(n(t)&&r(i,a),i=a),o}),n(t.last())&&r(i,t.count())}}},Tit0:function(t,e,n){\"use strict\";var r=n(\"SqZg\"),i=n.n(r),o=n(\"TRZx\"),a=n.n(o);function s(t,e){return(s=a.a||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=i()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}n.d(e,\"a\",function(){return u})},TlXQ:function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"JPcv\").List;t.exports=function(t,e){var n=t.map(function(t,n){var i=e[n];return r.create({style:t,entity:i})});return i(n)}},\"TzU/\":function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(\"qnky\"),o=n(\"JPcv\"),a=n(\"2NuI\"),s=(0,o.Map)(),u=0;function c(t,e){console.warn(\"WARNING: \"+t+' will be deprecated soon!\\nPlease use \"'+e+'\" instead.')}var l={getLastCreatedEntityKey:function(){return c(\"DraftEntity.getLastCreatedEntityKey\",\"contentState.getLastCreatedEntityKey\"),l.__getLastCreatedEntityKey()},create:function(t,e,n){return c(\"DraftEntity.create\",\"contentState.createEntity\"),l.__create(t,e,n)},add:function(t){return c(\"DraftEntity.add\",\"contentState.addEntity\"),l.__add(t)},get:function(t){return c(\"DraftEntity.get\",\"contentState.getEntity\"),l.__get(t)},mergeData:function(t,e){return c(\"DraftEntity.mergeData\",\"contentState.mergeEntityData\"),l.__mergeData(t,e)},replaceData:function(t,e){return c(\"DraftEntity.replaceData\",\"contentState.replaceEntityData\"),l.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return\"\"+u},__create:function(t,e,n){return l.__add(new i({type:t,mutability:e,data:n||{}}))},__add:function(t){var e=\"\"+ ++u;return s=s.set(e,t),e},__get:function(t){var e=s.get(t);return e||a(!1),e},__mergeData:function(t,e){var n=l.__get(t),i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},n.getData(),e),o=n.set(\"data\",i);return s=s.set(t,o),o},__replaceData:function(t,e){var n=l.__get(t).set(\"data\",e);return s=s.set(t,n),n}};t.exports=l},U84a:function(t,e,n){\"use strict\";var r=n(\"dyxW\"),i=n(\"jLRO\").strlen;t.exports=function(t,e){var n=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(o,a){var s=t.getText(),u=t.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(e[r.stringify(u)])})}),n}},UDep:function(t,e,n){n(\"wgeU\"),n(\"FlQf\"),n(\"bBy9\"),n(\"g33z\"),n(\"XLbu\"),n(\"/h46\"),n(\"dVTT\"),t.exports=n(\"WEpk\").Map},V7Et:function(t,e,n){var r=n(\"2GTP\"),i=n(\"M1xp\"),o=n(\"JB68\"),a=n(\"tEej\"),s=n(\"v6xn\");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var y,g,m=o(e),v=i(m),b=r(s,d,3),_=a(v.length),w=0,S=n?p(e,_):u?p(e,0):void 0;_>w;w++)if((h||w in v)&&(g=b(y=v[w],w,m),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:S.push(y)}else if(l)return!1;return f?-1:c||l?l:S}}},V8dp:function(t,e,n){\"use strict\";var r=n(\"JL7T\"),i=n(\"rJY1\"),o=n(\"JPcv\").OrderedMap;t.exports=function(t){return t.first()instanceof r?function(t){var e,n={};return o(t.withMutations(function(t){t.forEach(function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),u=r.getPrevSiblingKey(),c=r.getChildKeys(),l=r.getParentKey(),f=i();if(n[a]=f,s&&(t.get(s)?t.setIn([s,\"prevSibling\"],f):t.setIn([a,\"nextSibling\"],null)),u&&(t.get(u)?t.setIn([u,\"nextSibling\"],f):t.setIn([a,\"prevSibling\"],null)),l&&t.get(l)){var h=t.get(l).getChildKeys();t.setIn([l,\"children\"],h.set(h.indexOf(r.getKey()),f))}else t.setIn([a,\"parent\"],null),e&&(t.setIn([e.getKey(),\"nextSibling\"],f),t.setIn([a,\"prevSibling\"],n[e.getKey()])),e=t.get(a);c.forEach(function(e){t.get(e)?t.setIn([e,\"parent\"],f):t.setIn([a,\"children\"],r.getChildKeys().filter(function(t){return t!==e}))})})}).toArray().map(function(t){return[n[t.getKey()],t.set(\"key\",n[t.getKey()])]}))}(t):function(t){return o(t.toArray().map(function(t){var e=i();return[e,t.set(\"key\",e)]}))}(t)}},VSmT:function(t,e,n){\"use strict\";var r,i=n(\"I8OZ\"),o=n(\"JPcv\"),a=n(\"gWRK\"),s=o.OrderedMap,u={getDirectionMap:function(t,e){r?r.reset():r=new i;var n=t.getBlockMap(),u=n.valueSeq().map(function(t){return a(r).getDirection(t.getText())}),c=s(n.keySeq().zip(u));return null!=e&&o.is(e,c)?e:c}};t.exports=u},VTBg:function(t,e,n){\"use strict\";var r=n(\"JL7T\");t.exports=function(t,e){if(!(t instanceof r))return null;var n=t.getNextSiblingKey();if(n)return n;var i=t.getParentKey();if(!i)return null;for(var o=e.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?e.get(a):null}return o?o.getNextSiblingKey():null}},WJOU:function(t,e,n){\"use strict\";var r=n(\"FcOR\"),i=n(\"3sOJ\"),o=n(\"0IKU\"),a=n(\"Zgb7\");t.exports=function(t){if(t._blockSelectEvents||t._latestEditorState!==t.props.editorState){if(t._blockSelectEvents){var e=t.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:\"N/A\",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(e.toJS())})}}else{var n=t.props.editorState,s=a(n,o(t)),u=s.selectionState;u!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,u):i.acceptSelection(n,u),t.update(n))}}},WLG0:function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(\"q1tI\"),a=n(\"CYTE\"),s=n(\"2NuI\"),u=n(\"GyOf\"),c=a.isBrowser(\"IE <= 11\");var l=function(t){var e,n;function a(e){var n;return i(r(n=t.call(this,e)||this),\"_forceFlag\",void 0),i(r(n),\"_node\",void 0),n._forceFlag=!1,n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=a.prototype;return l.shouldComponentUpdate=function(t){var e=this._node,n=\"\"===t.children;u(e)||s(!1);var r=e;return n?!function(t){return c?\"\\n\"===t.textContent:\"BR\"===t.tagName}(r):r.textContent!==t.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var t,e=this;return\"\"===this.props.children?this._forceFlag?(t=function(t){return e._node=t},c?o.createElement(\"span\",{key:\"A\",\"data-text\":\"true\",ref:t},\"\\n\"):o.createElement(\"br\",{key:\"A\",\"data-text\":\"true\",ref:t})):function(t){return c?o.createElement(\"span\",{key:\"B\",\"data-text\":\"true\",ref:t},\"\\n\"):o.createElement(\"br\",{key:\"B\",\"data-text\":\"true\",ref:t})}(function(t){return e._node=t}):o.createElement(\"span\",{key:this._forceFlag?\"A\":\"B\",\"data-text\":\"true\",ref:function(t){return e._node=t}},this.props.children)},a}(o.Component);t.exports=l},WSfB:function(t,e,n){n(\"k8Q4\"),n(\"tCzM\"),t.exports=n(\"/aHj\").f(\"iterator\")},WaGC:function(t,e,n){\"use strict\";t.exports=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}},Wkzk:function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"DYKh\"),a=n(\"gWRK\"),s=null,u={cut:function(t){var e=t.getCurrentContent(),n=t.getSelection(),u=null;if(n.isCollapsed()){var c=n.getAnchorKey(),l=e.getBlockForKey(c).getLength();if(l===n.getAnchorOffset()){var f=e.getKeyAfter(c);if(null==f)return t;u=n.set(\"focusKey\",f).set(\"focusOffset\",0)}else u=n.set(\"focusOffset\",l)}else u=n;u=a(u),s=o(e,u);var h=r.removeRange(e,u,\"forward\");return h===e?t:i.push(t,h,\"remove-range\")},paste:function(t){if(!s)return t;var e=r.replaceWithFragment(t.getCurrentContent(),t.getSelection(),s);return i.push(t,e,\"insert-fragment\")}};t.exports=u},Wu5q:function(t,e,n){\"use strict\";var r=n(\"2faE\").f,i=n(\"oVml\"),o=n(\"XJU/\"),a=n(\"2GTP\"),s=n(\"EXMj\"),u=n(\"oioR\"),c=n(\"MPFp\"),l=n(\"UO39\"),f=n(\"TJWN\"),h=n(\"jmDH\"),p=n(\"6/1s\").fastKey,d=n(\"n3ko\"),y=h?\"_s\":\"size\",g=function(t,e){var n,r=p(e);if(\"F\"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,\"_i\"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=d(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[y]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(d(this,e),t)}}),h&&r(l.prototype,\"size\",{get:function(){return d(this,e)[y]}}),l},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,\"F\"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,\"keys\"==t?e.k:\"values\"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?\"entries\":\"values\",!n,!0),f(e)}}},XLbu:function(t,e,n){var r=n(\"Y7ZC\");r(r.P+r.R,\"Map\",{toJSON:n(\"8iia\")(\"Map\")})},XVgq:function(t,e,n){t.exports=n(\"WSfB\")},\"Y/kH\":function(t,e,n){\"use strict\";t.exports=function(t){t._internalDrag=!0,t.setMode(\"drag\")}},Y3PQ:function(t,e,n){\"use strict\";var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(\"DthY\"),u=n(\"Iq8E\"),c=n(\"q1tI\"),l=n(\"YVIB\"),f=n(\"faBS\"),h=n(\"gWRK\"),p=function(t,e,n,r){return l({\"public/DraftStyleDefault/unorderedListItem\":\"unordered-list-item\"===t,\"public/DraftStyleDefault/orderedListItem\":\"ordered-list-item\"===t,\"public/DraftStyleDefault/reset\":n,\"public/DraftStyleDefault/depth0\":0===e,\"public/DraftStyleDefault/depth1\":1===e,\"public/DraftStyleDefault/depth2\":2===e,\"public/DraftStyleDefault/depth3\":3===e,\"public/DraftStyleDefault/depth4\":e>=4,\"public/DraftStyleDefault/listLTR\":\"LTR\"===r,\"public/DraftStyleDefault/listRTL\":\"RTL\"===r})},d=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=e.getCurrentContent(),s=n.getCurrentContent(),u=e.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},a.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,a=t.customStyleMap,l=t.customStyleFn,d=t.editorState,y=t.editorKey,g=t.textDirectionality,m=d.getCurrentContent(),v=d.getSelection(),b=d.mustForceSelection(),_=d.getDecorator(),w=h(d.getDirectionMap()),S=m.getBlocksAsArray(),E=[],T=null,C=null,k=0;k<S.length;k++){var I=S[k],D=I.getKey(),x=I.getType(),A=n(I),O=void 0,N=void 0,M=void 0;A&&(O=A.component,N=A.props,M=A.editable);var R=g||w.get(D),L=u.encode(D,0,0),P={contentState:m,block:I,blockProps:N,blockStyleFn:r,customStyleMap:a,customStyleFn:l,decorator:_,direction:R,forceSelection:b,offsetKey:L,selection:v,tree:d.getBlockTree(D)},F=e.get(x)||e.get(\"unstyled\"),B=F.wrapper,j=F.element||e.get(\"unstyled\").element,q=I.getDepth(),K=\"\";if(r&&(K=r(I)),\"li\"===j)K=f(K,p(x,q,C!==B||null===T||q>T,R));var U=O||s,V={className:K,\"data-block\":!0,\"data-editor\":y,\"data-offset-key\":L,key:D};void 0!==M&&(V=o({},V,{contentEditable:M,suppressContentEditableWarning:!0}));var z=c.createElement(j,V,c.createElement(U,i({},P,{key:D})));E.push({block:z,wrapperTemplate:B,key:D,offsetKey:L}),T=B?I.getDepth():null,C=B}for(var W=[],Q=0;Q<E.length;){var H=E[Q];if(H.wrapperTemplate){var G=[];do{G.push(E[Q].block),Q++}while(Q<E.length&&E[Q].wrapperTemplate===H.wrapperTemplate);var Y=c.cloneElement(H.wrapperTemplate,{key:H.key+\"-wrap\",\"data-offset-key\":H.offsetKey},G);W.push(Y)}else W.push(H.block),Q++}return c.createElement(\"div\",{\"data-contents\":\"true\"},W)},r}(c.Component);t.exports=d},YBdB:function(t,e,n){(function(t,e){!function(t,n){\"use strict\";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,\"[object process]\"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage(\"\",\"*\"),t.onmessage=n,e}}()?function(){var e=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===t&&\"string\"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener(\"message\",n,!1):t.attachEvent(\"onmessage\",n),r=function(n){t.postMessage(e+n,\"*\")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&\"onreadystatechange\"in s.createElement(\"script\")?function(){var t=s.documentElement;r=function(e){var n=s.createElement(\"script\");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){\"function\"!==typeof t&&(t=new Function(\"\"+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}(\"undefined\"===typeof self?\"undefined\"===typeof t?this:t:self)}).call(this,n(\"yLpj\"),n(\"8oxB\"))},YDMw:function(t,e,n){\"use strict\";var r=n(\"hyAj\");t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(r(t._latestEditorState))}},YFqc:function(t,e,n){t.exports=n(\"cTJO\")},YUem:function(t,e,n){\"use strict\";var r=n(\"SF5q\"),i=n(\"3sOJ\"),o=n(\"DEWG\"),a=n(\"8d//\");t.exports=function(t){var e=a(t,function(t){var e=t.getSelection(),n=e.getStartOffset(),i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(t,s.length||1)},\"forward\");return e===t.getCurrentContent()?t:i.push(t,e,\"remove-range\")}},YVIB:function(t,e,n){\"use strict\";function r(t){return t.replace(/\\//g,\"-\")}t.exports=function(t){return\"object\"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(r).join(\" \"):Array.prototype.map.call(arguments,r).join(\" \")}},YeVe:function(t,e,n){\"use strict\";var r=n(\"JPcv\").OrderedMap,i={createFromArray:function(t){return r(t.map(function(t){return[t.getKey(),t]}))}};t.exports=i},YrFj:function(t,e,n){\"use strict\";var r=n(\"MgzW\");function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(\"C8qk\"),a=n(\"Iq8E\"),s=n(\"q1tI\"),u=n(\"gWRK\"),c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=r.prototype;return c.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=e.getCurrentContent(),s=n.getCurrentContent(),u=e.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},c.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,c=t.customStyleMap,l=t.customStyleFn,f=t.editorState,h=t.editorKey,p=t.textDirectionality,d=f.getCurrentContent(),y=f.getSelection(),g=f.mustForceSelection(),m=f.getDecorator(),v=u(f.getDirectionMap()),b=[],_=d.getBlocksAsArray()[0];_;){var w=_.getKey(),S={blockRenderMap:e,blockRendererFn:n,blockStyleFn:r,contentState:d,customStyleFn:l,customStyleMap:c,decorator:m,editorKey:h,editorState:f,forceSelection:g,selection:y,block:_,direction:p||v.get(w),tree:f.getBlockTree(w)},E=(e.get(_.getType())||e.get(\"unstyled\")).wrapper;b.push({block:s.createElement(o,i({key:w},S)),wrapperTemplate:E,key:w,offsetKey:a.encode(w,0,0)});var T=_.getNextSiblingKey();_=T?d.getBlockForKey(T):null}for(var C=[],k=0;k<b.length;){var I=b[k];if(I.wrapperTemplate){var D=[];do{D.push(b[k].block),k++}while(k<b.length&&b[k].wrapperTemplate===I.wrapperTemplate);var x=s.cloneElement(I.wrapperTemplate,{key:I.key+\"-wrap\",\"data-offset-key\":I.offsetKey},D);C.push(x)}else C.push(I.block),k++}return s.createElement(\"div\",{\"data-contents\":\"true\"},C)},r}(s.Component);t.exports=c},Yrnb:function(t,e,n){\"use strict\";t.exports=function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),i=e.getStartOffset(),o=!1;return r.some(function(t){return i===t.get(\"start\")?(o=!0,!0):i<t.get(\"end\")&&t.get(\"leaves\").some(function(t){var e=t.get(\"start\");return i===e&&(o=!0,!0)})}),o}},YvMK:function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function(t,e){if(i(t,e))return!0;if(\"object\"!==typeof t||null===t||\"object\"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},Z7t5:function(t,e,n){t.exports=n(\"sli4\")},Z9sL:function(t,e,n){\"use strict\";var r=function(){function t(t){var e,n,r;r=void 0,(n=\"_uri\")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this._uri=t}return t.prototype.toString=function(){return this._uri},t}();t.exports=r},ZJRo:function(t,e,n){var r=n(\"b4pn\"),i=n(\"D4ny\"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,r){try{(r=n(\"vCXk\")(Function.call,n(\"Ym6j\").f(Object.prototype,\"__proto__\").set,2))(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},\"Zf/v\":function(t,e,n){\"use strict\";t.exports=function(t,e,n){var r=t;if(n===r.count())e.forEach(function(t){r=r.push(t)});else if(0===n)e.reverse().forEach(function(t){r=r.unshift(t)});else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(e,o).toList()}return r}},Zgb7:function(t,e,n){\"use strict\";var r=n(\"ISee\");t.exports=function(t,e){var n=e.ownerDocument.defaultView.getSelection();return 0===n.rangeCount?{selectionState:t.getSelection().set(\"hasFocus\",!1),needsRecovery:!1}:r(t,e,n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)}},a7VT:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return s});var r=n(\"Bhuq\"),i=n.n(r),o=n(\"TRZx\"),a=n.n(o);function s(t){return(s=a.a?i.a:function(t){return t.__proto__||i()(t)})(t)}},aB02:function(t,e,n){\"use strict\";var r=n(\"GyOf\");t.exports=function(t){return!(!t||!t.ownerDocument)&&r(t)&&\"BR\"===t.nodeName}},aPfg:function(t,e,n){\"use strict\";var r=n(\"Y7ZC\"),i=n(\"eaoh\"),o=n(\"2GTP\"),a=n(\"oioR\");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},akfH:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(\"q1tI\"),a=l(o),s=l(n(\"iuhU\")),u=l(n(\"+80P\")),c=l(n(\"wRvv\"));function l(t){return t&&t.__esModule?t:{default:t}}var f=(0,u.default)();f.tlds(c.default);var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:\"render\",value:function(){var t=this.props,e=t.decoratedText,n=void 0===e?\"\":e,i=t.theme,o=void 0===i?{}:i,u=t.target,c=void 0===u?\"_self\":u,l=t.rel,h=void 0===l?\"noreferrer noopener\":l,p=t.className,d=t.component,y=(t.dir,t.entityKey,t.getEditorState,t.offsetKey,t.setEditorState,t.contentState,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,[\"decoratedText\",\"theme\",\"target\",\"rel\",\"className\",\"component\",\"dir\",\"entityKey\",\"getEditorState\",\"offsetKey\",\"setEditorState\",\"contentState\"])),g=(0,s.default)(o.link,p),m=f.match(n),v=m&&m[0]?m[0].url:\"\",b=r({},y,{href:v,target:c,rel:h,className:g});return d?a.default.createElement(d,b):a.default.createElement(\"a\",b)}}]),e}();e.default=h},bNdj:function(t,e,n){\"use strict\";var r=n(\"jLRO\").substr;t.exports=function(t,e){var n=Array(t.length).fill(null);return e&&e.forEach(function(e){for(var i=r(t,0,e.offset).length,o=i+r(t,e.offset,e.length).length,a=i;a<o;a++)n[a]=e.key}),n}},bd9B:function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}},bu5B:function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"Taje\"),o=n(\"2NuI\");function a(t,e,n){var a=e.getCharacterList(),s=n>0?a.get(n-1):void 0,u=n<a.count()?a.get(n):void 0,c=s?s.getEntity():void 0,l=u?u.getEntity():void 0;if(l&&l===c&&\"MUTABLE\"!==t.__get(l).getMutability()){for(var f,h=function(t,e,n){var r;return i(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),\"object\"!==typeof r&&o(!1),r}(a,l,n),p=h.start,d=h.end;p<d;)f=a.get(p),a=a.set(p,r.applyEntity(f,null)),p++;return e.set(\"characterList\",a)}return e}t.exports=function(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},o=e.getStartKey(),s=e.getStartOffset(),u=n.get(o),c=a(r,u,s);c!==u&&(i[o]=c);var l=e.getEndKey(),f=e.getEndOffset(),h=n.get(l);o===l&&(h=c);var p=a(r,h,f);return p!==h&&(i[l]=p),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set(\"selectionAfter\",e)}},c203:function(t,e,n){\"use strict\";var r=n(\"/y0H\"),i=n(\"fMZg\"),o=n(\"2NuI\");function a(t,e,n,a,s,u,c){var l=n.getStartOffset(),f=n.getEndOffset(),h=t.__get(s).getMutability(),p=c?l:f;if(\"MUTABLE\"===h)return n;var d=i(e,s).filter(function(t){return p<=t.end&&p>=t.start});1!=d.length&&o(!1);var y=d[0];if(\"IMMUTABLE\"===h)return n.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1});u||(c?f=y.end:l=y.start);var g=r.getRemovalRange(l,f,e.getText().slice(y.start,y.end),y.start,a);return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1})}t.exports=function(t,e,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),u=e.getEntityAt(o),c=n.getEntityAt(s-1);if(!u&&!c)return r;var l=r;if(u&&u===c)l=a(t,e,l,i,u,!0,!0);else if(u&&c){var f=a(t,e,l,i,u,!1,!0),h=a(t,n,l,i,c,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(u){var p=a(t,e,l,i,u,!1,!0);l=l.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(c){var d=a(t,n,l,i,c,!1,!1);l=l.merge({focusOffset:d.getEndOffset(),isBackward:!1})}return l}},cBdl:function(t,e,n){n(\"hc2F\"),t.exports=n(\"p9MR\").Object.getPrototypeOf},cHUd:function(t,e,n){\"use strict\";var r=n(\"Y7ZC\");t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},cTJO:function(t,e,n){\"use strict\";var r=n(\"OzcY\"),i=n(\"ksgb\"),o=n(\"Omuq\"),a=n(\"xEro\"),s=n(\"WgqI\"),u=n(\"DKIp\");function c(t){return function(){var e,n=u(t);if(function(){if(\"undefined\"===typeof Reflect||!r)return!1;if(r.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],function(){})),!0}catch(t){return!1}}()){var i=u(this).constructor;e=r(n,arguments,i)}else e=n.apply(this,arguments);return s(this,e)}}var l=n(\"bIOf\"),f=n(\"HDbY\");e.__esModule=!0,e.default=void 0;var h,p=f(n(\"SD04\")),d=n(\"skmB\"),y=l(n(\"q1tI\")),g=(f(n(\"17x9\")),f(n(\"nOHt\"))),m=(n(\"KA3u\"),n(\"Bu4q\"));function v(t){return t&&\"object\"===typeof t?(0,m.formatWithValidation)(t):t}var b=new p.default,_=window.IntersectionObserver;function w(){return h||(_?h=new _(function(t){t.forEach(function(t){if(b.has(t.target)){var e=b.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(h.unobserve(t.target),b.delete(t.target),e())}})},{rootMargin:\"200px\"}):void 0)}var S=function(t){a(n,t);var e=c(n);function n(t){var r;return i(this,n),(r=e.call(this,t)).p=void 0,r.cleanUpListeners=function(){},r.formatUrls=function(t){var e=null,n=null,r=null;return function(i,o){if(r&&i===e&&o===n)return r;var a=t(i,o);return e=i,n=o,r=a,a}}(function(t,e){return{href:v(t),as:e?v(e):e}}),r.linkClicked=function(t){var e=t.currentTarget,n=e.nodeName,i=e.target;if(\"A\"!==n||!(i&&\"_self\"!==i||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var o=r.formatUrls(r.props.href,r.props.as),a=o.href,s=o.as;if(function(t){var e=(0,d.parse)(t,!1,!0),n=(0,d.parse)((0,m.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===n.protocol&&e.host===n.host}(a)){var u=window.location.pathname;a=(0,d.resolve)(u,a),s=s?(0,d.resolve)(u,s):a,t.preventDefault();var c=r.props.scroll;null==c&&(c=s.indexOf(\"#\")<0),g.default[r.props.replace?\"replace\":\"push\"](a,s,{shallow:r.props.shallow}).then(function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())})}}},r.p=!1!==t.prefetch,r}return o(n,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"handleRef\",value:function(t){var e=this;this.p&&_&&t&&t.tagName&&(this.cleanUpListeners(),this.cleanUpListeners=function(t,e){var n=w();return n?(n.observe(t),b.set(t,e),function(){n.unobserve(t),b.delete(t)}):function(){}}(t,function(){e.prefetch()}))}},{key:\"prefetch\",value:function(){if(this.p){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as).href,n=(0,d.resolve)(t,e);g.default.prefetch(n)}}},{key:\"render\",value:function(){var t=this,e=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,i=n.as;\"string\"===typeof e&&(e=y.default.createElement(\"a\",null,e));var o=y.Children.only(e),a={ref:function(e){t.handleRef(e),o&&\"object\"===typeof o&&o.ref&&(\"function\"===typeof o.ref?o.ref(e):\"object\"===typeof o.ref&&(o.ref.current=e))},onMouseEnter:function(e){o.props&&\"function\"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),t.prefetch()},onClick:function(e){o.props&&\"function\"===typeof o.props.onClick&&o.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&(\"a\"!==o.type||\"href\"in o.props)||(a.href=i||r),y.default.cloneElement(o,a)}}]),n}(y.Component);S.propTypes=void 0;var E=S;e.default=E},cmQj:function(t,e,n){\"use strict\";t.exports=function(t,e){t.setMode(\"drag\"),e.preventDefault()}},cwFY:function(t,e,n){\"use strict\";t.exports=function(t){return!(\"undefined\"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[t]}},dVTT:function(t,e,n){n(\"aPfg\")(\"Map\")},dyxW:function(t,e,n){\"use strict\";var r={stringify:function(t){return\"_\"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=r},\"e/Ok\":function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"6Xrj\"),a=n(\"hyAj\"),s=n(\"DeIs\"),u=n(\"MbRH\");t.exports=function(t,e){var n,c=t._latestEditorState,l=c.getSelection(),f=e.target;if(l.isCollapsed())e.preventDefault();else{if(u(f)){var h=f;n=s(o.getScrollParent(h))}var p=a(c);t.setClipboard(p),t.setMode(\"cut\"),setTimeout(function(){t.restoreEditorDOM(n),t.exitCurrentMode(),t.update(function(t){var e=r.removeRange(t.getCurrentContent(),t.getSelection(),\"forward\");return i.push(t,e,\"remove-range\")}(c))},0)}}},eHHv:function(t,e,n){\"use strict\";var r=n(\"q1tI\");function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n(\"YvMK\");function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function a(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function s(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function u(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}a.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0,u.__suppressDeprecationWarning=!0;n(\"Go+2\");var c=n(\"xmmm\"),l=n(\"bCCX\");n.d(e,\"b\",function(){return f}),n.d(e,\"a\",function(){return p});Object.keys;var f=function(t,e,n){return function(a){var s=Object(r.createFactory)(a);return function(r){function a(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))||this).state={stateValue:\"function\"===typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState(function(t){var n=t.stateValue;return{stateValue:\"function\"===typeof e?e(n):e}},n)},t}return o(a,r),a.prototype.render=function(){var n;return s(i({},this.props,((n={})[t]=this.state.stateValue,n[e]=this.updateStateValue,n)))},a}(r.Component)}};r.Component;var h,p=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}},function(t){return t})},d={fromESObservable:null,toESObservable:null},y={fromESObservable:function(t){return\"function\"===typeof d.fromESObservable?d.fromESObservable(t):t},toESObservable:function(t){return\"function\"===typeof d.toESObservable?d.toESObservable(t):t}};h=y},eOzY:function(t,e,n){\"use strict\";(function(e){n(\"YBdB\"),t.exports=e.setImmediate}).call(this,n(\"yLpj\"))},evZB:function(t,e,n){\"use strict\";t.exports={getPunctuation:function(){return\"[.,+*?$|#{}()'\\\\^\\\\-\\\\[\\\\]\\\\\\\\\\\\/!@%\\\"~=<>_:;\\u30fb\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301f\\uff1a-\\uff1f\\uff01-\\uff0f\\uff3b-\\uff40\\uff5b-\\uff65\\u2e2e\\u061f\\u066a-\\u066c\\u061b\\u060c\\u060d\\ufd3e\\ufd3f\\u1801\\u0964\\u104a\\u104b\\u2010-\\u2027\\u2030-\\u205e\\xa1-\\xb1\\xb4-\\xb8\\xba\\xbb\\xbf]\"}}},fEyW:function(t,e,n){\"use strict\";var r=n(\"JL7T\"),i=n(\"VTBg\"),o=n(\"JPcv\"),a=(o.List,o.Map),s=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},u=function(t,e){var n=[];if(!t)return n;for(var r=e.get(t);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?e.get(i):null}return n},c=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getNextSiblingKey();r&&!e.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getPrevSiblingKey();r&&!e.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(t,e,n,r){return t.withMutations(function(o){if(s(e.getKey(),o,function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})}),s(n.getKey(),o,function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})}),u(e.getKey(),r).forEach(function(t){return s(t,o,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return o.get(t)}),nextSibling:c(t,o,r),prevSibling:l(t,o,r)})})}),s(e.getNextSiblingKey(),o,function(t){return t.merge({prevSibling:e.getPrevSiblingKey()})}),s(e.getPrevSiblingKey(),o,function(t){return t.merge({nextSibling:c(t,o,r)})}),s(n.getNextSiblingKey(),o,function(t){return t.merge({prevSibling:l(t,o,r)})}),s(n.getPrevSiblingKey(),o,function(t){return t.merge({nextSibling:n.getNextSiblingKey()})}),u(n.getKey(),r).forEach(function(t){s(t,o,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return o.get(t)}),nextSibling:c(t,o,r),prevSibling:l(t,o,r)})})}),function(t,e){var n=[];if(!t)return n;for(var r=i(t,e);r&&e.get(r);){var o=e.get(r);n.push(r),r=o.getParentKey()?i(o,e):null}return n}(n,r).forEach(function(t){return s(t,o,function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})})}),null==t.get(e.getKey())&&null!=t.get(n.getKey())&&n.getParentKey()===e.getKey()&&null==n.getPrevSiblingKey()){var a=e.getPrevSiblingKey();s(n.getKey(),o,function(t){return t.merge({prevSibling:a})}),s(a,o,function(t){return t.merge({nextSibling:n.getKey()})});var f=a?t.get(a):null,h=f?f.getParentKey():null;if(e.getChildKeys().forEach(function(t){s(t,o,function(t){return t.merge({parent:h})})}),null!=h){var p=t.get(h);s(h,o,function(t){return t.merge({children:p.getChildKeys().concat(e.getChildKeys())})})}s(e.getChildKeys().find(function(e){return null===t.get(e).getNextSiblingKey()}),o,function(t){return t.merge({nextSibling:e.getNextSiblingKey()})})}})},h=function(t,e,n){if(0===e)for(;e<n;)t=t.shift(),e++;else if(n===t.count())for(;n>e;)t=t.pop(),n--;else{var r=t.slice(0,e),i=t.slice(n);t=r.concat(i).toList()}return t};t.exports=function(t,e){if(e.isCollapsed())return t;var n,o=t.getBlockMap(),s=e.getStartKey(),c=e.getStartOffset(),l=e.getEndKey(),p=e.getEndOffset(),d=o.get(s),y=o.get(l),g=d instanceof r,m=[];if(g){var v=y.getChildKeys(),b=u(l,o);y.getNextSiblingKey()&&(m=m.concat(b)),v.isEmpty()||(m=m.concat(b.concat([l]))),m=m.concat(u(i(y,o),o))}n=d===y?h(d.getCharacterList(),c,p):d.getCharacterList().slice(0,c).concat(y.getCharacterList().slice(p));var _=d.merge({text:d.getText().slice(0,c)+y.getText().slice(p),characterList:n}),w=g&&0===c&&0===p&&y.getParentKey()===s&&null==y.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil(function(t,e){return e===s}).takeUntil(function(t,e){return e===l}).filter(function(t,e){return-1===m.indexOf(e)}).concat(a([[l,null]])).map(function(t,e){return e===s?_:null}),S=o.merge(w).filter(function(t){return!!t});return g&&d!==y&&(S=f(S,d,y,o)),t.merge({blockMap:S,selectionBefore:e,selectionAfter:e.merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1})})}},fKCf:function(t,e){t.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/},fMZg:function(t,e,n){\"use strict\";var r=n(\"2NuI\");t.exports=function(t,e){var n=[];return t.findEntityRanges(function(t){return t.getEntity()===e},function(t,e){n.push({start:t,end:e})}),n.length||r(!1),n}},fZAc:function(t,e,n){\"use strict\";var r=n(\"mjHj\"),i=n(\"2NuI\"),o=\"\\u0590\\u05be\\u05c0\\u05c3\\u05c6\\u05c8-\\u05cf\\u05d0-\\u05ea\\u05eb-\\u05ef\\u05f0-\\u05f2\\u05f3-\\u05f4\\u05f5-\\u05ff\\u07c0-\\u07c9\\u07ca-\\u07ea\\u07f4-\\u07f5\\u07fa\\u07fb-\\u07ff\\u0800-\\u0815\\u081a\\u0824\\u0828\\u082e-\\u082f\\u0830-\\u083e\\u083f\\u0840-\\u0858\\u085c-\\u085d\\u085e\\u085f-\\u089f\\u200f\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb37\\ufb38-\\ufb3c\\ufb3d\\ufb3e\\ufb3f\\ufb40-\\ufb41\\ufb42\\ufb43-\\ufb44\\ufb45\\ufb46-\\ufb4f\",a=\"\\u0608\\u060b\\u060d\\u061b\\u061c\\u061d\\u061e-\\u061f\\u0620-\\u063f\\u0640\\u0641-\\u064a\\u066d\\u066e-\\u066f\\u0671-\\u06d3\\u06d4\\u06d5\\u06e5-\\u06e6\\u06ee-\\u06ef\\u06fa-\\u06fc\\u06fd-\\u06fe\\u06ff\\u0700-\\u070d\\u070e\\u070f\\u0710\\u0712-\\u072f\\u074b-\\u074c\\u074d-\\u07a5\\u07b1\\u07b2-\\u07bf\\u08a0-\\u08b2\\u08b3-\\u08e3\\ufb50-\\ufbb1\\ufbb2-\\ufbc1\\ufbc2-\\ufbd2\\ufbd3-\\ufd3d\\ufd40-\\ufd4f\\ufd50-\\ufd8f\\ufd90-\\ufd91\\ufd92-\\ufdc7\\ufdc8-\\ufdcf\\ufdf0-\\ufdfb\\ufdfc\\ufdfe-\\ufdff\\ufe70-\\ufe74\\ufe75\\ufe76-\\ufefc\\ufefd-\\ufefe\",s=new RegExp(\"[\"+\"A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u01ba\\u01bb\\u01bc-\\u01bf\\u01c0-\\u01c3\\u01c4-\\u0293\\u0294\\u0295-\\u02af\\u02b0-\\u02b8\\u02bb-\\u02c1\\u02d0-\\u02d1\\u02e0-\\u02e4\\u02ee\\u0370-\\u0373\\u0376-\\u0377\\u037a\\u037b-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u0482\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u055a-\\u055f\\u0561-\\u0587\\u0589\\u0903\\u0904-\\u0939\\u093b\\u093d\\u093e-\\u0940\\u0949-\\u094c\\u094e-\\u094f\\u0950\\u0958-\\u0961\\u0964-\\u0965\\u0966-\\u096f\\u0970\\u0971\\u0972-\\u0980\\u0982-\\u0983\\u0985-\\u098c\\u098f-\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09be-\\u09c0\\u09c7-\\u09c8\\u09cb-\\u09cc\\u09ce\\u09d7\\u09dc-\\u09dd\\u09df-\\u09e1\\u09e6-\\u09ef\\u09f0-\\u09f1\\u09f4-\\u09f9\\u09fa\\u0a03\\u0a05-\\u0a0a\\u0a0f-\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32-\\u0a33\\u0a35-\\u0a36\\u0a38-\\u0a39\\u0a3e-\\u0a40\\u0a59-\\u0a5c\\u0a5e\\u0a66-\\u0a6f\\u0a72-\\u0a74\\u0a83\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2-\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0abe-\\u0ac0\\u0ac9\\u0acb-\\u0acc\\u0ad0\\u0ae0-\\u0ae1\\u0ae6-\\u0aef\\u0af0\\u0b02-\\u0b03\\u0b05-\\u0b0c\\u0b0f-\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32-\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b3e\\u0b40\\u0b47-\\u0b48\\u0b4b-\\u0b4c\\u0b57\\u0b5c-\\u0b5d\\u0b5f-\\u0b61\\u0b66-\\u0b6f\\u0b70\\u0b71\\u0b72-\\u0b77\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99-\\u0b9a\\u0b9c\\u0b9e-\\u0b9f\\u0ba3-\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bbe-\\u0bbf\\u0bc1-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcc\\u0bd0\\u0bd7\\u0be6-\\u0bef\\u0bf0-\\u0bf2\\u0c01-\\u0c03\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c41-\\u0c44\\u0c58-\\u0c59\\u0c60-\\u0c61\\u0c66-\\u0c6f\\u0c7f\\u0c82-\\u0c83\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cbe\\u0cbf\\u0cc0-\\u0cc4\\u0cc6\\u0cc7-\\u0cc8\\u0cca-\\u0ccb\\u0cd5-\\u0cd6\\u0cde\\u0ce0-\\u0ce1\\u0ce6-\\u0cef\\u0cf1-\\u0cf2\\u0d02-\\u0d03\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d3e-\\u0d40\\u0d46-\\u0d48\\u0d4a-\\u0d4c\\u0d4e\\u0d57\\u0d60-\\u0d61\\u0d66-\\u0d6f\\u0d70-\\u0d75\\u0d79\\u0d7a-\\u0d7f\\u0d82-\\u0d83\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0dcf-\\u0dd1\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2-\\u0df3\\u0df4\\u0e01-\\u0e30\\u0e32-\\u0e33\\u0e40-\\u0e45\\u0e46\\u0e4f\\u0e50-\\u0e59\\u0e5a-\\u0e5b\\u0e81-\\u0e82\\u0e84\\u0e87-\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa-\\u0eab\\u0ead-\\u0eb0\\u0eb2-\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ed0-\\u0ed9\\u0edc-\\u0edf\\u0f00\\u0f01-\\u0f03\\u0f04-\\u0f12\\u0f13\\u0f14\\u0f15-\\u0f17\\u0f1a-\\u0f1f\\u0f20-\\u0f29\\u0f2a-\\u0f33\\u0f34\\u0f36\\u0f38\\u0f3e-\\u0f3f\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f7f\\u0f85\\u0f88-\\u0f8c\\u0fbe-\\u0fc5\\u0fc7-\\u0fcc\\u0fce-\\u0fcf\\u0fd0-\\u0fd4\\u0fd5-\\u0fd8\\u0fd9-\\u0fda\\u1000-\\u102a\\u102b-\\u102c\\u1031\\u1038\\u103b-\\u103c\\u103f\\u1040-\\u1049\\u104a-\\u104f\\u1050-\\u1055\\u1056-\\u1057\\u105a-\\u105d\\u1061\\u1062-\\u1064\\u1065-\\u1066\\u1067-\\u106d\\u106e-\\u1070\\u1075-\\u1081\\u1083-\\u1084\\u1087-\\u108c\\u108e\\u108f\\u1090-\\u1099\\u109a-\\u109c\\u109e-\\u109f\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fb\\u10fc\\u10fd-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1360-\\u1368\\u1369-\\u137c\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166d-\\u166e\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16eb-\\u16ed\\u16ee-\\u16f0\\u16f1-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1735-\\u1736\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17b6\\u17be-\\u17c5\\u17c7-\\u17c8\\u17d4-\\u17d6\\u17d7\\u17d8-\\u17da\\u17dc\\u17e0-\\u17e9\\u1810-\\u1819\\u1820-\\u1842\\u1843\\u1844-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1923-\\u1926\\u1929-\\u192b\\u1930-\\u1931\\u1933-\\u1938\\u1946-\\u194f\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c0\\u19c1-\\u19c7\\u19c8-\\u19c9\\u19d0-\\u19d9\\u19da\\u1a00-\\u1a16\\u1a19-\\u1a1a\\u1a1e-\\u1a1f\\u1a20-\\u1a54\\u1a55\\u1a57\\u1a61\\u1a63-\\u1a64\\u1a6d-\\u1a72\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1aa0-\\u1aa6\\u1aa7\\u1aa8-\\u1aad\\u1b04\\u1b05-\\u1b33\\u1b35\\u1b3b\\u1b3d-\\u1b41\\u1b43-\\u1b44\\u1b45-\\u1b4b\\u1b50-\\u1b59\\u1b5a-\\u1b60\\u1b61-\\u1b6a\\u1b74-\\u1b7c\\u1b82\\u1b83-\\u1ba0\\u1ba1\\u1ba6-\\u1ba7\\u1baa\\u1bae-\\u1baf\\u1bb0-\\u1bb9\\u1bba-\\u1be5\\u1be7\\u1bea-\\u1bec\\u1bee\\u1bf2-\\u1bf3\\u1bfc-\\u1bff\\u1c00-\\u1c23\\u1c24-\\u1c2b\\u1c34-\\u1c35\\u1c3b-\\u1c3f\\u1c40-\\u1c49\\u1c4d-\\u1c4f\\u1c50-\\u1c59\\u1c5a-\\u1c77\\u1c78-\\u1c7d\\u1c7e-\\u1c7f\\u1cc0-\\u1cc7\\u1cd3\\u1ce1\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf2-\\u1cf3\\u1cf5-\\u1cf6\\u1d00-\\u1d2b\\u1d2c-\\u1d6a\\u1d6b-\\u1d77\\u1d78\\u1d79-\\u1d9a\\u1d9b-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u200e\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2134\\u2135-\\u2138\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u214f\\u2160-\\u2182\\u2183-\\u2184\\u2185-\\u2188\\u2336-\\u237a\\u2395\\u249c-\\u24e9\\u26ac\\u2800-\\u28ff\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2c7b\\u2c7c-\\u2c7d\\u2c7e-\\u2ce4\\u2ceb-\\u2cee\\u2cf2-\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d70\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005\\u3006\\u3007\\u3021-\\u3029\\u302e-\\u302f\\u3031-\\u3035\\u3038-\\u303a\\u303b\\u303c\\u3041-\\u3096\\u309d-\\u309e\\u309f\\u30a1-\\u30fa\\u30fc-\\u30fe\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u3190-\\u3191\\u3192-\\u3195\\u3196-\\u319f\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3200-\\u321c\\u3220-\\u3229\\u322a-\\u3247\\u3248-\\u324f\\u3260-\\u327b\\u327f\\u3280-\\u3289\\u328a-\\u32b0\\u32c0-\\u32cb\\u32d0-\\u32fe\\u3300-\\u3376\\u337b-\\u33dd\\u33e0-\\u33fe\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua014\\ua015\\ua016-\\ua48c\\ua4d0-\\ua4f7\\ua4f8-\\ua4fd\\ua4fe-\\ua4ff\\ua500-\\ua60b\\ua60c\\ua610-\\ua61f\\ua620-\\ua629\\ua62a-\\ua62b\\ua640-\\ua66d\\ua66e\\ua680-\\ua69b\\ua69c-\\ua69d\\ua6a0-\\ua6e5\\ua6e6-\\ua6ef\\ua6f2-\\ua6f7\\ua722-\\ua76f\\ua770\\ua771-\\ua787\\ua789-\\ua78a\\ua78b-\\ua78e\\ua790-\\ua7ad\\ua7b0-\\ua7b1\\ua7f7\\ua7f8-\\ua7f9\\ua7fa\\ua7fb-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua823-\\ua824\\ua827\\ua830-\\ua835\\ua836-\\ua837\\ua840-\\ua873\\ua880-\\ua881\\ua882-\\ua8b3\\ua8b4-\\ua8c3\\ua8ce-\\ua8cf\\ua8d0-\\ua8d9\\ua8f2-\\ua8f7\\ua8f8-\\ua8fa\\ua8fb\\ua900-\\ua909\\ua90a-\\ua925\\ua92e-\\ua92f\\ua930-\\ua946\\ua952-\\ua953\\ua95f\\ua960-\\ua97c\\ua983\\ua984-\\ua9b2\\ua9b4-\\ua9b5\\ua9ba-\\ua9bb\\ua9bd-\\ua9c0\\ua9c1-\\ua9cd\\ua9cf\\ua9d0-\\ua9d9\\ua9de-\\ua9df\\ua9e0-\\ua9e4\\ua9e6\\ua9e7-\\ua9ef\\ua9f0-\\ua9f9\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa2f-\\uaa30\\uaa33-\\uaa34\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa4d\\uaa50-\\uaa59\\uaa5c-\\uaa5f\\uaa60-\\uaa6f\\uaa70\\uaa71-\\uaa76\\uaa77-\\uaa79\\uaa7a\\uaa7b\\uaa7d\\uaa7e-\\uaaaf\\uaab1\\uaab5-\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadc\\uaadd\\uaade-\\uaadf\\uaae0-\\uaaea\\uaaeb\\uaaee-\\uaaef\\uaaf0-\\uaaf1\\uaaf2\\uaaf3-\\uaaf4\\uaaf5\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5b\\uab5c-\\uab5f\\uab64-\\uab65\\uabc0-\\uabe2\\uabe3-\\uabe4\\uabe6-\\uabe7\\uabe9-\\uabea\\uabeb\\uabec\\uabf0-\\uabf9\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ue000-\\uf8ff\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff6f\\uff70\\uff71-\\uff9d\\uff9e-\\uff9f\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\"+o+a+\"]\"),u=new RegExp(\"[\"+o+a+\"]\");function c(t){var e=s.exec(t);return null==e?null:e[0]}function l(t){var e=c(t);return null==e?r.NEUTRAL:u.exec(e)?r.RTL:r.LTR}function f(t,e){if(e=e||r.NEUTRAL,!t.length)return e;var n=l(t);return n===r.NEUTRAL?e:n}function h(t,e){return e||(e=r.getGlobalDir()),r.isStrong(e)||i(!1),f(t,e)}var p={firstStrongChar:c,firstStrongCharDir:l,resolveBlockDir:f,getDirection:h,isDirectionLTR:function(t,e){return h(t,e)===r.LTR},isDirectionRTL:function(t,e){return h(t,e)===r.RTL}};t.exports=p},faBS:function(t,e,n){\"use strict\";t.exports=function(t){var e=t||\"\",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(e=(e?e+\" \":\"\")+i)}return e}},fyOY:function(t,e,n){\"use strict\";var r=n(\"lFJn\"),i=n(\"M6rc\"),o=n(\"ilWa\"),a=n(\"c203\"),s=n(\"DYKh\"),u=n(\"JPcv\"),c=n(\"L2EA\"),l=n(\"81KI\"),f=n(\"2NuI\"),h=n(\"Mh8y\"),p=n(\"bu5B\"),d=n(\"fEyW\"),y=n(\"B0ab\"),g=u.OrderedSet,m={replaceText:function(t,e,n,i,o){var a=p(t,e),s=d(a,e),u=r.create({style:i||g(),entity:o||null});return l(s,s.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,i){return e.isCollapsed()||f(!1),m.replaceText(t,e,n,r,i)},moveText:function(t,e,n){var r=s(t,e),i=m.removeRange(t,e,\"backward\");return m.replaceWithFragment(i,n,r)},replaceWithFragment:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"REPLACE_WITH_NEW_DATA\",i=p(t,e),o=d(i,e);return c(o,o.getSelectionAfter(),n,r)},removeRange:function(t,e,n){var r,i,o,s;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),i=e.getFocusKey(),o=t.getBlockForKey(r),s=t.getBlockForKey(i);var u=e.getStartOffset(),c=e.getEndOffset(),l=o.getEntityAt(u),f=s.getEntityAt(c-1);if(r===i&&l&&l===f){var h=a(t.getEntityMap(),o,s,e,n);return d(t,h)}var y=p(t,e);return d(y,e)},splitBlock:function(t,e){var n=p(t,e),r=d(n,e);return y(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return i.add(t,e,n)},removeInlineStyle:function(t,e,n){return i.remove(t,e,n)},setBlockType:function(t,e,n){return h(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return h(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return h(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){var r=p(t,e);return o(r,e,n)}};t.exports=m},fyRy:function(t,e,n){\"use strict\";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(\"YeVe\"),a=n(\"lFJn\"),s=n(\"8uQm\"),u=n(\"JL7T\"),c=n(\"fyOY\"),l=n(\"3sOJ\"),f=n(\"rJY1\"),h=n(\"cwFY\"),p=n(\"JPcv\"),d=n(\"I2Ug\"),y=h(\"draft_tree_data_support\"),g=y?u:s,m=p.List,v=p.Repeat,b={insertAtomicBlock:function(t,e,n){var i=t.getCurrentContent(),s=t.getSelection(),u=c.removeRange(i,s,\"backward\"),h=u.getSelectionAfter(),p=c.splitBlock(u,h),d=p.getSelectionAfter(),b=c.setBlockType(p,d,\"atomic\"),_=a.create({entity:e}),w={key:f(),type:\"atomic\",text:n,characterList:m(v(_,n.length))},S={key:f(),type:\"unstyled\"};y&&(w=r({},w,{nextSibling:S.key}),S=r({},S,{prevSibling:w.key}));var E=[new g(w),new g(S)],T=o.createFromArray(E),C=c.replaceWithFragment(b,d,T),k=C.merge({selectionBefore:s,selectionAfter:C.getSelectionAfter().set(\"hasFocus\",!0)});return l.push(t,k,\"insert-fragment\")},moveAtomicBlock:function(t,e,n,r){var i,o=t.getCurrentContent(),a=t.getSelection();if(\"before\"===r||\"after\"===r){var s=o.getBlockForKey(\"before\"===r?n.getStartKey():n.getEndKey());i=d(o,e,s,r)}else{var u=c.removeRange(o,n,\"backward\"),f=u.getSelectionAfter(),h=u.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=d(u,e,h,\"before\");else if(f.getEndOffset()===h.getLength())i=d(u,e,h,\"after\");else{var p=c.splitBlock(u,f),y=p.getSelectionAfter(),g=p.getBlockForKey(y.getFocusKey());i=d(p,e,g,\"before\")}}var m=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set(\"hasFocus\",!0)});return l.push(t,m,\"move-block\")}};t.exports=b},g33z:function(t,e,n){\"use strict\";var r=n(\"Wu5q\"),i=n(\"n3ko\");t.exports=n(\"raTm\")(\"Map\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,\"Map\"),t);return e&&e.v},set:function(t,e){return r.def(i(this,\"Map\"),0===t?0:t,e)}},r,!0)},gWRK:function(t,e,n){\"use strict\";t.exports=function(t){if(null!=t)return t;throw new Error(\"Got unexpected null or undefined\")}},\"h/2P\":function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"CYTE\"),a=n(\"hpMJ\"),s=n(\"T401\"),u=n(\"Yrnb\"),c=n(\"gWRK\"),l=n(\"eOzY\"),f=\"'\",h=\"/\",p=o.isBrowser(\"Firefox\");function d(t,e,n,o,a){var s=r.replaceText(t.getCurrentContent(),t.getSelection(),e,n,o);return i.push(t,s,\"insert-characters\",a)}t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t._latestEditorState,r=e.data;if(r)if(t.props.handleBeforeInput&&s(t.props.handleBeforeInput(r,n,e.timeStamp)))e.preventDefault();else{var o=n.getSelection(),y=o.getStartOffset(),g=o.getAnchorKey();if(!o.isCollapsed())return e.preventDefault(),void t.update(d(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var m,v=d(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),b=!1;if(b||(b=u(t._latestCommittedEditorState)),!b){var _=n.getBlockTree(g),w=v.getBlockTree(g);b=_.size!==w.size||_.zip(w).some(function(t){var e=t[0],n=t[1],i=e.get(\"start\"),o=i+(i>=y?r.length:0),a=e.get(\"end\"),s=a+(a>=y?r.length:0),u=n.get(\"start\"),c=n.get(\"end\"),l=n.get(\"decoratorKey\");return e.get(\"decoratorKey\")!==l||e.get(\"leaves\").size!==n.get(\"leaves\").size||o!==u||s!==c||null!=l&&c-u!==a-i})}if(b||(m=r,b=p&&(m==f||m==h)),b||(b=c(v.getDirectionMap()).get(g)!==c(n.getDirectionMap()).get(g)),b)return e.preventDefault(),v=i.set(v,{forceSelection:!0}),void t.update(v);v=i.set(v,{nativelyRenderedContent:v.getCurrentContent()}),t._pendingStateFromBeforeInput=v,l(function(){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0)})}}},hMpd:function(t,e,n){\"use strict\";var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.serialize=function(){return\"Anchor: \"+this.getAnchorKey()+\":\"+this.getAnchorOffset()+\", Focus: \"+this.getFocusKey()+\":\"+this.getFocusOffset()+\", Is Backward: \"+String(this.getIsBackward())+\", Has Focus: \"+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get(\"anchorKey\")},i.getAnchorOffset=function(){return this.get(\"anchorOffset\")},i.getFocusKey=function(){return this.get(\"focusKey\")},i.getFocusOffset=function(){return this.get(\"focusOffset\")},i.getIsBackward=function(){return this.get(\"isBackward\")},i.getHasFocus=function(){return this.get(\"hasFocus\")},i.hasEdgeWithin=function(t,e,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===t){var o=this.getStartOffset(),a=this.getEndOffset();return e<=o&&o<=n||e<=a&&a<=n}if(t!==r&&t!==i)return!1;var s=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(t){return new r({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(\"JPcv\").Record)({anchorKey:\"\",anchorOffset:0,focusKey:\"\",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=r},hc2F:function(t,e,n){var r=n(\"AYVP\"),i=n(\"/wxW\");n(\"wWUK\")(\"getPrototypeOf\",function(){return function(t){return i(r(t))}})},hpMJ:function(t,e,n){\"use strict\";var r=n(\"Gn5D\").notEmptyKey;function i(t,e){return r(e)&&\"MUTABLE\"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var n;if(e.isCollapsed()){var r=e.getAnchorKey(),o=e.getAnchorOffset();return o>0?(n=t.getBlockForKey(r).getEntityAt(o-1))!==t.getBlockForKey(r).getEntityAt(o)?null:i(t.getEntityMap(),n):null}var a=e.getStartKey(),s=e.getStartOffset(),u=t.getBlockForKey(a);return n=s===u.getLength()?null:u.getEntityAt(s),i(t.getEntityMap(),n)}},hyAj:function(t,e,n){\"use strict\";var r=n(\"DYKh\");t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:r(t.getCurrentContent(),e)}},iatg:function(t,e,n){\"use strict\";var r=n(\"TWoB\");t.exports=function(t){var e=t.ownerDocument.documentElement;if(!(\"getBoundingClientRect\"in t)||!r(e,t))return{left:0,right:0,top:0,bottom:0};var n=t.getBoundingClientRect();return{left:Math.round(n.left)-e.clientLeft,right:Math.round(n.right)-e.clientLeft,top:Math.round(n.top)-e.clientTop,bottom:Math.round(n.bottom)-e.clientTop}}},ilWa:function(t,e,n){\"use strict\";var r=n(\"vYwu\"),i=n(\"JPcv\");t.exports=function(t,e,n){var o=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),u=e.getEndKey(),c=e.getEndOffset(),l=o.skipUntil(function(t,e){return e===a}).takeUntil(function(t,e){return e===u}).toOrderedMap().merge(i.OrderedMap([[u,o.get(u)]])).map(function(t,e){var i=e===a?s:0,o=e===u?c:t.getLength();return r(t,i,o,n)});return t.merge({blockMap:o.merge(l),selectionBefore:e,selectionAfter:e})}},iuhU:function(t,e,n){\"use strict\";function r(t){var e,n,i=\"\";if(t)if(\"object\"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=\" \"),i+=n);else for(e in t)t[e]&&(n=r(e))&&(i&&(i+=\" \"),i+=n);else\"boolean\"===typeof t||t.call||(i&&(i+=\" \"),i+=t);return i}n.r(e),e.default=function(){for(var t,e=0,n=\"\";e<arguments.length;)(t=r(arguments[e++]))&&(n&&(n+=\" \"),n+=t);return n}},jH4x:function(t,e,n){\"use strict\";var r=n(\"3sOJ\");t.exports=function(t,e){t.setMode(\"composite\"),t.update(r.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(e)}},jLRO:function(t,e,n){\"use strict\";var r=n(\"2NuI\"),i=55296,o=56319,a=56320,s=57343,u=/[\\uD800-\\uDFFF]/;function c(t){return i<=t&&t<=s}function l(t){return u.test(t)}function f(t,e){return 1+c(t.charCodeAt(e))}function h(t,e,n){if(e=e||0,n=void 0===n?1/0:n||0,!l(t))return t.substr(e,n);var r=t.length;if(r<=0||e>r||n<=0)return\"\";var i=0;if(e>0){for(;e>0&&i<r;e--)i+=f(t,i);if(i>=r)return\"\"}else if(e<0){for(i=r;e<0&&0<i;e++)i-=f(t,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=f(t,o);return t.substring(i,o)}var p={getCodePoints:function(t){for(var e=[],n=0;n<t.length;n+=f(t,n))e.push(t.codePointAt(n));return e},getUTF16Length:f,hasSurrogateUnit:l,isCodeUnitInSurrogateRange:c,isSurrogatePair:function(t,e){if(0<=e&&e<t.length||r(!1),e+1===t.length)return!1;var n=t.charCodeAt(e),u=t.charCodeAt(e+1);return i<=n&&n<=o&&a<=u&&u<=s},strlen:function(t){if(!l(t))return t.length;for(var e=0,n=0;n<t.length;n+=f(t,n))e++;return e},substring:function(t,e,n){(e=e||0)<0&&(e=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-e);return h(t,e=e<n?e:n,r)},substr:h};t.exports=p},jl1W:function(t,e,n){\"use strict\";var r=n(\"4XrY\"),i=n(\"fyOY\"),o=n(\"Iq8E\"),a=n(\"3sOJ\"),s=n(\"7wDu\"),u=n(\"WJOU\"),c=n(\"0IKU\"),l=n(\"Zgb7\"),f=n(\"hpMJ\"),h=n(\"gWRK\"),p=!1,d=!1,y=null;var g={onCompositionStart:function(t){d=!0,function(t){y||(y=new r(c(t))).start()}(t)},onCompositionEnd:function(t){p=!1,d=!1,setTimeout(function(){p||g.resolveComposition(t)},20)},onSelect:u,onKeyDown:function(t,e){if(!d)return g.resolveComposition(t),void t._onKeyDown(e);e.which!==s.RIGHT&&e.which!==s.LEFT||e.preventDefault()},onKeyPress:function(t,e){e.which===s.RETURN&&e.preventDefault()},resolveComposition:function(t){if(!d){var e=h(y).stopAndFlushMutations();y=null,p=!0;var n=a.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),e.size){var r=n.getCurrentContent();e.forEach(function(t,e){var s=o.decode(e),u=s.blockKey,c=s.decoratorKey,l=s.leafKey,h=n.getBlockTree(u).getIn([c,\"leaves\",l]),p=h.start,d=h.end,y=n.getSelection().merge({anchorKey:u,focusKey:u,anchorOffset:p,focusOffset:d,isBackward:!1}),g=f(r,y),m=r.getBlockForKey(u).getInlineStyleAt(p);r=i.replaceText(r,y,t,m,g),n=a.set(n,{currentContent:r})});var s=l(n,c(t)).selectionState;t.restoreEditorDOM();var u=a.acceptSelection(n,s);t.update(a.push(u,r,\"insert-characters\"))}else t.update(n)}}};t.exports=g},jl2H:function(t,e,n){\"use strict\";t.exports=function(t){if(\"undefined\"===typeof(t=t||(\"undefined\"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},jyDg:function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"Iq8E\"),o=n(\"3sOJ\"),a=n(\"CYTE\"),s=n(\"Gn5D\").notEmptyKey,u=n(\"kc9Y\"),c=n(\"3Br+\"),l=n(\"gWRK\"),f=a.isEngine(\"Gecko\"),h=\"\\n\\n\";t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,p=n.isCollapsed;if(a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var d=a.parentNode;a.nodeValue=d.textContent;for(var y=d.firstChild;null!==y;y=y.nextSibling)y!==a&&d.removeChild(y)}var g=a.textContent,m=t._latestEditorState,v=l(u(a)),b=i.decode(v),_=b.blockKey,w=b.decoratorKey,S=b.leafKey,E=m.getBlockTree(_).getIn([w,\"leaves\",S]),T=E.start,C=E.end,k=m.getCurrentContent(),I=k.getBlockForKey(_),D=I.getText().slice(T,C);if(g.endsWith(h)&&(g=g.slice(0,-1)),g!==D){var x,A,O,N,M=m.getSelection(),R=M.merge({anchorOffset:T,focusOffset:C,isBackward:!1}),L=I.getEntityAt(T),P=s(L)?k.getEntity(L):null,F=\"MUTABLE\"===(null!=P?P.getMutability():null),B=F?\"spellcheck-change\":\"apply-entity\",j=r.replaceText(k,R,g,I.getInlineStyleAt(T),F?I.getEntityAt(T):null);if(f)x=n.anchorOffset,A=n.focusOffset,N=(O=T+Math.min(x,A))+Math.abs(x-A),x=O,A=N;else{var q=g.length-D.length;O=M.getStartOffset(),N=M.getEndOffset(),x=p?N+q:O,A=N+q}var K=j.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:M.merge({anchorOffset:x,focusOffset:A})});t.update(o.push(m,K,B))}else{var U=e.nativeEvent.inputType;if(U){var V=function(t,e){switch(t){case\"deleteContentBackward\":return c(e)}return e}(U,m);if(V!==m)return t.restoreEditorDOM(),void t.update(V)}}}}},kDkJ:function(t,e,n){\"use strict\";var r=n(\"YeVe\"),i=n(\"lFJn\"),o=n(\"QvxS\"),a=n(\"fyOY\"),s=n(\"PQhE\"),u=n(\"3sOJ\"),c=n(\"Nx4+\"),l=n(\"hpMJ\"),f=n(\"HKS5\"),h=n(\"T401\"),p=n(\"RK+W\");function d(t,e,n){var r=a.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return u.push(t,r.set(\"entityMap\",n),\"insert-fragment\")}t.exports=function(t,e){e.preventDefault();var n=new o(e.clipboardData);if(!n.isRichText()){var y=n.getFiles(),g=n.getText();if(y.length>0){if(t.props.handlePastedFiles&&h(t.props.handlePastedFiles(y)))return;return void f(y,function(e){if(e=e||g){var n=t._latestEditorState,o=p(e),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),h=c.getCurrentBlockType(n),d=s.processText(o,f,h),y=r.createFromArray(d),m=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),y);t.update(u.push(n,m,\"insert-fragment\"))}})}}var m=[],v=n.getText(),b=n.getHTML(),_=t._latestEditorState;if(!t.props.handlePastedText||!h(t.props.handlePastedText(v,b,_))){if(v&&(m=p(v)),!t.props.stripPastedStyles){var w=t.getClipboard();if(n.isRichText()&&w){if(-1!==b.indexOf(t.getEditorKey())||1===m.length&&1===w.size&&w.first().getText()===v)return void t.update(d(t._latestEditorState,w))}else if(w&&n.types.includes(\"com.apple.webarchive\")&&!n.types.includes(\"text/html\")&&function(t,e){return t.length===e.size&&e.valueSeq().every(function(e,n){return e.getText()===t[n]})}(m,w))return void t.update(d(t._latestEditorState,w));if(b){var S=s.processHTML(b,t.props.blockRenderMap);if(S){var E=S.contentBlocks,T=S.entityMap;if(E){var C=r.createFromArray(E);return void t.update(d(t._latestEditorState,C,T))}}}t.setClipboard(null)}if(m.length){var k=i.create({style:_.getCurrentInlineStyle(),entity:l(_.getCurrentContent(),_.getSelection())}),I=c.getCurrentBlockType(_),D=s.processText(m,k,I),x=r.createFromArray(D);t.update(d(t._latestEditorState,x))}}}},kE58:function(t,e,n){\"use strict\";var r=n(\"7wDu\");t.exports=function(t){return t.which===r.RETURN&&(t.getModifierState(\"Shift\")||t.getModifierState(\"Alt\")||t.getModifierState(\"Control\"))}},kWjT:function(t,e,n){\"use strict\";n(\"2mcs\");t.exports=function(t,e){var n=t.getSelection(),r=t.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(e>o){var u=r.getKeyBefore(i);null==u?a=i:(a=u,s=r.getBlockForKey(u).getText().length)}else s=o-e;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},kc9Y:function(t,e,n){\"use strict\";var r=n(\"F09w\"),i=n(\"zORg\");t.exports=function(t){for(var e=t;e&&e!==r(t).documentElement;){var n=i(e);if(null!=n)return n;e=e.parentNode}return null}},lFJn:function(t,e,n){\"use strict\";var r=n(\"JPcv\"),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),u={style:s,entity:null},c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getStyle=function(){return this.get(\"style\")},o.getEntity=function(){return this.get(\"entity\")},o.hasStyle=function(t){return this.getStyle().includes(t)},r.applyStyle=function(t,e){var n=t.set(\"style\",t.getStyle().add(e));return r.create(n)},r.removeStyle=function(t,e){var n=t.set(\"style\",t.getStyle().remove(e));return r.create(n)},r.applyEntity=function(t,e){var n=t.getEntity()===e?t:t.set(\"entity\",e);return r.create(n)},r.create=function(t){if(!t)return l;var e=i({style:s,entity:null}).merge(t),n=f.get(e);if(n)return n;var o=new r(e);return f=f.set(e,o),o},r}(a(u)),l=new c,f=i([[i(u),l]]);c.EMPTY=l,t.exports=c},m75S:function(t,e,n){\"use strict\";t.exports={initODS:function(){},handleExtensionCausedError:function(){}}},mjHj:function(t,e,n){\"use strict\";var r=n(\"2NuI\"),i=\"LTR\",o=\"RTL\",a=null;function s(t){return t===i||t===o}function u(t){return s(t)||r(!1),t===i?\"ltr\":\"rtl\"}function c(t){a=t}var l={NEUTRAL:\"NEUTRAL\",LTR:i,RTL:o,isStrong:s,getHTMLDir:u,getHTMLDirIfDifferent:function(t,e){return s(t)||r(!1),s(e)||r(!1),t===e?null:u(t)},setGlobalDir:c,initGlobalDir:function(){c(i)},getGlobalDir:function(){return a||this.initGlobalDir(),a||r(!1),a}};t.exports=l},n3ko:function(t,e,n){var r=n(\"93I4\");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError(\"Incompatible receiver, \"+e+\" required!\");return t}},ocgx:function(t,e,n){\"use strict\";var r=n(\"fyOY\"),i=n(\"3sOJ\"),o=n(\"DYKh\");t.exports=function(t){var e=t.getSelection();if(!e.isCollapsed())return t;var n=e.getAnchorOffset();if(0===n)return t;var a,s,u=e.getAnchorKey(),c=t.getCurrentContent(),l=c.getBlockForKey(u).getLength();if(l<=1)return t;n===l?(a=e.set(\"anchorOffset\",n-1),s=e):s=(a=e.set(\"focusOffset\",n+1)).set(\"anchorOffset\",n+1);var f=o(c,a),h=r.removeRange(c,a,\"backward\"),p=h.getSelectionAfter(),d=p.getAnchorOffset()-1,y=p.merge({anchorOffset:d,focusOffset:d}),g=r.replaceWithFragment(h,y,f),m=i.push(t,g,\"insert-fragment\");return i.acceptSelection(m,s)}},ohE5:function(t,e,n){\"use strict\";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},p1kU:function(t,e,n){\"use strict\";var r=n(\"iatg\");t.exports=function(t){var e=r(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}},p7ys:function(t,e){t.exports=/[\\0-\\x1F\\x7F-\\x9F]/},pDh1:function(t,e,n){n(\"B8g0\"),t.exports=n(\"p9MR\").Object.setPrototypeOf},pbKT:function(t,e,n){t.exports=n(\"9Ls5\")},pg4M:function(t,e,n){\"use strict\";var r=n(\"3sOJ\"),i=n(\"CYTE\");t.exports=function(t,e){var n=t._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set(\"hasFocus\",!0);t.props.onFocus&&t.props.onFocus(e),i.isBrowser(\"Chrome < 60.0.3081.0\")?t.update(r.forceSelection(n,a)):t.update(r.acceptSelection(n,a))}}},prOm:function(t,e,n){\"use strict\";function r(t,e){return!!e&&(t===e.documentElement||t===e.body)}var i={getTop:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollTop||e.documentElement.scrollTop:t.scrollTop},setTop:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollTop=n.documentElement.scrollTop=e:t.scrollTop=e},getLeft:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollLeft||e.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollLeft=n.documentElement.scrollLeft=e:t.scrollLeft=e}};t.exports=i},qnky:function(t,e,n){\"use strict\";var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get(\"type\")},i.getMutability=function(){return this.get(\"mutability\")},i.getData=function(){return this.get(\"data\")},r}((0,n(\"JPcv\").Record)({type:\"TOKEN\",mutability:\"IMMUTABLE\",data:Object}));t.exports=r},quS2:function(t,e,n){\"use strict\";n(\"2mcs\");var r={isValidBlock:function(t,e){var n=t.getKey(),r=t.getParentKey();if(null!=r&&!e.get(r).getChildKeys().includes(n))return!1;if(!t.getChildKeys().map(function(t){return e.get(t)}).every(function(t){return t.getParentKey()===n}))return!1;var i=t.getPrevSiblingKey();if(null!=i&&e.get(i).getNextSiblingKey()!==n)return!1;var o=t.getNextSiblingKey();if(null!=o&&e.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(\"\"!=t.text&&t.getChildKeys().size>0)},isConnectedTree:function(t){var e=t.toArray().filter(function(t){return null==t.getParentKey()&&null==t.getPrevSiblingKey()});if(1!==e.length)return!1;for(var n=0,r=e.shift().getKey(),i=[];null!=r;){var o=t.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var u=a.map(function(e){return t.get(e)}).find(function(t){return null==t.getPrevSiblingKey()});if(null==u)return!1;r=u.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===t.size},isValidTree:function(t){var e=this;return!!t.toArray().every(function(n){return e.isValidBlock(n,t)})&&this.isConnectedTree(t)}};t.exports=r},qy1W:function(t,e,n){\"use strict\";var r=n(\"2NuI\");t.exports=function(t){return function(t){return!!t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"length\"in t&&!(\"setInterval\"in t)&&\"number\"!=typeof t.nodeType&&(Array.isArray(t)||\"callee\"in t||\"item\"in t)}(t)?Array.isArray(t)?t.slice():function(t){var e=t.length;if((Array.isArray(t)||\"object\"!==typeof t&&\"function\"!==typeof t)&&r(!1),\"number\"!==typeof e&&r(!1),0===e||e-1 in t||r(!1),\"function\"===typeof t.callee&&r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(o){}for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}(t):[t]}},rAV9:function(t,e,n){\"use strict\";var r=n(\"q1tI\"),i=n(\"YVIB\"),o=(0,n(\"JPcv\").Map)({\"header-one\":{element:\"h1\"},\"header-two\":{element:\"h2\"},\"header-three\":{element:\"h3\"},\"header-four\":{element:\"h4\"},\"header-five\":{element:\"h5\"},\"header-six\":{element:\"h6\"},section:{element:\"section\"},article:{element:\"article\"},\"unordered-list-item\":{element:\"li\",wrapper:r.createElement(\"ul\",{className:i(\"public/DraftStyleDefault/ul\")})},\"ordered-list-item\":{element:\"li\",wrapper:r.createElement(\"ol\",{className:i(\"public/DraftStyleDefault/ol\")})},blockquote:{element:\"blockquote\"},atomic:{element:\"figure\"},\"code-block\":{element:\"pre\",wrapper:r.createElement(\"pre\",{className:i(\"public/DraftStyleDefault/pre\")})},unstyled:{element:\"div\",aliasedElements:[\"p\"]}});t.exports=o},rJY1:function(t,e,n){\"use strict\";var r={},i=Math.pow(2,24);t.exports=function(){for(var t;void 0===t||r.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*i).toString(32);return r[t]=!0,t}},rWXM:function(t,e,n){\"use strict\";t.exports=function(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}},raTm:function(t,e,n){\"use strict\";var r=n(\"5T2Y\"),i=n(\"Y7ZC\"),o=n(\"6/1s\"),a=n(\"KUxP\"),s=n(\"NegM\"),u=n(\"XJU/\"),c=n(\"oioR\"),l=n(\"EXMj\"),f=n(\"93I4\"),h=n(\"RfKB\"),p=n(\"2faE\").f,d=n(\"V7Et\")(0),y=n(\"jmDH\");t.exports=function(t,e,n,g,m,v){var b=r[t],_=b,w=m?\"set\":\"add\",S=_&&_.prototype,E={};return y&&\"function\"==typeof _&&(v||S.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){l(e,_,t,\"_c\"),e._c=new b,void 0!=n&&c(n,m,e[w],e)}),d(\"add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON\".split(\",\"),function(t){var e=\"add\"==t||\"set\"==t;t in S&&(!v||\"clear\"!=t)&&s(_.prototype,t,function(n,r){if(l(this,_,t),!e&&v&&!f(n))return\"get\"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),v||p(_.prototype,\"size\",{get:function(){return this._c.size}})):(_=g.getConstructor(e,t,m,w),u(_.prototype,n),o.NEED=!0),h(_,t),E[t]=_,i(i.G+i.W+i.F,E),v||g.setStrong(_,t,m),_}},s8ra:function(t,e,n){\"use strict\";var r=n(\"CYTE\"),i=n(\"kE58\"),o=r.isPlatform(\"Mac OS X\"),a={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return o&&t.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(t){return o?!!t.metaKey&&!t.altKey:a.isCtrlKeyCommand(t)},isSoftNewlineEvent:i};t.exports=a},sLSF:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return a});var r=n(\"hfKm\"),i=n.n(r);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),i()(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},sRdV:function(t,e,n){\"use strict\";t.exports=function(t){var e={};e.src_Any=n(\"y8fO\").source,e.src_Cc=n(\"p7ys\").source,e.src_Z=n(\"T8I8\").source,e.src_P=n(\"fKCf\").source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join(\"|\"),e.src_ZCc=[e.src_Z,e.src_Cc].join(\"|\");return e.src_pseudo_letter=\"(?:(?![><\\uff5c]|\"+e.src_ZPCc+\")\"+e.src_Any+\")\",e.src_ip4=\"(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\",e.src_auth=\"(?:(?:(?!\"+e.src_ZCc+\"|[@/\\\\[\\\\]()]).)+@)?\",e.src_port=\"(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?\",e.src_host_terminator=\"(?=$|[><\\uff5c]|\"+e.src_ZPCc+\")(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|\"+e.src_ZPCc+\"))\",e.src_path=\"(?:[/?#](?:(?!\"+e.src_ZCc+\"|[><\\uff5c]|[()[\\\\]{}.,\\\"'?!\\\\-]).|\\\\[(?:(?!\"+e.src_ZCc+\"|\\\\]).)*\\\\]|\\\\((?:(?!\"+e.src_ZCc+\"|[)]).)*\\\\)|\\\\{(?:(?!\"+e.src_ZCc+'|[}]).)*\\\\}|\\\\\"(?:(?!'+e.src_ZCc+'|[\"]).)+\\\\\"|\\\\\\'(?:(?!'+e.src_ZCc+\"|[']).)+\\\\'|\\\\'(?=\"+e.src_pseudo_letter+\"|[-]).|\\\\.{2,4}[a-zA-Z0-9%/]|\\\\.(?!\"+e.src_ZCc+\"|[.]).|\"+(t&&t[\"---\"]?\"\\\\-(?!--(?:[^-]|$))(?:-*)|\":\"\\\\-+|\")+\"\\\\,(?!\"+e.src_ZCc+\").|\\\\!(?!\"+e.src_ZCc+\"|[!]).|\\\\?(?!\"+e.src_ZCc+\"|[?]).)+|\\\\/)?\",e.src_email_name='[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*',e.src_xn=\"xn--[a-z0-9\\\\-]{1,59}\",e.src_domain_root=\"(?:\"+e.src_xn+\"|\"+e.src_pseudo_letter+\"{1,63})\",e.src_domain=\"(?:\"+e.src_xn+\"|(?:\"+e.src_pseudo_letter+\")|(?:\"+e.src_pseudo_letter+\"(?:-|\"+e.src_pseudo_letter+\"){0,61}\"+e.src_pseudo_letter+\"))\",e.src_host=\"(?:(?:(?:(?:\"+e.src_domain+\")\\\\.)*\"+e.src_domain+\"))\",e.tpl_host_fuzzy=\"(?:\"+e.src_ip4+\"|(?:(?:(?:\"+e.src_domain+\")\\\\.)+(?:%TLDS%)))\",e.tpl_host_no_ip_fuzzy=\"(?:(?:(?:\"+e.src_domain+\")\\\\.)+(?:%TLDS%))\",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test=\"localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:\"+e.src_ZPCc+\"|>|$))\",e.tpl_email_fuzzy='(^|[><\\uff5c]|\"|\\\\(|'+e.src_ZCc+\")(\"+e.src_email_name+\"@\"+e.tpl_host_fuzzy_strict+\")\",e.tpl_link_fuzzy=\"(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|\"+e.src_ZPCc+\"))((?![$+<=>^`|\\uff5c])\"+e.tpl_host_port_fuzzy_strict+e.src_path+\")\",e.tpl_link_no_ip_fuzzy=\"(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|\"+e.src_ZPCc+\"))((?![$+<=>^`|\\uff5c])\"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+\")\",e}},sli4:function(t,e,n){n(\"0lY0\"),n(\"Ev2V\"),n(\"0Sc/\"),n(\"0k/M\"),t.exports=n(\"p9MR\").Symbol},tKWh:function(t,e,n){\"use strict\";function r(){var t;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function i(){var t;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},t.exports=o},tuJh:function(t,e,n){\"use strict\";var r=n(\"3sOJ\"),i=n(\"jLRO\"),o=n(\"DEWG\"),a=n(\"8d//\");t.exports=function(t){var e=a(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),a=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(t,s?i.getUTF16Length(s,0):1)},\"forward\");if(e===t.getCurrentContent())return t;var n=t.getSelection();return r.push(t,e.set(\"selectionBefore\",n),n.isCollapsed()?\"delete-character\":\"remove-range\")}},ueFs:function(t,e,n){\"use strict\";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(\"8uQm\"),a=n(\"JL7T\"),s=n(\"LpQA\"),u=n(\"TzU/\"),c=n(\"PFU8\"),l=(n(\"quS2\"),n(\"hMpd\")),f=n(\"TlXQ\"),h=n(\"bNdj\"),p=n(\"RCR6\"),d=n(\"rJY1\"),y=n(\"cwFY\"),g=n(\"JPcv\"),m=n(\"2NuI\"),v=y(\"draft_tree_data_support\"),b=g.List,_=g.Map,w=g.OrderedMap,S=function(t,e){var n=t.key,r=t.type,i=t.data;return{text:t.text,depth:t.depth||0,type:r||\"unstyled\",key:n||d(),data:_(i),characterList:E(t,e)}},E=function(t,e){var n=t.text,i=t.entityRanges,o=t.inlineStyleRanges,a=i||[];return f(p(n,o||[]),h(n,a.filter(function(t){return e.hasOwnProperty(t.key)}).map(function(t){return r({},t,{key:e[t.key]})})))},T=function(t){return r({},t,{key:t.key||d()})},C=function(t,e,n){var i=e.map(function(t){return r({},t,{parentRef:n})});return t.concat(i.reverse())},k=function(t,e){var n=t.blocks.find(function(t){return Array.isArray(t.children)&&t.children.length>0}),i=v&&!n?c.fromRawStateToRawTreeState(t).blocks:t.blocks;return v?function(t,e){return t.map(T).reduce(function(n,i,o){Array.isArray(i.children)||m(!1);var s=i.children.map(T),u=new a(r({},S(i,e),{prevSibling:0===o?null:t[o-1].key,nextSibling:o===t.length-1?null:t[o+1].key,children:b(s.map(function(t){return t.key}))}));n=n.set(u.getKey(),u);for(var c=C([],s,u);c.length>0;){var l=c.pop(),f=l.parentRef,h=f.getChildKeys(),p=h.indexOf(l.key),d=Array.isArray(l.children);if(!d){d||m(!1);break}var y=l.children.map(T),g=new a(r({},S(l,e),{parent:f.getKey(),children:b(y.map(function(t){return t.key})),prevSibling:0===p?null:h.get(p-1),nextSibling:p===h.size-1?null:h.get(p+1)}));n=n.set(g.getKey(),g),c=C(c,y,g)}return n},w())}(i,e):function(t,e){return w(t.map(function(t){var n=new o(S(t,e));return[n.getKey(),n]}))}(n?c.fromRawTreeStateToRawState(t).blocks:i,e)};t.exports=function(t){Array.isArray(t.blocks)||m(!1);var e=function(t){var e=t.entityMap,n={};return Object.keys(e).forEach(function(t){var r=e[t],i=r.type,o=r.mutability,a=r.data;n[t]=u.__create(i,o,a||{})}),n}(t),n=k(t,e),r=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:e,selectionBefore:r,selectionAfter:r})}},ujuU:function(t,e,n){\"use strict\";var r=n(\"3sOJ\");t.exports=function(t){var e=t.getSelection(),n=e.getStartKey();return r.set(t,{selection:e.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},v6xn:function(t,e,n){var r=n(\"C2SN\");t.exports=function(t,e){return new(r(t))(e)}},v83y:function(t,e,n){\"use strict\";var r=n(\"fyRy\"),i=n(\"YeVe\"),o=n(\"lFJn\"),a=n(\"84lc\"),s=n(\"8uQm\"),u=n(\"LpQA\"),c=n(\"rAV9\"),l=n(\"0TRD\"),f=n(\"6tyx\"),h=n(\"DthY\"),p=n(\"TzU/\"),d=n(\"fyOY\"),y=n(\"qnky\"),g=n(\"3sOJ\"),m=n(\"s8ra\"),v=n(\"7Pus\"),b=n(\"Nx4+\"),_=n(\"hMpd\"),w=n(\"/y+l\"),S=n(\"ueFs\"),E=n(\"rJY1\"),T=n(\"AyB5\"),C=n(\"zxN+\"),k={Editor:f,EditorBlock:h,EditorState:g,CompositeDecorator:a,Entity:p,EntityInstance:y,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:u,RawDraftContentState:v,SelectionState:_,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:d,RichUtils:b,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:l,convertFromHTML:n(\"1qq2\"),convertFromRaw:S,convertToRaw:w,genKey:E,getDefaultKeyBinding:T,getVisibleSelectionRect:C};t.exports=k},vYwu:function(t,e,n){\"use strict\";var r=n(\"lFJn\");t.exports=function(t,e,n,i){for(var o=t.getCharacterList();e<n;)o=o.set(e,r.applyEntity(o.get(e),i)),e++;return t.set(\"characterList\",o)}},vcNX:function(t,e,n){\"use strict\";var r=n(\"SF5q\"),i=n(\"3sOJ\"),o=n(\"kWjT\"),a=n(\"8d//\");t.exports=function(t){var e=a(t,function(t){var e=t.getSelection(),n=e.getStartOffset();if(0===n)return o(t,1);var i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(t,s.length||1)},\"backward\");return e===t.getCurrentContent()?t:i.push(t,e,\"remove-range\")}},wRvv:function(t,e){t.exports=[\"aaa\",\"aarp\",\"abarth\",\"abb\",\"abbott\",\"abbvie\",\"abc\",\"able\",\"abogado\",\"abudhabi\",\"ac\",\"academy\",\"accenture\",\"accountant\",\"accountants\",\"aco\",\"actor\",\"ad\",\"adac\",\"ads\",\"adult\",\"ae\",\"aeg\",\"aero\",\"aetna\",\"af\",\"afamilycompany\",\"afl\",\"africa\",\"ag\",\"agakhan\",\"agency\",\"ai\",\"aig\",\"aigo\",\"airbus\",\"airforce\",\"airtel\",\"akdn\",\"al\",\"alfaromeo\",\"alibaba\",\"alipay\",\"allfinanz\",\"allstate\",\"ally\",\"alsace\",\"alstom\",\"am\",\"americanexpress\",\"americanfamily\",\"amex\",\"amfam\",\"amica\",\"amsterdam\",\"analytics\",\"android\",\"anquan\",\"anz\",\"ao\",\"aol\",\"apartments\",\"app\",\"apple\",\"aq\",\"aquarelle\",\"ar\",\"arab\",\"aramco\",\"archi\",\"army\",\"arpa\",\"art\",\"arte\",\"as\",\"asda\",\"asia\",\"associates\",\"at\",\"athleta\",\"attorney\",\"au\",\"auction\",\"audi\",\"audible\",\"audio\",\"auspost\",\"author\",\"auto\",\"autos\",\"avianca\",\"aw\",\"aws\",\"ax\",\"axa\",\"az\",\"azure\",\"ba\",\"baby\",\"baidu\",\"banamex\",\"bananarepublic\",\"band\",\"bank\",\"bar\",\"barcelona\",\"barclaycard\",\"barclays\",\"barefoot\",\"bargains\",\"baseball\",\"basketball\",\"bauhaus\",\"bayern\",\"bb\",\"bbc\",\"bbt\",\"bbva\",\"bcg\",\"bcn\",\"bd\",\"be\",\"beats\",\"beauty\",\"beer\",\"bentley\",\"berlin\",\"best\",\"bestbuy\",\"bet\",\"bf\",\"bg\",\"bh\",\"bharti\",\"bi\",\"bible\",\"bid\",\"bike\",\"bing\",\"bingo\",\"bio\",\"biz\",\"bj\",\"black\",\"blackfriday\",\"blockbuster\",\"blog\",\"bloomberg\",\"blue\",\"bm\",\"bms\",\"bmw\",\"bn\",\"bnpparibas\",\"bo\",\"boats\",\"boehringer\",\"bofa\",\"bom\",\"bond\",\"boo\",\"book\",\"booking\",\"bosch\",\"bostik\",\"boston\",\"bot\",\"boutique\",\"box\",\"br\",\"bradesco\",\"bridgestone\",\"broadway\",\"broker\",\"brother\",\"brussels\",\"bs\",\"bt\",\"budapest\",\"bugatti\",\"build\",\"builders\",\"business\",\"buy\",\"buzz\",\"bv\",\"bw\",\"by\",\"bz\",\"bzh\",\"ca\",\"cab\",\"cafe\",\"cal\",\"call\",\"calvinklein\",\"cam\",\"camera\",\"camp\",\"cancerresearch\",\"canon\",\"capetown\",\"capital\",\"capitalone\",\"car\",\"caravan\",\"cards\",\"care\",\"career\",\"careers\",\"cars\",\"casa\",\"case\",\"caseih\",\"cash\",\"casino\",\"cat\",\"catering\",\"catholic\",\"cba\",\"cbn\",\"cbre\",\"cbs\",\"cc\",\"cd\",\"ceb\",\"center\",\"ceo\",\"cern\",\"cf\",\"cfa\",\"cfd\",\"cg\",\"ch\",\"chanel\",\"channel\",\"charity\",\"chase\",\"chat\",\"cheap\",\"chintai\",\"christmas\",\"chrome\",\"church\",\"ci\",\"cipriani\",\"circle\",\"cisco\",\"citadel\",\"citi\",\"citic\",\"city\",\"cityeats\",\"ck\",\"cl\",\"claims\",\"cleaning\",\"click\",\"clinic\",\"clinique\",\"clothing\",\"cloud\",\"club\",\"clubmed\",\"cm\",\"cn\",\"co\",\"coach\",\"codes\",\"coffee\",\"college\",\"cologne\",\"com\",\"comcast\",\"commbank\",\"community\",\"company\",\"compare\",\"computer\",\"comsec\",\"condos\",\"construction\",\"consulting\",\"contact\",\"contractors\",\"cooking\",\"cookingchannel\",\"cool\",\"coop\",\"corsica\",\"country\",\"coupon\",\"coupons\",\"courses\",\"cpa\",\"cr\",\"credit\",\"creditcard\",\"creditunion\",\"cricket\",\"crown\",\"crs\",\"cruise\",\"cruises\",\"csc\",\"cu\",\"cuisinella\",\"cv\",\"cw\",\"cx\",\"cy\",\"cymru\",\"cyou\",\"cz\",\"dabur\",\"dad\",\"dance\",\"data\",\"date\",\"dating\",\"datsun\",\"day\",\"dclk\",\"dds\",\"de\",\"deal\",\"dealer\",\"deals\",\"degree\",\"delivery\",\"dell\",\"deloitte\",\"delta\",\"democrat\",\"dental\",\"dentist\",\"desi\",\"design\",\"dev\",\"dhl\",\"diamonds\",\"diet\",\"digital\",\"direct\",\"directory\",\"discount\",\"discover\",\"dish\",\"diy\",\"dj\",\"dk\",\"dm\",\"dnp\",\"do\",\"docs\",\"doctor\",\"dog\",\"domains\",\"dot\",\"download\",\"drive\",\"dtv\",\"dubai\",\"duck\",\"dunlop\",\"dupont\",\"durban\",\"dvag\",\"dvr\",\"dz\",\"earth\",\"eat\",\"ec\",\"eco\",\"edeka\",\"edu\",\"education\",\"ee\",\"eg\",\"email\",\"emerck\",\"energy\",\"engineer\",\"engineering\",\"enterprises\",\"epson\",\"equipment\",\"er\",\"ericsson\",\"erni\",\"es\",\"esq\",\"estate\",\"esurance\",\"et\",\"etisalat\",\"eu\",\"eurovision\",\"eus\",\"events\",\"exchange\",\"expert\",\"exposed\",\"express\",\"extraspace\",\"fage\",\"fail\",\"fairwinds\",\"faith\",\"family\",\"fan\",\"fans\",\"farm\",\"farmers\",\"fashion\",\"fast\",\"fedex\",\"feedback\",\"ferrari\",\"ferrero\",\"fi\",\"fiat\",\"fidelity\",\"fido\",\"film\",\"final\",\"finance\",\"financial\",\"fire\",\"firestone\",\"firmdale\",\"fish\",\"fishing\",\"fit\",\"fitness\",\"fj\",\"fk\",\"flickr\",\"flights\",\"flir\",\"florist\",\"flowers\",\"fly\",\"fm\",\"fo\",\"foo\",\"food\",\"foodnetwork\",\"football\",\"ford\",\"forex\",\"forsale\",\"forum\",\"foundation\",\"fox\",\"fr\",\"free\",\"fresenius\",\"frl\",\"frogans\",\"frontdoor\",\"frontier\",\"ftr\",\"fujitsu\",\"fujixerox\",\"fun\",\"fund\",\"furniture\",\"futbol\",\"fyi\",\"ga\",\"gal\",\"gallery\",\"gallo\",\"gallup\",\"game\",\"games\",\"gap\",\"garden\",\"gay\",\"gb\",\"gbiz\",\"gd\",\"gdn\",\"ge\",\"gea\",\"gent\",\"genting\",\"george\",\"gf\",\"gg\",\"ggee\",\"gh\",\"gi\",\"gift\",\"gifts\",\"gives\",\"giving\",\"gl\",\"glade\",\"glass\",\"gle\",\"global\",\"globo\",\"gm\",\"gmail\",\"gmbh\",\"gmo\",\"gmx\",\"gn\",\"godaddy\",\"gold\",\"goldpoint\",\"golf\",\"goo\",\"goodyear\",\"goog\",\"google\",\"gop\",\"got\",\"gov\",\"gp\",\"gq\",\"gr\",\"grainger\",\"graphics\",\"gratis\",\"green\",\"gripe\",\"grocery\",\"group\",\"gs\",\"gt\",\"gu\",\"guardian\",\"gucci\",\"guge\",\"guide\",\"guitars\",\"guru\",\"gw\",\"gy\",\"hair\",\"hamburg\",\"hangout\",\"haus\",\"hbo\",\"hdfc\",\"hdfcbank\",\"health\",\"healthcare\",\"help\",\"helsinki\",\"here\",\"hermes\",\"hgtv\",\"hiphop\",\"hisamitsu\",\"hitachi\",\"hiv\",\"hk\",\"hkt\",\"hm\",\"hn\",\"hockey\",\"holdings\",\"holiday\",\"homedepot\",\"homegoods\",\"homes\",\"homesense\",\"honda\",\"horse\",\"hospital\",\"host\",\"hosting\",\"hot\",\"hoteles\",\"hotels\",\"hotmail\",\"house\",\"how\",\"hr\",\"hsbc\",\"ht\",\"hu\",\"hughes\",\"hyatt\",\"hyundai\",\"ibm\",\"icbc\",\"ice\",\"icu\",\"id\",\"ie\",\"ieee\",\"ifm\",\"ikano\",\"il\",\"im\",\"imamat\",\"imdb\",\"immo\",\"immobilien\",\"in\",\"inc\",\"industries\",\"infiniti\",\"info\",\"ing\",\"ink\",\"institute\",\"insurance\",\"insure\",\"int\",\"intel\",\"international\",\"intuit\",\"investments\",\"io\",\"ipiranga\",\"iq\",\"ir\",\"irish\",\"is\",\"ismaili\",\"ist\",\"istanbul\",\"it\",\"itau\",\"itv\",\"iveco\",\"jaguar\",\"java\",\"jcb\",\"jcp\",\"je\",\"jeep\",\"jetzt\",\"jewelry\",\"jio\",\"jll\",\"jm\",\"jmp\",\"jnj\",\"jo\",\"jobs\",\"joburg\",\"jot\",\"joy\",\"jp\",\"jpmorgan\",\"jprs\",\"juegos\",\"juniper\",\"kaufen\",\"kddi\",\"ke\",\"kerryhotels\",\"kerrylogistics\",\"kerryproperties\",\"kfh\",\"kg\",\"kh\",\"ki\",\"kia\",\"kim\",\"kinder\",\"kindle\",\"kitchen\",\"kiwi\",\"km\",\"kn\",\"koeln\",\"komatsu\",\"kosher\",\"kp\",\"kpmg\",\"kpn\",\"kr\",\"krd\",\"kred\",\"kuokgroup\",\"kw\",\"ky\",\"kyoto\",\"kz\",\"la\",\"lacaixa\",\"lamborghini\",\"lamer\",\"lancaster\",\"lancia\",\"land\",\"landrover\",\"lanxess\",\"lasalle\",\"lat\",\"latino\",\"latrobe\",\"law\",\"lawyer\",\"lb\",\"lc\",\"lds\",\"lease\",\"leclerc\",\"lefrak\",\"legal\",\"lego\",\"lexus\",\"lgbt\",\"li\",\"liaison\",\"lidl\",\"life\",\"lifeinsurance\",\"lifestyle\",\"lighting\",\"like\",\"lilly\",\"limited\",\"limo\",\"lincoln\",\"linde\",\"link\",\"lipsy\",\"live\",\"living\",\"lixil\",\"lk\",\"llc\",\"loan\",\"loans\",\"locker\",\"locus\",\"loft\",\"lol\",\"london\",\"lotte\",\"lotto\",\"love\",\"lpl\",\"lplfinancial\",\"lr\",\"ls\",\"lt\",\"ltd\",\"ltda\",\"lu\",\"lundbeck\",\"lupin\",\"luxe\",\"luxury\",\"lv\",\"ly\",\"ma\",\"macys\",\"madrid\",\"maif\",\"maison\",\"makeup\",\"man\",\"management\",\"mango\",\"map\",\"market\",\"marketing\",\"markets\",\"marriott\",\"marshalls\",\"maserati\",\"mattel\",\"mba\",\"mc\",\"mckinsey\",\"md\",\"me\",\"med\",\"media\",\"meet\",\"melbourne\",\"meme\",\"memorial\",\"men\",\"menu\",\"merckmsd\",\"metlife\",\"mg\",\"mh\",\"miami\",\"microsoft\",\"mil\",\"mini\",\"mint\",\"mit\",\"mitsubishi\",\"mk\",\"ml\",\"mlb\",\"mls\",\"mm\",\"mma\",\"mn\",\"mo\",\"mobi\",\"mobile\",\"moda\",\"moe\",\"moi\",\"mom\",\"monash\",\"money\",\"monster\",\"mormon\",\"mortgage\",\"moscow\",\"moto\",\"motorcycles\",\"mov\",\"movie\",\"movistar\",\"mp\",\"mq\",\"mr\",\"ms\",\"msd\",\"mt\",\"mtn\",\"mtr\",\"mu\",\"museum\",\"mutual\",\"mv\",\"mw\",\"mx\",\"my\",\"mz\",\"na\",\"nab\",\"nadex\",\"nagoya\",\"name\",\"nationwide\",\"natura\",\"navy\",\"nba\",\"nc\",\"ne\",\"nec\",\"net\",\"netbank\",\"netflix\",\"network\",\"neustar\",\"new\",\"newholland\",\"news\",\"next\",\"nextdirect\",\"nexus\",\"nf\",\"nfl\",\"ng\",\"ngo\",\"nhk\",\"ni\",\"nico\",\"nike\",\"nikon\",\"ninja\",\"nissan\",\"nissay\",\"nl\",\"no\",\"nokia\",\"northwesternmutual\",\"norton\",\"now\",\"nowruz\",\"nowtv\",\"np\",\"nr\",\"nra\",\"nrw\",\"ntt\",\"nu\",\"nyc\",\"nz\",\"obi\",\"observer\",\"off\",\"office\",\"okinawa\",\"olayan\",\"olayangroup\",\"oldnavy\",\"ollo\",\"om\",\"omega\",\"one\",\"ong\",\"onl\",\"online\",\"onyourside\",\"ooo\",\"open\",\"oracle\",\"orange\",\"org\",\"organic\",\"origins\",\"osaka\",\"otsuka\",\"ott\",\"ovh\",\"pa\",\"page\",\"panasonic\",\"paris\",\"pars\",\"partners\",\"parts\",\"party\",\"passagens\",\"pay\",\"pccw\",\"pe\",\"pet\",\"pf\",\"pfizer\",\"pg\",\"ph\",\"pharmacy\",\"phd\",\"philips\",\"phone\",\"photo\",\"photography\",\"photos\",\"physio\",\"pics\",\"pictet\",\"pictures\",\"pid\",\"pin\",\"ping\",\"pink\",\"pioneer\",\"pizza\",\"pk\",\"pl\",\"place\",\"play\",\"playstation\",\"plumbing\",\"plus\",\"pm\",\"pn\",\"pnc\",\"pohl\",\"poker\",\"politie\",\"porn\",\"post\",\"pr\",\"pramerica\",\"praxi\",\"press\",\"prime\",\"pro\",\"prod\",\"productions\",\"prof\",\"progressive\",\"promo\",\"properties\",\"property\",\"protection\",\"pru\",\"prudential\",\"ps\",\"pt\",\"pub\",\"pw\",\"pwc\",\"py\",\"qa\",\"qpon\",\"quebec\",\"quest\",\"qvc\",\"racing\",\"radio\",\"raid\",\"re\",\"read\",\"realestate\",\"realtor\",\"realty\",\"recipes\",\"red\",\"redstone\",\"redumbrella\",\"rehab\",\"reise\",\"reisen\",\"reit\",\"reliance\",\"ren\",\"rent\",\"rentals\",\"repair\",\"report\",\"republican\",\"rest\",\"restaurant\",\"review\",\"reviews\",\"rexroth\",\"rich\",\"richardli\",\"ricoh\",\"rightathome\",\"ril\",\"rio\",\"rip\",\"rmit\",\"ro\",\"rocher\",\"rocks\",\"rodeo\",\"rogers\",\"room\",\"rs\",\"rsvp\",\"ru\",\"rugby\",\"ruhr\",\"run\",\"rw\",\"rwe\",\"ryukyu\",\"sa\",\"saarland\",\"safe\",\"safety\",\"sakura\",\"sale\",\"salon\",\"samsclub\",\"samsung\",\"sandvik\",\"sandvikcoromant\",\"sanofi\",\"sap\",\"sarl\",\"sas\",\"save\",\"saxo\",\"sb\",\"sbi\",\"sbs\",\"sc\",\"sca\",\"scb\",\"schaeffler\",\"schmidt\",\"scholarships\",\"school\",\"schule\",\"schwarz\",\"science\",\"scjohnson\",\"scor\",\"scot\",\"sd\",\"se\",\"search\",\"seat\",\"secure\",\"security\",\"seek\",\"select\",\"sener\",\"services\",\"ses\",\"seven\",\"sew\",\"sex\",\"sexy\",\"sfr\",\"sg\",\"sh\",\"shangrila\",\"sharp\",\"shaw\",\"shell\",\"shia\",\"shiksha\",\"shoes\",\"shop\",\"shopping\",\"shouji\",\"show\",\"showtime\",\"shriram\",\"si\",\"silk\",\"sina\",\"singles\",\"site\",\"sj\",\"sk\",\"ski\",\"skin\",\"sky\",\"skype\",\"sl\",\"sling\",\"sm\",\"smart\",\"smile\",\"sn\",\"sncf\",\"so\",\"soccer\",\"social\",\"softbank\",\"software\",\"sohu\",\"solar\",\"solutions\",\"song\",\"sony\",\"soy\",\"space\",\"sport\",\"spot\",\"spreadbetting\",\"sr\",\"srl\",\"ss\",\"st\",\"stada\",\"staples\",\"star\",\"statebank\",\"statefarm\",\"stc\",\"stcgroup\",\"stockholm\",\"storage\",\"store\",\"stream\",\"studio\",\"study\",\"style\",\"su\",\"sucks\",\"supplies\",\"supply\",\"support\",\"surf\",\"surgery\",\"suzuki\",\"sv\",\"swatch\",\"swiftcover\",\"swiss\",\"sx\",\"sy\",\"sydney\",\"symantec\",\"systems\",\"sz\",\"tab\",\"taipei\",\"talk\",\"taobao\",\"target\",\"tatamotors\",\"tatar\",\"tattoo\",\"tax\",\"taxi\",\"tc\",\"tci\",\"td\",\"tdk\",\"team\",\"tech\",\"technology\",\"tel\",\"telefonica\",\"temasek\",\"tennis\",\"teva\",\"tf\",\"tg\",\"th\",\"thd\",\"theater\",\"theatre\",\"tiaa\",\"tickets\",\"tienda\",\"tiffany\",\"tips\",\"tires\",\"tirol\",\"tj\",\"tjmaxx\",\"tjx\",\"tk\",\"tkmaxx\",\"tl\",\"tm\",\"tmall\",\"tn\",\"to\",\"today\",\"tokyo\",\"tools\",\"top\",\"toray\",\"toshiba\",\"total\",\"tours\",\"town\",\"toyota\",\"toys\",\"tr\",\"trade\",\"trading\",\"training\",\"travel\",\"travelchannel\",\"travelers\",\"travelersinsurance\",\"trust\",\"trv\",\"tt\",\"tube\",\"tui\",\"tunes\",\"tushu\",\"tv\",\"tvs\",\"tw\",\"tz\",\"ua\",\"ubank\",\"ubs\",\"ug\",\"uk\",\"unicom\",\"university\",\"uno\",\"uol\",\"ups\",\"us\",\"uy\",\"uz\",\"va\",\"vacations\",\"vana\",\"vanguard\",\"vc\",\"ve\",\"vegas\",\"ventures\",\"verisign\",\"versicherung\",\"vet\",\"vg\",\"vi\",\"viajes\",\"video\",\"vig\",\"viking\",\"villas\",\"vin\",\"vip\",\"virgin\",\"visa\",\"vision\",\"vistaprint\",\"viva\",\"vivo\",\"vlaanderen\",\"vn\",\"vodka\",\"volkswagen\",\"volvo\",\"vote\",\"voting\",\"voto\",\"voyage\",\"vu\",\"vuelos\",\"wales\",\"walmart\",\"walter\",\"wang\",\"wanggou\",\"watch\",\"watches\",\"weather\",\"weatherchannel\",\"webcam\",\"weber\",\"website\",\"wed\",\"wedding\",\"weibo\",\"weir\",\"wf\",\"whoswho\",\"wien\",\"wiki\",\"williamhill\",\"win\",\"windows\",\"wine\",\"winners\",\"wme\",\"wolterskluwer\",\"woodside\",\"work\",\"works\",\"world\",\"wow\",\"ws\",\"wtc\",\"wtf\",\"xbox\",\"xerox\",\"xfinity\",\"xihuan\",\"xin\",\"\\u0915\\u0949\\u092e\",\"\\u30bb\\u30fc\\u30eb\",\"\\u4f5b\\u5c71\",\"\\u0cad\\u0cbe\\u0cb0\\u0ca4\",\"\\u6148\\u5584\",\"\\u96c6\\u56e2\",\"\\u5728\\u7ebf\",\"\\ud55c\\uad6d\",\"\\u0b2d\\u0b3e\\u0b30\\u0b24\",\"\\u5927\\u4f17\\u6c7d\\u8f66\",\"\\u70b9\\u770b\",\"\\u0e04\\u0e2d\\u0e21\",\"\\u09ad\\u09be\\u09f0\\u09a4\",\"\\u09ad\\u09be\\u09b0\\u09a4\",\"\\u516b\\u5366\",\"\\u0645\\u0648\\u0642\\u0639\",\"\\u09ac\\u09be\\u0982\\u09b2\\u09be\",\"\\u516c\\u76ca\",\"\\u516c\\u53f8\",\"\\u9999\\u683c\\u91cc\\u62c9\",\"\\u7f51\\u7ad9\",\"\\u79fb\\u52a8\",\"\\u6211\\u7231\\u4f60\",\"\\u043c\\u043e\\u0441\\u043a\\u0432\\u0430\",\"\\u049b\\u0430\\u0437\",\"\\u043a\\u0430\\u0442\\u043e\\u043b\\u0438\\u043a\",\"\\u043e\\u043d\\u043b\\u0430\\u0439\\u043d\",\"\\u0441\\u0430\\u0439\\u0442\",\"\\u8054\\u901a\",\"\\u0441\\u0440\\u0431\",\"\\u0431\\u0433\",\"\\u0431\\u0435\\u043b\",\"\\u05e7\\u05d5\\u05dd\",\"\\u65f6\\u5c1a\",\"\\u5fae\\u535a\",\"\\u6de1\\u9a6c\\u9521\",\"\\u30d5\\u30a1\\u30c3\\u30b7\\u30e7\\u30f3\",\"\\u043e\\u0440\\u0433\",\"\\u0928\\u0947\\u091f\",\"\\u30b9\\u30c8\\u30a2\",\"\\uc0bc\\uc131\",\"\\u0b9a\\u0bbf\\u0b99\\u0bcd\\u0b95\\u0baa\\u0bcd\\u0baa\\u0bc2\\u0bb0\\u0bcd\",\"\\u5546\\u6807\",\"\\u5546\\u5e97\",\"\\u5546\\u57ce\",\"\\u0434\\u0435\\u0442\\u0438\",\"\\u043c\\u043a\\u0434\",\"\\u0435\\u044e\",\"\\u30dd\\u30a4\\u30f3\\u30c8\",\"\\u65b0\\u95fb\",\"\\u5de5\\u884c\",\"\\u5bb6\\u96fb\",\"\\u0643\\u0648\\u0645\",\"\\u4e2d\\u6587\\u7f51\",\"\\u4e2d\\u4fe1\",\"\\u4e2d\\u56fd\",\"\\u4e2d\\u570b\",\"\\u5a31\\u4e50\",\"\\u8c37\\u6b4c\",\"\\u0c2d\\u0c3e\\u0c30\\u0c24\\u0c4d\",\"\\u0dbd\\u0d82\\u0d9a\\u0dcf\",\"\\u96fb\\u8a0a\\u76c8\\u79d1\",\"\\u8d2d\\u7269\",\"\\u30af\\u30e9\\u30a6\\u30c9\",\"\\u0aad\\u0abe\\u0ab0\\u0aa4\",\"\\u901a\\u8ca9\",\"\\u092d\\u093e\\u0930\\u0924\\u092e\\u094d\",\"\\u092d\\u093e\\u0930\\u0924\",\"\\u092d\\u093e\\u0930\\u094b\\u0924\",\"\\u7f51\\u5e97\",\"\\u0938\\u0902\\u0917\\u0920\\u0928\",\"\\u9910\\u5385\",\"\\u7f51\\u7edc\",\"\\u043a\\u043e\\u043c\",\"\\u0443\\u043a\\u0440\",\"\\u9999\\u6e2f\",\"\\u8bfa\\u57fa\\u4e9a\",\"\\u98df\\u54c1\",\"\\u98de\\u5229\\u6d66\",\"\\u53f0\\u6e7e\",\"\\u53f0\\u7063\",\"\\u624b\\u8868\",\"\\u624b\\u673a\",\"\\u043c\\u043e\\u043d\",\"\\u0627\\u0644\\u062c\\u0632\\u0627\\u0626\\u0631\",\"\\u0639\\u0645\\u0627\\u0646\",\"\\u0627\\u0631\\u0627\\u0645\\u0643\\u0648\",\"\\u0627\\u06cc\\u0631\\u0627\\u0646\",\"\\u0627\\u0644\\u0639\\u0644\\u064a\\u0627\\u0646\",\"\\u0627\\u062a\\u0635\\u0627\\u0644\\u0627\\u062a\",\"\\u0627\\u0645\\u0627\\u0631\\u0627\\u062a\",\"\\u0628\\u0627\\u0632\\u0627\\u0631\",\"\\u0645\\u0648\\u0631\\u064a\\u062a\\u0627\\u0646\\u064a\\u0627\",\"\\u067e\\u0627\\u06a9\\u0633\\u062a\\u0627\\u0646\",\"\\u0627\\u0644\\u0627\\u0631\\u062f\\u0646\",\"\\u0628\\u0627\\u0631\\u062a\",\"\\u0628\\u06be\\u0627\\u0631\\u062a\",\"\\u0627\\u0644\\u0645\\u063a\\u0631\\u0628\",\"\\u0627\\u0628\\u0648\\u0638\\u0628\\u064a\",\"\\u0627\\u0644\\u0633\\u0639\\u0648\\u062f\\u064a\\u0629\",\"\\u0680\\u0627\\u0631\\u062a\",\"\\u0643\\u0627\\u062b\\u0648\\u0644\\u064a\\u0643\",\"\\u0633\\u0648\\u062f\\u0627\\u0646\",\"\\u0647\\u0645\\u0631\\u0627\\u0647\",\"\\u0639\\u0631\\u0627\\u0642\",\"\\u0645\\u0644\\u064a\\u0633\\u064a\\u0627\",\"\\u6fb3\\u9580\",\"\\ub2f7\\ucef4\",\"\\u653f\\u5e9c\",\"\\u0634\\u0628\\u0643\\u0629\",\"\\u0628\\u064a\\u062a\\u0643\",\"\\u0639\\u0631\\u0628\",\"\\u10d2\\u10d4\",\"\\u673a\\u6784\",\"\\u7ec4\\u7ec7\\u673a\\u6784\",\"\\u5065\\u5eb7\",\"\\u0e44\\u0e17\\u0e22\",\"\\u0633\\u0648\\u0631\\u064a\\u0629\",\"\\u62db\\u8058\",\"\\u0440\\u0443\\u0441\",\"\\u0440\\u0444\",\"\\u73e0\\u5b9d\",\"\\u062a\\u0648\\u0646\\u0633\",\"\\u5927\\u62ff\",\"\\u307f\\u3093\\u306a\",\"\\u30b0\\u30fc\\u30b0\\u30eb\",\"\\u03b5\\u03c5\",\"\\u03b5\\u03bb\",\"\\u4e16\\u754c\",\"\\u66f8\\u7c4d\",\"\\u0d2d\\u0d3e\\u0d30\\u0d24\\u0d02\",\"\\u0a2d\\u0a3e\\u0a30\\u0a24\",\"\\u7f51\\u5740\",\"\\ub2f7\\ub137\",\"\\u30b3\\u30e0\",\"\\u5929\\u4e3b\\u6559\",\"\\u6e38\\u620f\",\"verm\\xf6gensberater\",\"verm\\xf6gensberatung\",\"\\u4f01\\u4e1a\",\"\\u4fe1\\u606f\",\"\\u5609\\u91cc\\u5927\\u9152\\u5e97\",\"\\u5609\\u91cc\",\"\\u0645\\u0635\\u0631\",\"\\u0642\\u0637\\u0631\",\"\\u5e7f\\u4e1c\",\"\\u0b87\\u0bb2\\u0b99\\u0bcd\\u0b95\\u0bc8\",\"\\u0b87\\u0ba8\\u0bcd\\u0ba4\\u0bbf\\u0baf\\u0bbe\",\"\\u0570\\u0561\\u0575\",\"\\u65b0\\u52a0\\u5761\",\"\\u0641\\u0644\\u0633\\u0637\\u064a\\u0646\",\"\\u653f\\u52a1\",\"xxx\",\"xyz\",\"yachts\",\"yahoo\",\"yamaxun\",\"yandex\",\"ye\",\"yodobashi\",\"yoga\",\"yokohama\",\"you\",\"youtube\",\"yt\",\"yun\",\"za\",\"zappos\",\"zara\",\"zero\",\"zip\",\"zm\",\"zone\",\"zuerich\",\"zw\"]},x7I3:function(t,e,n){\"use strict\";n.r(e),function(t){n.d(e,\"ErrorCode\",function(){return ur}),n.d(e,\"EventType\",function(){return cr}),n.d(e,\"WebChannel\",function(){return lr}),n.d(e,\"XhrIo\",function(){return fr}),n.d(e,\"createWebChannelTransport\",function(){return sr});var r,i=\"undefined\"!==typeof globalThis?globalThis:\"undefined\"!==typeof window?window:\"undefined\"!==typeof t?t:\"undefined\"!==typeof self?self:{},o=o||{},a=i;function s(t){return\"string\"==typeof t}function u(t){return\"number\"==typeof t}function c(t,e){t=t.split(\".\"),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function f(t){var e=typeof t;if(\"object\"==e){if(!t)return\"null\";if(t instanceof Array)return\"array\";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if(\"[object Window]\"==n)return\"object\";if(\"[object Array]\"==n||\"number\"==typeof t.length&&\"undefined\"!=typeof t.splice&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==n||\"undefined\"!=typeof t.call&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==e&&\"undefined\"==typeof t.call)return\"object\";return e}function h(t){return\"array\"==f(t)}function p(t){var e=f(t);return\"array\"==e||\"object\"==e&&\"number\"==typeof t.length}function d(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}var y=\"closure_uid_\"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?m:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[y]||(this[y]=++g)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(\"\"):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\\s\\xa0]*$/.test(t)}var x,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var M=a.navigator;if(M){var R=M.userAgent;if(R){x=R;break t}}x=\"\"}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function P(t){var e,n={};for(e in t)n[e]=t[e];return n}var F=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function B(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[\" \"](t),t}j[\" \"]=l;var q,K=O(x,\"Opera\"),U=O(x,\"Trident\")||O(x,\"MSIE\"),V=O(x,\"Edge\"),z=V||U,W=O(x,\"Gecko\")&&!(O(x.toLowerCase(),\"webkit\")&&!O(x,\"Edge\"))&&!(O(x,\"Trident\")||O(x,\"MSIE\"))&&!O(x,\"Edge\"),Q=O(x.toLowerCase(),\"webkit\")&&!O(x,\"Edge\");function H(){var t=a.document;return t?t.documentMode:void 0}t:{var G=\"\",Y=function(){var t=x;return W?/rv:([^\\);]+)(\\)|;)/.exec(t):V?/Edge\\/([\\d\\.]+)/.exec(t):U?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(t):Q?/WebKit\\/(\\S+)/.exec(t):K?/(?:Version)[ \\/]?(\\S+)/.exec(t):void 0}();if(Y&&(G=Y?Y[1]:\"\"),U){var J=H();if(null!=J&&J>parseFloat(G)){q=String(J);break t}}q=G}var X,Z={};function $(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=A(String(q)).split(\".\"),r=A(String(t)).split(\".\"),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||\"\",s=r[o]||\"\";do{if(a=/(\\d*)(\\D*)(.*)/.exec(a)||[\"\",\"\",\"\",\"\"],s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],0==a[0].length&&0==s[0].length)break;e=N(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==a[2].length,0==s[2].length)||N(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var tt=a.document;X=tt&&U?H()||(\"CSS1Compat\"==tt.compatMode?parseInt(q,10):5):void 0;var et=!U||9<=Number(X),nt=U&&!$(\"9\"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});try{a.addEventListener(\"test\",l,e),a.removeEventListener(\"test\",l,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function ot(t,e){if(it.call(this,t?t.type:\"\"),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||\"\",this.c=t,t.defaultPrevented&&this.b()}}it.prototype.b=function(){this.Ja=!1},S(ot,it);var at={2:\"touch\",3:\"pen\",4:\"mouse\"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st=\"closure_listenable_\"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function lt(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=pt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dt=\"closure_lm_\"+(1e6*Math.random()|0),yt={};function gt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=Tt(r);return e&&e[st]?e.Ba(n,r,d(i)?!!i.capture:!!i,o):mt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=Tt(n),t&&t[st]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):mt(t,e,n,!1,r,i)}function mt(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var a=d(i)?!!i.capture:!!i;if(a&&!et)return null;var s=St(t);if(s||(t[dt]=s=new ft(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}return n}function vt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[st])ht(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=St(e))?(ht(n,t),0==n.b&&(n.src=null,e[dt]=null)):lt(t)}}}function bt(t){return t in yt?yt[t]:yt[t]=\"on\"+t}function _t(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&vt(t),n.call(r,e)}function wt(t,e){return!!t.X||(et?_t(t,new ot(e,this)):_t(t,e=new ot(e||c(\"window.event\"),this)))}function St(t){return(t=t[dt])instanceof ft?t:null}var Et=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function Tt(t){return\"function\"==f(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Ct(){E.call(this),this.c=new ft(this),this.J=this,this.B=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&ht(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}S(Ct,E),Ct.prototype[st]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){gt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=Tt(r),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(a=e.a[n],r,i,o))&&(lt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=St(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;B(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=kt(a,r,!0,t)&&i}if(i=kt(a=t.a=n,r,!0,t)&&i,i=kt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Ct.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)lt(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=a.JSON.stringify;function Dt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}Dt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Ot=new Dt(function(){return new Mt},function(t){t.reset()});function Nt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mt(){this.next=this.b=this.a=null}function Rt(t){a.setTimeout(function(){throw t},0)}function Lt(t,e){At||function(){var t=a.Promise.resolve(void 0);At=function(){t.then(Bt)}}(),Pt||(At(),Pt=!0),Ft.add(t,e)}xt.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Ft=new xt;function Bt(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function jt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=w()}function qt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Kt(t,e,n){if(\"function\"==f(t))n&&(t=b(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ut(t,e,n){E.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function Vt(t){t.U=Kt(t.b,t.c),t.f.apply(null,t.a)}function zt(t){E.call(this),this.b=t,this.a={}}S(jt,Ct),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent(\"tick\"),this.ba&&(qt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),qt(this),delete this.a},S(Ut,E),(r=Ut.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:Vt(this)},r.G=function(){Ut.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,Vt(this))},S(zt,E);var Wt=[];function Qt(t,e,n,r){h(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=gt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ht(t){L(t.a,function(t,e){this.a.hasOwnProperty(e)&&vt(t)},t),t.a={}}function Gt(){}zt.prototype.G=function(){zt.N.G.call(this),Ht(this)},zt.prototype.handleEvent=function(){throw Error(\"EventHandler.handleEvent not implemented\")};var Yt=new Ct;function Jt(t){it.call(this,\"serverreachability\",t)}function Xt(t){Yt.dispatchEvent(new Jt(Yt,t))}function Zt(t){it.call(this,\"statevent\",t)}function $t(t){Yt.dispatchEvent(new Zt(Yt,t))}function te(t){it.call(this,\"timingevent\",t)}function ee(t,e){if(\"function\"!=f(t))throw Error(\"Fn must not be null and must be a function\");return a.setTimeout(function(){t()},e)}S(Jt,it),S(Zt,it),S(te,it);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:\"complete\",wb:\"success\",Na:\"error\",Ma:\"abort\",ub:\"ready\",vb:\"readystatechange\",TIMEOUT:\"timeout\",qb:\"incrementaldata\",tb:\"progress\",lb:\"downloadprogress\",xb:\"uploadprogress\"};function ie(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var se,ue={OPEN:\"a\",ib:\"b\",Na:\"c\",rb:\"d\"};function ce(){it.call(this,\"d\")}function le(){it.call(this,\"c\")}function fe(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new zt(this),this.O=pe,t=z?125:void 0,this.P=new jt(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}S(ce,it),S(le,it),S(fe,ie),se=new fe;var pe=45e3,de={},ye={};function ge(t,e,n){t.F=1,t.f=Ke(Re(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=Ke(Re(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),we(t),t.D=Re(t.f),qe(t.D,\"t\",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ut(b(t.Ka,t,t.a),t.J)),Qt(t.I,t.a,\"readystatechange\",t.eb),e=t.h?P(t.h):{},t.l?(t.w||(t.w=\"POST\"),e[\"Content-Type\"]=\"application/x-www-form-urlencoded\",t.a.ca(t.D,t.w,t.l,e)):(t.w=\"GET\",t.a.ca(t.D,t.w,null,e)),Xt(1)}function be(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==ye){4==e&&(t.c=4,$t(14),r=!1);break}if(i==de){t.c=4,$t(15),r=!1;break}ke(t,i)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Ce(t),Te(t))}function _e(t,e){var n=t.A,r=e.indexOf(\"\\n\",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.A=r+n,e))}function we(t){t.R=w()+t.O,Se(t,t.O)}function Se(t,e){if(null!=t.i)throw Error(\"WatchDog timer not null\");t.i=ee(b(t.bb,t),e)}function Ee(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Te(t){t.g.Da()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&\"function\"==typeof e.la&&e.la(),t.B=null,qt(t.P),Ht(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function ke(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))C(t,e,void 0);else{if(t.K&&\"function\"==typeof t.K)var n=t.K();else if(t.C&&\"function\"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&\"function\"==typeof t.C)return t.C();if(s(t))return t.split(\"\");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function De(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof De)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Oe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Oe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Ln(this.a,\"X-HTTP-Initial-Response\");if(a&&!D(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,$t(12),Ce(this),Te(this);break t}this.s=!0,ke(this,s)}this.H?(be(this,e,o),z&&this.b&&3==e&&(Qt(this.I,this.P,\"tick\",this.cb),this.P.start())):ke(this,o),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,we(this)))}else 400==i&&0<o.indexOf(\"Unknown SID\")?(this.c=3,$t(12)):(this.c=0,$t(13)),Ce(this),Te(this)}}}catch(u){}},r.cb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),be(this,t,e),this.b&&4!=t&&we(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),$t(17)),Ce(this),this.c=2,Te(this)):Se(this,this.R-t)},(r=De.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Oe(this.b,t)?this.b[t]:e},r.set=function(t,e){Oe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:\\/?#.]+):)?(?:\\/\\/(?:([^\\/?#]*)@)?([^\\/#?]*?)(?::([0-9]+))?(?=[\\/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function Me(t,e){var n;this.b=this.j=this.f=\"\",this.i=null,this.g=this.a=\"\",this.h=!1,t instanceof Me?(this.h=void 0!==e?e:t.h,Le(this,t.f),this.j=t.j,Pe(this,t.b),Fe(this,t.i),this.a=t.a,Be(this,en(t.c)),this.g=t.g):t&&(n=String(t).match(Ne))?(this.h=!!e,Le(this,n[1]||\"\",!0),this.j=Ue(n[2]||\"\"),Pe(this,n[3]||\"\",!0),Fe(this,n[4]),this.a=Ue(n[5]||\"\",!0),Be(this,n[6]||\"\",!0),this.g=Ue(n[7]||\"\")):(this.h=!!e,this.c=new Je(null,this.h))}function Re(t){return new Me(t)}function Le(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,\"\"))}function Pe(t,e,n){t.b=n?Ue(e,!0):e}function Fe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error(\"Bad port number \"+e);t.i=e}else t.i=null}function Be(t,e,n){e instanceof Je?(t.c=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),tn(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=Ve(e,Ge)),t.c=new Je(e,t.h))}function je(t,e,n){t.c.set(e,n)}function qe(t,e,n){h(n)||(n=[String(n)]),tn(t.c,e,n)}function Ke(t){return je(t,\"zx\",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function Ve(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),t):null}function ze(t){return\"%\"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Me.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,We,!0),\":\");var n=this.b;return(n||\"file\"==e)&&(t.push(\"//\"),(e=this.j)&&t.push(Ve(e,We,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),null!=(n=this.i)&&t.push(\":\",String(n))),(n=this.a)&&(this.b&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(Ve(n,\"/\"==n.charAt(0)?He:Qe,!0))),(n=this.c.toString())&&t.push(\"?\",n),(n=this.g)&&t.push(\"#\",Ve(n,Ye)),t.join(\"\")},Me.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Le(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Pe(e,t.b):n=null!=t.i;var r=t.a;if(n)Fe(e,t.i);else if(n=!!t.a){if(\"/\"!=r.charAt(0))if(this.b&&!this.a)r=\"/\"+r;else{var i=e.a.lastIndexOf(\"/\");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(\"..\"==(i=r)||\".\"==i)r=\"\";else if(O(i,\"./\")||O(i,\"/.\")){r=0==i.lastIndexOf(\"/\",0),i=i.split(\"/\");for(var o=[],a=0;a<i.length;){var s=i[a++];\".\"==s?r&&a==i.length&&o.push(\"\"):\"..\"==s?((1<o.length||1==o.length&&\"\"!=o[0])&&o.pop(),r&&a==i.length&&o.push(\"\")):(o.push(s),r=!0)}r=o.join(\"/\")}else r=i}return n?e.a=r:n=\"\"!==t.c.toString(),n?Be(e,en(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\\/\\?@]/g,Qe=/[#\\?:]/g,He=/[#\\?]/g,Ge=/[#\\?@]/g,Ye=/#/g;function Je(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new De,t.b=0,t.c&&function(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r=t[n].indexOf(\"=\"),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\\+/g,\" \")):\"\")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\\+/g,\" \")),n)}))}function Ze(t,e){Xe(t),e=nn(t,e),Oe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function $e(t,e){return Xe(t),e=nn(t,e),Oe(t.a.b,e)}function tn(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(nn(t,e),I(n)),t.b+=n.length)}function en(t){var e=new Je;return e.c=t.c,t.a&&(e.a=new De(t.a),e.b=t.b),e}function nn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Hn(t.a,t,!1)):($t(11),Hn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),$t(4),qe(e,\"TYPE\",\"xmlhttp\");var n=t.a.j,r=t.a.I;n&&r&&je(e,n,r),me(t.b,e,!1,t.f)}}function an(){this.a=this.b=null}function sn(){this.a=new De}function un(t){var e=typeof t;return\"object\"==e&&t||\"function\"==e?\"o\"+(t[y]||(t[y]=++g)):e.charAt(0)+t}function cn(t,e){this.b=t,this.a=e}function ln(t){this.g=t||fn,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType(\"navigation\")).length&&(\"hq\"==t[0].nextHopProtocol||\"h2\"==t[0].nextHopProtocol):t=!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Je.prototype).add=function(t,e){Xe(this),this.c=null,t=nn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Xe(this),this.a.forEach(function(n,r){C(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Xe(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Xe(this);var e=[];if(s(t))$e(this,t)&&(e=k(e,this.a.get(nn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return Xe(this),this.c=null,$e(this,t=nn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;\"\"!==r[o]&&(a+=\"=\"+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join(\"&\")},S(function(){},function(){}),(r=rn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Ln(t,\"X-Client-Wire-Protocol\");this.l=n||null,this.a.j&&(t=Ln(t,\"X-HTTP-Session-Id\"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Jn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Jn(e,2)}else 1==this.M&&(this.g?$t(6):\"11111\"==e?($t(5),this.g=!0,(!U||10<=Number(X))&&(this.c=200,this.b.cancel(),$t(11),Hn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?($t(11),Hn(this.a,this,!0)):($t(10),Hn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Jn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(un(t),t)},sn.prototype.C=function(){return this.a.C()};var fn=10;function hn(t,e){!t.a&&(O(e,\"spdy\")||O(e,\"quic\")||O(e,\"h2\"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function pn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function yn(t,e){return t.b?t=t.b==e:t.a?(e=un(e),t=Oe(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=un(e),n=Oe(t.a.a.b,n)),n&&xe(t.a.a,un(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return C(t.a.C(),function(t){e=e.concat(t.j)}),e}return I(t.c)}function bn(){}function _n(){this.a=new bn}function wn(t,e,n){var r=n||\"\";try{Ie(t,function(t,n){var i=t;d(t)&&(i=It(t)),e.push(r+n+\"=\"+encodeURIComponent(i))})}catch(i){throw e.push(r+\"type=\"+encodeURIComponent(\"_badmap\")),i}}function Sn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){var t;this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},bn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},bn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var En=a.JSON.parse;function Tn(t){Ct.call(this),this.headers=new De,this.H=t||null,this.b=!1,this.s=this.a=null,this.A=\"\",this.h=0,this.f=\"\",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}S(Tn,Ct);var Cn=\"\",kn=/^https?$/i,In=[\"POST\",\"PUT\"];function Dn(t){return\"content-type\"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Nn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent(\"complete\"),t.dispatchEvent(\"error\"))}function On(t){if(t.b&&\"undefined\"!=typeof o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))Kt(t.Fa,0,t);else if(t.dispatchEvent(\"readystatechange\"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(Ne)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!kn.test(s?s.toLowerCase():\"\")}e=i}e?(t.dispatchEvent(\"complete\"),t.dispatchEvent(\"success\")):(t.h=6,t.f=t.za()+\" [\"+t.T()+\"]\",An(t))}finally{Nn(t)}}}function Nn(t,e){if(t.a){Mn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent(\"ready\");try{n.onreadystatechange=r}catch(i){}}}function Mn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Ln(t,e){return t.a?t.a.getResponseHeader(e):null}function Pn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e=\"\";return L(t,function(t,n){e+=n,e+=\":\",e+=t,e+=\"\\r\\n\"}),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?\"=\"+encodeURIComponent(String(n)):\"\"){if(0>(n=t.indexOf(\"#\"))&&(n=t.length),0>(r=t.indexOf(\"?\"))||r>n){r=n;var i=\"\"}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+\"&\"+e:e:n,t=t[0]+(t[1]?\"?\"+t[1]:\"\")+t[2]}return t}return je(t,e,n),t}function Fn(t){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c(\"internalChannelParams.failFast\",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c(\"internalChannelParams.baseRetryDelayMs\",t)||5e3,this.Sa=c(\"internalChannelParams.retryDelaySeedMs\",t)||1e4,this.Qa=c(\"internalChannelParams.forwardChannelMaxRetries\",t)||2,this.qa=c(\"internalChannelParams.forwardChannelRequestTimeoutMs\",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H=\"\",this.b=new ln(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(t){if(jn(t),3==t.u){var e=t.P++,n=Re(t.B);je(n,\"SID\",t.H),je(n,\"RID\",e),je(n,\"TYPE\",\"terminate\"),Vn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ke(Re(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),\"\")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),we(e)}Xn(t)}function jn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function qn(t,e){t.f.push(new cn(t.Ra++,e)),3==t.u&&Kn(t)}function Kn(t){pn(t.b)||t.h||(t.h=!0,Lt(t.Ia,t),t.A=0)}function Un(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);je(r,\"SID\",t.H),je(r,\"RID\",n),je(r,\"AID\",t.O),Vn(t,r),t.g&&t.i&&Pn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function Vn(t,e){t.c&&Ie({},function(t,n){je(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=[\"count=\"+n];-1==o?0<n?(o=i[0].b,a.push(\"ofs=\"+o)):o=0:a.push(\"ofs=\"+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{wn(l,a,\"req\"+c+\"_\")}catch(f){r&&r(l)}}if(s){r=a.join(\"&\");break t}}return t=t.f.splice(0,n),e.j=t,r}function Wn(t){t.a||t.l||(t.S=1,Lt(t.Ha,t),t.v=0)}function Qn(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ee(b(t.Ha,t),Yn(t,t.v)),t.v++,!0)}function Hn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),Kn(t)}function Gn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Yn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Jn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Me(\"//www.google.com/images/cleardot.gif\"),a.location&&\"http\"==a.location.protocol||Le(n,\"https\"),Ke(n)),function(t,e){var n=new Gt;if(a.Image){var r=new Image;r.onload=_(Sn,n,r,\"TestLoadImage: loaded\",!0,e),r.onerror=_(Sn,n,r,\"TestLoadImage: error\",!1,e),r.onabort=_(Sn,n,r,\"TestLoadImage: abort\",!1,e),r.ontimeout=_(Sn,n,r,\"TestLoadImage: timeout\",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Xn(t),jn(t)}function Xn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Me?Re(t):new Me(t,void 0)}(n);if(\"\"!=r.b)e&&Pe(r,e+\".\"+r.b),Fe(r,r.i);else{var i,o=a.location;i=e?e+\".\"+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Me(null,void 0);return t&&Le(i,t),e&&Pe(i,e),n&&Fe(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&L(t.V,function(t,e){je(r,e,t)}),e=t.j,n=t.I,e&&n&&je(r,e,n),je(r,\"VER\",t.wa),Vn(t,r),r}function $n(){}function tr(){if(U&&!(10<=Number(X)))throw Error(\"Environmental error: no available transport.\")}function er(t,e){Ct.call(this),this.a=new Fn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf(\"/\",0)?e=i:((r=\"\"==e)||(r=0<=(r=e.length-1)&&e.indexOf(\"/\",r)==r),e+=r?i:\"/\"+i)}return e}(this.g,\"test\"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t[\"X-Client-Protocol\"]=\"webchannel\":t={\"X-Client-Protocol\":\"webchannel\"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t[\"X-WebChannel-Content-Type\"]=e.messageContentType:t={\"X-WebChannel-Content-Type\":e.messageContentType}),e&&e.xa&&(t?t[\"X-WebChannel-Client-Profile\"]=e.xa:t={\"X-WebChannel-Client-Profile\":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ir(this)}function nr(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rr(){le.call(this),this.status=1}function ir(t){this.a=t}(r=Tn.prototype).ca=function(t,e,n,r){if(this.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.A+\"; newUri=\"+t);e=e?e.toUpperCase():\"GET\",this.A=t,this.f=\"\",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(se),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void xn(this,o)}t=n||\"\";var i=new De(this.headers);r&&Ie(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Dn,n=t.length,r=s(t)?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=T(In,e))||r||n||i.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),\"withCredentials\"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Mn(this),0<this.o&&((this.D=function(t){return U&&$(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Kt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xn(this,o)}},r.Ca=function(){\"undefined\"!=typeof o&&this.a&&(this.f=\"Timed out after \"+this.o+\"ms, aborting\",this.h=8,this.dispatchEvent(\"timeout\"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),Tn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(t){return-1}},r.za=function(){try{return 2<Rn(this)?this.a.statusText:\"\"}catch(t){return\"\"}},r.aa=function(){try{return this.a?this.a.responseText:\"\"}catch(t){return\"\"}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=Fn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?B(r=P(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o=\"__data__\"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),je(i=Re(this.B),\"RID\",t),je(i,\"CVER\",22),this.o&&this.j&&je(i,\"X-HTTP-Session-Id\",this.j),Vn(this,i),this.g&&r&&Pn(i,this.g,r),gn(this.b,n),this.W?(je(i,\"$req\",e),je(i,\"SID\",\"null\"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?Un(this,t):0==this.f.length||pn(this.b)||Un(this))},r.Ha=function(){this.l=null,this.a=new he(this,\"rpc\",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);je(t,\"RID\",\"rpc\"),je(t,\"SID\",this.H),je(t,\"CI\",this.ia?\"0\":\"1\"),je(t,\"AID\",this.O),Vn(this,t),je(t,\"TYPE\",\"xmlhttp\"),this.g&&this.i&&Pn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||yn(this.b,t)))if(this.m=t.o,!t.s&&yn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(h(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Qn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Jn(this,11)}else if((t.s||this.a==t)&&Gn(this),!D(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if(\"c\"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Ln(r,\"X-Client-Wire-Protocol\"))&&hn(this.b,i),this.j&&(r=Ln(r,\"X-HTTP-Session-Id\")))&&(this.I=r,je(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),we(r)),this.a=r):Wn(this),0<this.f.length&&Kn(this)}else\"stop\"!=r[0]&&\"close\"!=r[0]||Jn(this,7);else 3==this.u&&(\"stop\"==r[0]||\"close\"==r[0]?\"stop\"==r[0]?Jn(this,7):Bn(this):\"noop\"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Qn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!yn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Kn(this)):Wn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa))&&(t.h=ee(b(t.Ia,t,e),Yn(t,t.A)),t.A++,!0))}(this,t)||2==n&&Qn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Jn(this,5);break;case 4:Jn(this,10);break;case 3:Jn(this,6);break;default:Jn(this,2)}}},r.fb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error(\"Can't create secondary domain capable XhrIo object.\");return(t=new Tn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=$n.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},tr.prototype.a=function(t,e){return new er(t,e)},S(er,Ct),(r=er.prototype).addEventListener=function(t,e,n,r){er.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){er.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new rn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Pn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,on(t)):(qe(e,\"MODE\",\"init\"),!t.a.o&&t.a.j&&qe(e,\"X-HTTP-Session-Id\",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Bn(this.a)},r.Xa=function(t){if(s(t)){var e={};e.__data__=t,qn(this.a,e)}else this.h?((e={}).__data__=It(t),qn(this.a,e)):qn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,er.N.G.call(this)},S(nr,ce),S(rr,le),S(ir,$n),ir.prototype.va=function(){this.a.dispatchEvent(\"a\")},ir.prototype.ua=function(t){this.a.dispatchEvent(new nr(t))},ir.prototype.ta=function(t){this.a.dispatchEvent(new rr(t))},ir.prototype.sa=function(){this.a.dispatchEvent(\"b\")};var or=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},tr);tr.prototype.createWebChannel=tr.prototype.a,er.prototype.send=er.prototype.Xa,er.prototype.open=er.prototype.Wa,er.prototype.close=er.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE=\"complete\",ae.EventType=ue,ue.OPEN=\"a\",ue.CLOSE=\"b\",ue.ERROR=\"c\",ue.MESSAGE=\"d\",Ct.prototype.listen=Ct.prototype.Aa,Tn.prototype.listenOnce=Tn.prototype.Ba,Tn.prototype.getLastError=Tn.prototype.Ya,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getStatusText=Tn.prototype.za,Tn.prototype.getResponseJson=Tn.prototype.Va,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:ne,EventType:re,WebChannel:ae,XhrIo:Tn},sr=ar.createWebChannelTransport,ur=ar.ErrorCode,cr=ar.EventType,lr=ar.WebChannel,fr=ar.XhrIo;e.default=ar}.call(this,n(\"yLpj\"))},xmmm:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.createChangeEmitter=function(){var t=[],e=t;function n(){e===t&&(e=t.slice())}return{listen:function(t){if(\"function\"!==typeof t)throw new Error(\"Expected listener to be a function.\");var r=!0;return n(),e.push(t),function(){if(r){r=!1,n();var i=e.indexOf(t);e.splice(i,1)}}},emit:function(){for(var n=t=e,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},xocI:function(t,e,n){\"use strict\";var r=n(\"CYTE\"),i=n(\"2NuI\"),o=r.isBrowser(\"IE <= 9\");t.exports=function(t){var e,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((e=document.implementation.createHTMLDocument(\"foo\")).documentElement||i(!1),e.documentElement.innerHTML=t,n=e.getElementsByTagName(\"body\")[0]),n}},y0lr:function(t,e,n){\"use strict\";var r=n(\"QDEm\"),i=n(\"CJXx\"),o=n(\"Iq8E\"),a=n(\"JPcv\"),s=n(\"q1tI\"),u=n(\"YVIB\"),c=(a.List,function(t){var e,n;function a(){return t.apply(this,arguments)||this}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.prototype.render=function(){var t=this.props,e=t.block,n=t.contentState,a=t.customStyleFn,c=t.customStyleMap,l=t.decorator,f=t.direction,h=t.forceSelection,p=t.hasSelection,d=t.selection,y=t.tree,g=e.getKey(),m=e.getText(),v=y.size-1,b=this.props.children||y.map(function(t,u){var y=t.get(\"decoratorKey\"),b=t.get(\"leaves\"),_=b.size-1,w=b.map(function(t,n){var r=o.encode(g,u,n),l=t.get(\"start\"),f=t.get(\"end\");return s.createElement(i,{key:r,offsetKey:r,block:e,start:l,selection:p?d:null,forceSelection:h,text:m.slice(l,f),styleSet:e.getInlineStyleAt(l),customStyleMap:c,customStyleFn:a,isLast:y===v&&n===_})}).toArray();return y&&l?s.createElement(r,{block:e,children:w,contentState:n,decorator:l,decoratorKey:y,direction:f,leafSet:t,text:m,key:u}):w}).toArray();return s.createElement(\"div\",{\"data-offset-key\":o.encode(g,0,0),className:u({\"public/DraftStyleDefault/block\":!0,\"public/DraftStyleDefault/ltr\":\"LTR\"===f,\"public/DraftStyleDefault/rtl\":\"RTL\"===f})},b)},a}(s.Component));t.exports=c},y8fO:function(t,e){t.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/},yxyD:function(t,e,n){\"use strict\";var r=n(\"jLRO\"),i=n(\"Taje\"),o=function(t,e){return t===e},a=function(t){return!!t},s=[];t.exports=function(t){var e=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),n=e.flatten().toSet().map(function(n){return function(t,e,n){var s=[],u=e.map(function(t){return t.has(n)}).toList();return i(u,o,a,function(e,i){var o=t.getText();s.push({offset:r.strlen(o.slice(0,e)),length:r.strlen(o.slice(e,i)),style:n})}),s}(t,e,n)});return Array.prototype.concat.apply(s,n.toJS())}},zORg:function(t,e,n){\"use strict\";var r=n(\"GyOf\");t.exports=function t(e){if(r(e)){var n=e,i=n.getAttribute(\"data-offset-key\");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=t(n.childNodes[o]);if(a)return a}}return null}},zlY5:function(t,e,n){\"use strict\";var r=n(\"158f\");t.exports=function(t){var e=r(t),n=0,i=0,o=0,a=0;if(e.length){if(e.length>1&&0===e[0].width){var s=e[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var u=e[0];n=u.top,i=u.right,o=u.bottom,a=u.left}for(var c=1;c<e.length;c++){var l=e[c];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},\"zxN+\":function(t,e,n){\"use strict\";var r=n(\"zlY5\");t.exports=function(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,u=i.left;return 0===o&&0===a&&0===s&&0===u?null:i}}},[[\"6K5T\",0,1]]]);"}